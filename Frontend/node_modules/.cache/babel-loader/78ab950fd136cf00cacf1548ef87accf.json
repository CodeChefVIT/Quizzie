{"ast":null,"code":"import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport invariant from 'tiny-invariant';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\n\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\n\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nfunction shouldRecover(error) {\n  return error.message.indexOf('Invariant failed') !== -1;\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.onError = void 0;\n\n    _this.setOnError = function (fn) {\n      _this.onError = fn;\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      if (_this.onError) {\n        _this.onError();\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\n      }\n\n      if (shouldRecover(error)) {\n        _this.setState({});\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (!shouldRecover(error)) {\n      throw error;\n    }\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setOnError);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar origin = {\n  x: 0,\n  y: 0\n};\n\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\n\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\n\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\n\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\n\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\n\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\n\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\n\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n};\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\n\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\n\nvar scrollDroppable = function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n};\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\n\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\n\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\n\nvar isPositionInFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n};\n\nvar getDroppableOver = function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n};\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n};\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n};\n\nvar didStartDisplaced = function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n};\n\nvar getCombinedItemDisplacement = function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n};\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n};\n\nvar isPartiallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\n\nvar isTotallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: onLift.displacedBy.point.x,\n    bottom: 0,\n    left: 0\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n};\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n};\n\nvar getHomeLocation = function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\n\nvar getHomeOnLift = function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n};\n\nvar getDragPositions = function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n};\n\nvar offsetDraggable = function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n};\n\nvar adjustExistingForAdditionsAndRemovals = function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n};\n\nvar adjustAdditionsForScrollChanges = function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\n\nvar adjustAdditionsForCollapsedHome = function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n};\n\nvar updateDraggables = function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n};\n\nvar getMaxScroll = function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\n\nvar getDroppableDimension = function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\n\nvar isHomeOf = function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n};\n\nvar withNoAnimatedDisplacement = function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n};\n\nvar patchDroppableMap = function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\n\nvar timingsKey = 'Processing dynamic changes';\n\nvar publishWhileDragging = function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n};\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n};\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\n\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar fromCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar moveToNextIndex = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n};\n\nvar whenCombining = function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n};\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\n\nvar withDroppableDisplacement = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n};\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\n\nvar scrollViewport = function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\n\nvar withNewDisplacement = function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n};\n\nvar speculativelyIncrease = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar withViewportDisplacement = function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\n\nvar getClientFromPageBorderBoxCenter = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\n\nvar isTotallyVisibleInNewLocation = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\n\nvar moveToNextPlace = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\n\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\n\nvar moveToNewDroppable = function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar moveCrossAxis = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n};\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n};\n\nvar update = function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n};\n\nvar recompute = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar getClientBorderBoxCenter = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\n\nvar refreshSnap = function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\n\nvar patchDimensionMap = function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\n\nvar reducer = function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return _extends({}, idle, {\n      shouldFlush: action.payload.shouldFlush\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n};\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\n\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\n\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\n\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\n\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\n\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\n\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\n\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\n\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\n\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\n\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\n\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\n\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\n\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\n\nvar clean$1 = function clean(args) {\n  if (args === void 0) {\n    args = {\n      shouldFlush: false\n    };\n  }\n\n  return {\n    type: 'CLEAN',\n    payload: args\n  };\n};\n\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\n\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\n\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\n\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\n\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\n\nvar style = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\n\nvar getDropDuration = function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\n\nvar getNewHomeClientOffset = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n};\n\nvar getDropImpact = function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n};\n\nvar drop$1 = function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar getExpiringAnnounce = function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n};\n\nvar getAsyncMarshal = function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n};\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\n\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\n\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\n\nvar responders = function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\n\nvar dropAnimationFinish = function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n};\n\nvar dimensionMarshalStopper = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          autoScroller.cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n};\n\nvar pendingDrop = function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nvar createStore = function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\n};\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\n\nvar createPublisher = function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n};\n\nvar getWindowScroll = function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar getDocumentElement = function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\n\nvar getMaxWindowScroll = function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\n\nvar getViewport = function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\n\nvar getInitialPublish = function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\n    var existing = entries.draggables[published.id];\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\n\n    if (existing.descriptor === published) {\n      delete entries.draggables[published.id];\n    } else {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\n    }\n\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\n\nvar canStartDrag = function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n};\n\nvar scrollWindow = function (change) {\n  window.scrollBy(change.x, change.y);\n};\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\n\nvar getPercentage = function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\n\nvar minScroll = 1;\n\nvar getValueFromDistance = function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\n\nvar dampenValueByTime = function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\n\nvar getValue = function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\n\nvar getScrollOnAxis = function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\n\nvar adjustForSizeLimits = function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\n\nvar getScroll = function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n};\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\n\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\n\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\n\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\n\nvar getDroppableScrollChange = function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\n\nvar scroll$1 = function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\n\nvar createFluidScroller = function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n};\n\nvar createJumpScroller = function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n};\n\nvar createAutoScroller = function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\n\nvar getStyles$1 = function (uniqueContext) {\n  var getSelector = makeGetSelector(uniqueContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(uniqueId) {\n  var uniqueContext = useMemo(function () {\n    return \"\" + uniqueId;\n  }, [uniqueId]);\n  var styles = useMemo(function () {\n    return getStyles$1(uniqueContext);\n  }, [uniqueContext]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl();\n    var dynamic = createStyleEl();\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix + \"-always\", uniqueContext);\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting,\n      styleContext: uniqueContext\n    };\n  }, [dragging, dropping, resting, uniqueContext]);\n  return marshal;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(uniqueId) {\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\n};\n\nfunction useAnnouncer(uniqueId) {\n  var id = useMemo(function () {\n    return getId(uniqueId);\n  }, [uniqueId]);\n  var ref = useRef(null);\n  useEffect(function () {\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function () {\n      var toBeRemoved = ref.current;\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\n      getBodyElement().removeChild(toBeRemoved);\n      ref.current = null;\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar AppContext = React.createContext(null);\nvar peerDependencies = {\n  react: \"^16.8.5\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\n\nvar checkDoctype = function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\n\nfunction useStartupValidation() {\n  useEffect(function () {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var uniqueId = props.uniqueId,\n      setOnError = props.setOnError;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(uniqueId);\n  var styleMarshal = useStyleMarshal(uniqueId);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var callbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(callbacks);\n  }, [callbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var store = useMemo(function () {\n    return createStore({\n      dimensionMarshal: dimensionMarshal,\n      styleMarshal: styleMarshal,\n      announce: announce,\n      autoScroller: autoScroller,\n      getResponders: getResponders\n    });\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(clean$1({\n        shouldFlush: true\n      }));\n    }\n  }, []);\n  setOnError(tryResetStore);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      style: styleMarshal.styleContext,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed\n    };\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\n\nfunction resetServerContext() {\n  instanceCount = 0;\n}\n\nfunction DragDropContext(props) {\n  var uniqueId = useMemo(function () {\n    return instanceCount++;\n  }, []);\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\n    return React.createElement(App, _extends({\n      setOnError: setOnError,\n      uniqueId: uniqueId\n    }, props), props.children);\n  });\n}\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\n\nvar getScroll$1 = function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\n\nfunction withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n}\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppableDimensionPublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type\n    };\n  }, [args.droppableId, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n\n    if (env.closestScrollable) {\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(env.closestScrollable);\n      }\n    }\n\n    return dimension;\n  }, [descriptor, onClosestScroll, previousRef]);\n  var recollect = useCallback(function (options) {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    var previous = previousRef.current;\n\n    var execute = function execute() {\n      return getDimension({\n        ref: dragging.ref,\n        descriptor: dragging.descriptor,\n        env: dragging.env,\n        windowScroll: origin,\n        direction: previous.direction,\n        isDropDisabled: previous.isDropDisabled,\n        isCombineEnabled: previous.isCombineEnabled,\n        shouldClipSubject: !previous.ignoreContainerClipping\n      });\n    };\n\n    if (!options.withoutPlaceholder) {\n      return execute();\n    }\n\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\n  }, [previousRef]);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      recollect: recollect,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = descriptor;\n    marshal.registerDroppable(descriptor, callbacks);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      marshal.unregisterDroppable(descriptor);\n    };\n  }, [callbacks, descriptor, dragStopped, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: transitions.placeholder\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      styleContext = props.styleContext;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-react-beautiful-dnd-placeholder': styleContext,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\nvar DroppableContext = React.createContext(null);\n\nvar getWindowFromEl = function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkPlaceholderRef(props, placeholderEl) {\n  if (!props.placeholder) {\n    return;\n  }\n\n  if (placeholderEl) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\n}\n\nfunction useValidation(_ref) {\n  var props = _ref.props,\n      getDroppableRef = _ref.getDroppableRef,\n      getPlaceholderRef = _ref.getPlaceholderRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n      checkIsValidInnerRef(getDroppableRef());\n      checkPlaceholderRef(props, getPlaceholderRef());\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var styleContext = appContext.style,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      updateViewportMaxScroll = props.updateViewportMaxScroll;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppableDimensionPublisher({\n    droppableId: droppableId,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      styleContext: styleContext,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': styleContext\n      }\n    };\n  }, [placeholder, setDroppableRef, styleContext]);\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type\n    };\n  }, [droppableId, type]);\n  useValidation({\n    props: props,\n    getDroppableRef: function getDroppableRef() {\n      return droppableRef.current;\n    },\n    getPlaceholderRef: function getPlaceholderRef() {\n      return placeholderRef.current;\n    }\n  });\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot));\n}\n\nvar isStrictEqual = function (a, b) {\n  return a === b;\n};\n\nvar whatIsDraggedOverFromResult = function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n};\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\n      return idleWithoutAnimation;\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar createEventMarshal = function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n};\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar createScheduler = function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n};\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar sharedOptions = {\n  capture: true\n};\n\nvar createPostDragEventPreventer = function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n};\n\nvar sloppyClickThreshold = 5;\n\nvar isSloppyClickThresholdExceeded = function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n};\n\nvar _preventedKeys;\n\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\n\nvar preventStandardKeyEvents = function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\n\nvar primaryButton = 0;\n\nvar noop$1 = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\n\nfunction useMouseSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$1);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var postDragEventPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    var shouldBlockClick = isDraggingRef.current;\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    pendingRef.current = null;\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    pendingRef.current = null;\n    isDraggingRef.current = true;\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'mousemove',\n      fn: function fn(event) {\n        var button = event.button,\n            clientX = event.clientX,\n            clientY = event.clientY;\n\n        if (button !== primaryButton) {\n          return;\n        }\n\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n\n        if (isDraggingRef.current) {\n          event.preventDefault();\n          schedule.move(point);\n          return;\n        }\n\n        var pending = pendingRef.current;\n\n        if (!pending) {\n          stop();\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n        }\n\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\n          return;\n        }\n\n        event.preventDefault();\n        startDragging();\n      }\n    }, {\n      eventName: 'mouseup',\n      fn: function fn(event) {\n        var wasDragging = isDraggingRef.current;\n        stop();\n\n        if (wasDragging) {\n          event.preventDefault();\n          callbacks.onDrop();\n        }\n      }\n    }, {\n      eventName: 'mousedown',\n      fn: function fn(event) {\n        if (isDraggingRef.current) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n          cancel();\n          return;\n        }\n\n        preventStandardKeyEvents(event);\n      }\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'webkitmouseforcechanged',\n      fn: function fn(event) {\n        if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n          process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n          return;\n        }\n\n        var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n        var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (isForcePressing) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow, getShouldRespectForcePress]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startPendingDrag = useCallback(function (point) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    pendingRef.current = point;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, stop]);\n  var onMouseDown = useCallback(function (event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\n  return onMouseDown;\n}\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = function (event, canDragInteractiveElements) {\n  if (canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n};\n\nvar getBorderBoxCenterPosition = function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\n\nvar _scrollJumpKeys;\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction noop$2() {}\n\nfunction useKeyboardSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd,\n      getDraggableRef = args.getDraggableRef;\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$2);\n  var getIsDragging = useCallback(function () {\n    return isDraggingRef.current;\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsDragging]);\n  var stop = useCallback(function () {\n    if (!getIsDragging()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsDragging, onCaptureEnd, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\n    return [{\n      eventName: 'mousedown',\n      fn: cancel\n    }, {\n      eventName: 'mouseup',\n      fn: cancel\n    }, {\n      eventName: 'click',\n      fn: cancel\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'wheel',\n      fn: cancel,\n      options: {\n        passive: true\n      }\n    }, {\n      eventName: 'scroll',\n      options: {\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        callbacks.onWindowScroll();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n  }, [callbacks, cancel, getIsDragging, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var ref = getDraggableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    onCaptureStart(stop);\n    bindWindowEvents();\n    var center = getBorderBoxCenterPosition(ref);\n    callbacks.onLift({\n      clientSelection: center,\n      movementMode: 'SNAP'\n    });\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\n  var onKeyDown = useCallback(function (event) {\n    if (!getIsDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging();\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stop();\n      callbacks.onDrop();\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\n  return onKeyDown;\n}\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$3 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$3,\n    releaseTouchMove: noop$3\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nfunction useTouchSensor(args) {\n  var callbacks = args.callbacks,\n      getWindow = args.getWindow,\n      canStartCapturing = args.canStartCapturing,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var hasMovedRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$3);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var postDragClickPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    hasMovedRef.current = false;\n    onCaptureEnd();\n\n    if (isDraggingRef.current) {\n      postDragClickPreventer.preventNext();\n      isDraggingRef.current = false;\n      return;\n    }\n\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\n    clearTimeout(pending.longPressTimerId);\n    pendingRef.current = null;\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'touchmove',\n      options: {\n        passive: false,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        if (!hasMovedRef.current) {\n          hasMovedRef.current = true;\n        }\n\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        event.preventDefault();\n        schedule.move(point);\n      }\n    }, {\n      eventName: 'touchend',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        stop();\n        callbacks.onDrop();\n      }\n    }, {\n      eventName: 'touchcancel',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        cancel();\n      }\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'orientationchange',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn() {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'contextmenu',\n      fn: function fn(event) {\n        event.preventDefault();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          cancel();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'touchforcechange',\n      fn: function fn(event) {\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (hasMovedRef.current) {\n          event.preventDefault();\n          return;\n        }\n\n        var touch = event.touches[0];\n\n        if (touch.force >= forcePressThreshold) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    pendingRef.current = null;\n    hasMovedRef.current = false;\n    callbacks.onLift({\n      clientSelection: pending.point,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var startPendingDrag = useCallback(function (event) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    var pending = {\n      point: point,\n      longPressTimerId: longPressTimerId\n    };\n    pendingRef.current = pending;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  return onTouchStart;\n}\n\nfunction isSvgElement(el) {\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nfunction useValidation$1(_ref) {\n  var isEnabled = _ref.isEnabled,\n      getDraggableRef = _ref.getDraggableRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!isEnabled) {\n        return;\n      }\n\n      var draggableRef = getDraggableRef();\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\n      getDragHandleRef(draggableRef);\n    }\n  }, [getDraggableRef, isEnabled]);\n}\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction noop$4() {}\n\nfunction useFocusRetainer(args) {\n  var isFocusedRef = useRef(false);\n  var lastArgsRef = usePrevious(args);\n  var getDraggableRef = args.getDraggableRef;\n  var onFocus = useCallback(function () {\n    isFocusedRef.current = true;\n  }, []);\n  var onBlur = useCallback(function () {\n    isFocusedRef.current = false;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    var first = lastArgsRef.current;\n\n    if (!first.isEnabled) {\n      return noop$4;\n    }\n\n    var draggable = getDraggableRef();\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\n    var dragHandle = getDragHandleRef(draggable);\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\n    return function () {\n      var last = lastArgsRef.current;\n\n      var shouldRetainFocus = function () {\n        if (!last.isEnabled) {\n          return false;\n        }\n\n        if (!isFocusedRef.current) {\n          return false;\n        }\n\n        return last.isDragging || last.isDropAnimating;\n      }();\n\n      if (shouldRetainFocus) {\n        retainer.retain(last.draggableId);\n      }\n    };\n  }, [getDraggableRef, lastArgsRef]);\n  var lastDraggableRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    if (!lastDraggableRef.current) {\n      return;\n    }\n\n    var draggableRef = getDraggableRef();\n\n    if (!draggableRef) {\n      return;\n    }\n\n    if (draggableRef === lastDraggableRef.current) {\n      return;\n    }\n\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\n      getDragHandleRef(draggableRef).focus();\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    lastDraggableRef.current = getDraggableRef();\n  });\n  return {\n    onBlur: onBlur,\n    onFocus: onFocus\n  };\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction useDragHandle(args) {\n  var capturingRef = useRef(null);\n  var onCaptureStart = useCallback(function (abort) {\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\n    capturingRef.current = {\n      abort: abort\n    };\n  }, []);\n  var onCaptureEnd = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\n    capturingRef.current = null;\n  }, []);\n  var abortCapture = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\n    capturingRef.current.abort();\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      canLift = _useRequiredContext.canLift,\n      styleContext = _useRequiredContext.style;\n\n  var isDragging = args.isDragging,\n      isEnabled = args.isEnabled,\n      draggableId = args.draggableId,\n      callbacks = args.callbacks,\n      getDraggableRef = args.getDraggableRef,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      canDragInteractiveElements = args.canDragInteractiveElements;\n  var lastArgsRef = usePrevious(args);\n  useValidation$1({\n    isEnabled: isEnabled,\n    getDraggableRef: getDraggableRef\n  });\n  var getWindow = useCallback(function () {\n    return getWindowFromEl(getDraggableRef());\n  }, [getDraggableRef]);\n  var canStartCapturing = useCallback(function (event) {\n    if (!isEnabled) {\n      return false;\n    }\n\n    if (capturingRef.current) {\n      return false;\n    }\n\n    if (!canLift(draggableId)) {\n      return false;\n    }\n\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\n\n  var _useFocusRetainer = useFocusRetainer(args),\n      onBlur = _useFocusRetainer.onBlur,\n      onFocus = _useFocusRetainer.onFocus;\n\n  var mouseArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\n  var onMouseDown = useMouseSensor(mouseArgs);\n  var keyboardArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\n  var touchArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      getShouldRespectForcePress: getShouldRespectForcePress,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\n  var onTouchStart = useTouchSensor(touchArgs);\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      if (!capturingRef.current) {\n        return;\n      }\n\n      abortCapture();\n\n      if (lastArgsRef.current.isDragging) {\n        lastArgsRef.current.callbacks.onCancel();\n      }\n    };\n  }, []);\n\n  if (!isEnabled && capturingRef.current) {\n    abortCapture();\n\n    if (lastArgsRef.current.isDragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n      callbacks.onCancel();\n    }\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (!isDragging && capturingRef.current) {\n      abortCapture();\n    }\n  }, [abortCapture, isDragging]);\n  var props = useMemo(function () {\n    if (!isEnabled) {\n      return null;\n    }\n\n    return {\n      onMouseDown: onMouseDown,\n      onKeyDown: onKeyDown,\n      onTouchStart: onTouchStart,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0,\n      'data-react-beautiful-dnd-drag-handle': styleContext,\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    };\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\n  return props;\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggableDimensionPublisher(args) {\n  var draggableId = args.draggableId,\n      index = args.index,\n      getDraggableRef = args.getDraggableRef;\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var droppableContext = useRequiredContext(DroppableContext);\n  var droppableId = droppableContext.droppableId,\n      type = droppableContext.type;\n  var descriptor = useMemo(function () {\n    var result = {\n      id: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index\n    };\n    return result;\n  }, [draggableId, droppableId, index, type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var makeDimension = useCallback(function (windowScroll) {\n    var latest = publishedDescriptorRef.current;\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(latest, el, windowScroll);\n  }, [getDraggableRef]);\n  useIsomorphicLayoutEffect(function () {\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\n    return function () {\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\n    };\n  }, [makeDimension, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (publishedDescriptorRef.current === descriptor) {\n      return;\n    }\n\n    var previous = publishedDescriptorRef.current;\n    publishedDescriptorRef.current = descriptor;\n    marshal.updateDraggable(previous, descriptor, makeDimension);\n  }, [descriptor, makeDimension, marshal]);\n}\n\nfunction checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkForOutdatedProps(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\n  }\n}\n\nfunction useValidation$2(props, getRef) {\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n      checkForOutdatedProps(props);\n      checkIsValidInnerRef(getRef());\n    }\n  });\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var appContext = useRequiredContext(AppContext);\n  useValidation$2(props, getRef);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isDragDisabled = props.isDragDisabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.disableInteractiveElementBlocking,\n      index = props.index,\n      mapped = props.mapped,\n      moveUpAction = props.moveUp,\n      moveAction = props.move,\n      dropAction = props.drop,\n      moveDownAction = props.moveDown,\n      moveRightAction = props.moveRight,\n      moveLeftAction = props.moveLeft,\n      moveByWindowScrollAction = props.moveByWindowScroll,\n      liftAction = props.lift,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  var forPublisher = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      index: index,\n      getDraggableRef: getRef\n    };\n  }, [draggableId, getRef, index]);\n  useDraggableDimensionPublisher(forPublisher);\n  var onLift = useCallback(function (options) {\n    start('LIFT');\n    var el = ref.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n    var clientSelection = options.clientSelection,\n        movementMode = options.movementMode;\n    liftAction({\n      id: draggableId,\n      clientSelection: clientSelection,\n      movementMode: movementMode\n    });\n    finish('LIFT');\n  }, [draggableId, isDragDisabled, liftAction]);\n  var getShouldRespectForcePress = useCallback(function () {\n    return shouldRespectForcePress;\n  }, [shouldRespectForcePress]);\n  var callbacks = useMemo(function () {\n    return {\n      onLift: onLift,\n      onMove: function onMove(clientSelection) {\n        return moveAction({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return dropAction({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return dropAction({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: moveUpAction,\n      onMoveDown: moveDownAction,\n      onMoveRight: moveRightAction,\n      onMoveLeft: moveLeftAction,\n      onWindowScroll: function onWindowScroll() {\n        return moveByWindowScrollAction({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\n  var isDragging = mapped.type === 'DRAGGING';\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n  var dragHandleArgs = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: callbacks,\n      getDraggableRef: getRef,\n      canDragInteractiveElements: canDragInteractiveElements,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\n  var dragHandleProps = useDragHandle(dragHandleArgs);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-react-beautiful-dnd-draggable': appContext.style,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\n  return children(provided, mapped.snapshot);\n}\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForcePress: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"sources":["/Users/mac/Documents/Projects/Quizzie/Frontend/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"names":["_extends","React","useLayoutEffect","useEffect","useRef","useContext","useState","useMemo","useCallback","_inheritsLoose","invariant","createStore","createStore$1","applyMiddleware","compose","bindActionCreators","Provider","connect","getRect","expand","offset","withScroll","createBox","getBox","calculateBox","memoizeOne","_Object$values","_Object$keys","_Date$now","rafSchd","_Object$assign","_Number$isInteger","isProduction","process","env","NODE_ENV","spacesAndTabs","lineStartWithSpaces","clean","value","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","warning","_console","window","console","warn","apply","printFatalError","error","shouldRecover","indexOf","ErrorBoundary","_React$Component","_this","_len","arguments","length","args","Array","_key","call","concat","onError","setOnError","fn","onFatalError","setState","_proto","prototype","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","componentDidCatch","render","props","children","Component","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","map","executeClip","frame","subject","result","top","max","right","bottom","left","width","height","isEqual$1","first","second","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","initial","scrollDisplacement","current","records","isEnabled","isTimingsEnabled","start","key","now","performance","finish","previous","rounded","toFixed","style","textColor","symbol","log","whatIsDraggedOver","impact","merge","destination","droppableId","combine","values","findIndex","list","predicate","i","find","index","undefined","toDroppableMap","droppables","reduce","descriptor","id","toDraggableMap","draggables","toDroppableList","toDraggableList","isWithin","lowerBound","upperBound","isPositionInFrame","isWithinVertical","isWithinHorizontal","getDroppableOver","maybe","getDraggablesInsideDroppable","filter","draggable","sort","a","b","withDroppableScroll","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isUserMovingForward","didStartDisplaced","draggableId","onLift","Boolean","wasDisplaced","getCombinedItemDisplacement","displaced","combineWith","displacedBy","isDisplaced","getWhenEntered","oldMerge","whenEntered","isCombiningWith","currentCenter","borderBox","displaceBy","currentUserDirection","twoThirdsOfSize","isMovingForward","targetCenter","getCombineImpact","_ref2","pageBorderBoxCenterWithDroppableScrollChange","previousImpact","insideDestinationWithoutDraggable","userDirection","isCombineEnabled","movement","canBeDisplacedBy","child","withMerge","isPartiallyVisibleThroughFrame","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacement","getDisplacementMap","getDisplacedBy","getReorderImpact","didStartDisplaced$1","dimension","newIndex","noDisplacedBy","noMovement","noImpact","removeDraggableFromList","remove","item","getDragImpact","pageBorderBoxCenter","destinationId","insideDestination","getHomeLocation","getHomeOnLift","home","insideHome","originallyDisplaced","slice","getDragPositions","oldInitial","oldCurrent","oldClientBorderBoxCenter","newClientBorderBoxCenter","shift","client","selection","borderBoxCenter","reverse","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","adjustExistingForAdditionsAndRemovals","existing","addedDraggables","additions","removedDraggables","removals","shifted","forEach","original","toShift","addShift","indexChange","withRemovals","isBeingRemoved","sibling","withAdditions","splice","additionMap","wasAdded","updated","adjustAdditionsForScrollChanges","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","adjustAdditionsForCollapsedHome","dragging","updateDraggables","criticalId","unmodifiedExisting","unmodifiedAdditions","scrolledAdditions","getMaxScroll","scrollHeight","scrollWidth","maxScroll","adjustedMaxScroll","getDroppableDimension","isFixedOnPage","scrollSize","frameClient","paddingBox","isHomeOf","getRequiredGrowthForPlaceholder","placeholderSize","availableSpace","contentBox","insideDroppable","spaceUsed","sum","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","newFrame","removePlaceholder","_subject2","oldMaxScroll","getFrame","throwIfSpacingChange","old","fresh","getMessage","spacingType","margin","border","padding","adjustBorderBoxSize","updateDroppables","adjusted","provided","raw","hasPlaceholder","oldClient","newClient","oldScrollable","newScrollable","isFrameEqual","withSizeChanged","withNoAnimatedDisplacement","withoutAnimation","patchDroppableMap","clearUnusedPlaceholder","last","lastDroppable","recomputePlaceholders","cleaned","isOver","patched","timingsKey","publishWhileDragging","_extends3","state","published","dimensions","critical","_getDragPositions","center","_getHomeOnLift","homeImpact","isOrphaned","movementMode","draggingState","phase","onLiftImpact","dropPending","reason","isWaiting","forward","backward","moveToNextCombine","isInHomeList","originalInsideDestination","location","currentIndex","currentInsideDestination","shallow","targetIndex","addClosest","removeClosest","fromReorder","initialInside","isInForeignList","proposedIndex","modifyDisplacement","fromCombine","combineId","combineIndex","wasDisplacedAtStart","hasDisplacedFromStart","moveToNextIndex","instruction","lastDisplaced","withoutDraggable","atProposedIndex","whenCombining","distanceFromStartToBorderBoxCenter","box","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","withNewDisplacement","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","entry","withScrolledViewport","withScrolledDroppable","withViewportDisplacement","getClientFromPageBorderBoxCenter","withoutPageScrollChange","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","source","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","moveCrossAxis","getDroppableOver$1","moveInDirection","type","isActuallyOver","isMainAxisMovementAllowed","isMovingOnMainAxis","_state$dimensions","isMovementAllowed","getVertical","getHorizontal","getUserDirection","oldPageBorderBoxCenter","update","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","currentWindowScroll","newImpact","withUpdatedPlaceholders","recompute","getClientBorderBoxCenter","refreshSnap","needsVisibilityCheck","patchDimensionMap","isSnapping","postDroppableChange","isEnabledChanging","idle","completed","shouldFlush","reducer","action","payload","_action$payload","isWindowScrollAllowed","every","isDragging","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_action$payload6","_completed","lift","initialPublish","publishWhileDragging$1","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","clean$1","animateDrop","completeDrop","drop","dropAnimationFinished","lift$1","marshal","getState","dispatch","next","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","mode","isAnimationRequired","position","onDragStart","withLocation","startPosition","endPosition","withCombine","inHomeList","onDragUpdate","returnedToStart","onDragEnd","preset","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","callback","push","flush","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","getPublisher","getResponders","asyncMarshal","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","store","dropAnimationFinish","dimensionMarshalStopper","stopPublishing","shouldEnd","shouldCancelPending","autoScroll","autoScroller","stop","cancelPending","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","dimensionMarshal","styleMarshal","clean$2","timingKey","createPublisher","getEntries","callbacks","advancedUsageWarning","hasAnnounced","staging","frameId","collect","requestAnimationFrame","getCritical","_staging","getDimension","isHome","options","withoutPlaceholder","recollect","publish","cancelAnimationFrame","getWindowScroll","pageXOffset","pageYOffset","getDocumentElement","doc","document","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getDimensionAndWatchScroll","throwIfAddOrRemoveOfWrongType","collection","createDimensionMarshal","registerDraggable","updateDraggable","unregisterDraggable","registerDroppable","droppableCallbacks","unregisterDroppable","change","dragStopped","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getScrollableDroppableOver","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$3","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","cancel","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix","dragHandle","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","join","noPointerEvents","getStyles$1","uniqueContext","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","useIsomorphicLayoutEffect","getHead","head","querySelector","createStyleEl","el","createElement","useStyleMarshal","uniqueId","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","setAttribute","appendChild","ref","removeChild","styleContext","StoreContext","createContext","getBodyElement","visuallyHidden","overflow","getId","useAnnouncer","toBeRemoved","AppContext","peerDependencies","react","semver","getVersion","exec","major","minor","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","useStartupValidation","version","usePrevious","createResponders","getStore","lazyRef","App","lazyStoreRef","lastPropsRef","lazyDispatch","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","instanceCount","resetServerContext","DragDropContext","isEqual$2","base","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","parentElement","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getClient","targetRef","isDropDisabled","display","immediate","passive","delayed","getListenerOptions","useRequiredContext","Context","getClosestScrollableFromDrag","useDroppableDimensionPublisher","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","getDroppableRef","ignoreContainerClipping","getPlaceholderRef","noop","empty","getSize","isAnimatingOpenOnMount","animate","getStyle","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","Placeholder","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","onClose","_useState","setIsAnimatingOpenOnMount","onSizeChangeEnd","event","propertyName","tagName","innerRef","Placeholder$1","memo","DroppableContext","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","checkIsValidInnerRef","checkOwnProps","checkPlaceholderRef","placeholderEl","useValidation","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","PureComponent","Droppable","droppableRef","placeholderRef","snapshot","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","shouldAnimatePlaceholder","droppableProps","droppableContext","isStrictEqual","whatIsDraggedOverFromResult","isMatchingType","getDraggable","makeMapStateToProps","isDraggingOver","draggingOverWith","draggingFromThisWith","idleWithoutAnimation","getMapProps","getSnapshot","ownProps","_snapshot","wasOver","wasCombining","mapDispatchToProps","defaultProps","ConnectedDroppable","pure","areStatePropsEqual","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle$1","mapped","createEventMarshal","isMouseDownHandled","handle","isHandled","reset","getOptions","shared","fromBinding","bindEvents","bindings","sharedOptions","binding","eventName","unbindEvents","createScheduler","memoizedMove","onMove","onMoveUp","onMoveDown","onMoveRight","onMoveLeft","windowScrollMove","onWindowScroll","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","supportedEventName","supported","capture","createPostDragEventPreventer","getWindow","isBound","bind","unbind","preventDefault","preventNext","preventer","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","primaryButton","noop$1","mouseDownMarshal","useMouseSensor","canStartCapturing","getShouldRespectForcePress","onCaptureStart","onCaptureEnd","pendingRef","isDraggingRef","unbindWindowEventsRef","getIsCapturing","schedule","postDragEventPreventer","shouldBlockClick","wasDragging","onCancel","startDragging","pending","windowBindings","button","clientX","clientY","onDrop","currentTarget","webkitForce","MouseEvent","WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN","forcePressThreshold","isForcePressing","bindWindowEvents","win","startPendingDrag","onMouseDown","ctrlKey","metaKey","shiftKey","altKey","isElement","Element","interactiveTagNames","input","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","getAttribute","shouldAllowDraggingFromTarget","canDragInteractiveElements","getBorderBoxCenterPosition","getBoundingClientRect","_scrollJumpKeys","scrollJumpKeys","noop$2","useKeyboardSensor","getDraggableRef","getIsDragging","onKeyDown","defaultPrevented","timeForLongPress","touchStartMarshal","noop$3","webkitHack","stub","preventTouchMove","releaseTouchMove","isBlocking","useTouchSensor","hasMovedRef","postDragClickPreventer","longPressTimerId","_event$touches$","touches","touch","force","onTouchStart","isSvgElement","SVGElement","throwIfSVG","getDragHandleRef","draggableRef","hasAttribute","useValidation$1","retainingFocusFor","listenerOptions","clearRetentionOnFocusChange","onWindowFocusChange","retain","tryRestoreFocus","dragHandleRef","focus","retainer","noop$4","useFocusRetainer","isFocusedRef","lastArgsRef","onFocus","onBlur","shouldRetainFocus","lastDraggableRef","preventHtml5Dnd","useDragHandle","capturingRef","abortCapture","_useRequiredContext","_useFocusRetainer","mouseArgs","keyboardArgs","touchArgs","tabIndex","getDimension$1","computedStyles","useDraggableDimensionPublisher","makeDimension","latest","checkOwnProps$1","isDragDisabled","checkForOutdatedProps","Object","hasOwnProperty","useValidation$2","getRef","Draggable","setRef","shouldRespectForcePress","disableInteractiveElementBlocking","moveUpAction","moveAction","dropAction","moveDownAction","moveRightAction","moveLeftAction","moveByWindowScrollAction","liftAction","dropAnimationFinishedAction","forPublisher","dragHandleArgs","dragHandleProps","onMoveEnd","draggableProps","getCombineWithFromResult","getCombineWithFromImpact","makeMapStateToProps$1","getDraggingSnapshot","draggingOver","dropAnimation","combineTargetFor","getSecondarySnapshot","defaultMapProps","memoizedOffset","getDraggingProps","getSecondaryProps","getSecondaryMovement","ownId","draggingId","isCombinedWith","draggingSelector","_mode","_draggingOver","_combineWith","curve","secondarySelector","mapDispatchToProps$1","defaultProps$1","ConnectedDraggable"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,4CAArB;AACA,OAAOC,KAAP,IAAgBC,eAAhB,EAAiCC,SAAjC,EAA4CC,MAA5C,EAAoDC,UAApD,EAAgEC,QAAhE,QAAgF,OAAhF;AACA,SAASC,OAAT,EAAkBC,WAAlB,QAAqC,cAArC;AACA,OAAOC,cAAP,MAA2B,kDAA3B;AACA,OAAOC,SAAP,MAAsB,gBAAtB;AACA,SAASC,WAAW,IAAIC,aAAxB,EAAuCC,eAAvC,EAAwDC,OAAxD,EAAiEC,kBAAjE,QAA2F,OAA3F;AACA,SAASC,QAAT,EAAmBC,OAAnB,QAAkC,aAAlC;AACA,SAASC,OAAT,EAAkBC,MAAlB,EAA0BC,MAA1B,EAAkCC,UAAlC,EAA8CC,SAA9C,EAAyDC,MAAzD,EAAiEC,YAAjE,QAAqF,eAArF;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,SAAP,MAAsB,yCAAtB;AACA,OAAOC,OAAP,MAAoB,UAApB;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,iBAAP,MAA8B,kDAA9B;AAEA,IAAIC,YAAY,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA5C;AACA,IAAIC,aAAa,GAAG,YAApB;AACA,IAAIC,mBAAmB,GAAG,WAA1B;;AAEA,IAAIC,KAAK,GAAG,SAASA,KAAT,CAAeC,KAAf,EAAsB;AAChC,SAAOA,KAAK,CAACC,OAAN,CAAcJ,aAAd,EAA6B,GAA7B,EAAkCI,OAAlC,CAA0CH,mBAA1C,EAA+D,EAA/D,EAAmEI,IAAnE,EAAP;AACD,CAFD;;AAIA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,OAAvB,EAAgC;AAClD,SAAOL,KAAK,CAAC,sCAAsCA,KAAK,CAACK,OAAD,CAA3C,GAAuD,2GAAxD,CAAZ;AACD,CAFD;;AAIA,IAAIC,mBAAmB,GAAG,SAASA,mBAAT,CAA6BD,OAA7B,EAAsC;AAC9D,SAAO,CAACD,aAAa,CAACC,OAAD,CAAd,EAAyB,sDAAzB,EAAiF,kBAAjF,EAAqG,iBAArG,CAAP;AACD,CAFD;;AAGA,IAAIE,cAAc,GAAG,4CAArB;;AACA,IAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBH,OAAjB,EAA0B;AACtC,MAAII,QAAJ;;AAEA,MAAIf,YAAJ,EAAkB;AAChB;AACD;;AAED,MAAI,OAAOgB,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACH,cAAD,CAA3C,EAA6D;AAC3D;AACD;;AAED,GAACE,QAAQ,GAAGE,OAAZ,EAAqBC,IAArB,CAA0BC,KAA1B,CAAgCJ,QAAhC,EAA0CH,mBAAmB,CAACD,OAAD,CAA7D;AACD,CAZD;;AAcA,SAASS,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,MAAIN,QAAJ;;AAEA,MAAId,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACD;;AAED,GAACY,QAAQ,GAAGE,OAAZ,EAAqBI,KAArB,CAA2BF,KAA3B,CAAiCJ,QAAjC,EAA2CH,mBAAmB,CAAC,2HAA2HS,KAAK,CAACV,OAAjI,GAA2I,YAA5I,CAA9D;;AAEAM,EAAAA,OAAO,CAACI,KAAR,CAAc,KAAd,EAAqBA,KAArB;AACD;;AAED,SAASC,aAAT,CAAuBD,KAAvB,EAA8B;AAC5B,SAAOA,KAAK,CAACV,OAAN,CAAcY,OAAd,CAAsB,kBAAtB,MAA8C,CAAC,CAAtD;AACD;;AAED,IAAIC,aAAa,GAAG,UAAUC,gBAAV,EAA4B;AAC9ChD,EAAAA,cAAc,CAAC+C,aAAD,EAAgBC,gBAAhB,CAAd;;AAEA,WAASD,aAAT,GAAyB;AACvB,QAAIE,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDN,IAAAA,KAAK,GAAGD,gBAAgB,CAACQ,IAAjB,CAAsBd,KAAtB,CAA4BM,gBAA5B,EAA8C,CAAC,IAAD,EAAOS,MAAP,CAAcJ,IAAd,CAA9C,KAAsE,IAA9E;AACAJ,IAAAA,KAAK,CAACS,OAAN,GAAgB,KAAK,CAArB;;AAEAT,IAAAA,KAAK,CAACU,UAAN,GAAmB,UAAUC,EAAV,EAAc;AAC/BX,MAAAA,KAAK,CAACS,OAAN,GAAgBE,EAAhB;AACD,KAFD;;AAIAX,IAAAA,KAAK,CAACY,YAAN,GAAqB,UAAUjB,KAAV,EAAiB;AACpCD,MAAAA,eAAe,CAACC,KAAD,CAAf;;AAEA,UAAIK,KAAK,CAACS,OAAV,EAAmB;AACjBT,QAAAA,KAAK,CAACS,OAAN;AACD,OAFD,MAEO;AACLlC,QAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,oCAAD,CAA/C,GAAwF,KAAK,CAA7F;AACD;;AAED,UAAIQ,aAAa,CAACD,KAAD,CAAjB,EAA0B;AACxBK,QAAAA,KAAK,CAACa,QAAN,CAAe,EAAf;AACD;AACF,KAZD;;AAcA,WAAOb,KAAP;AACD;;AAED,MAAIc,MAAM,GAAGhB,aAAa,CAACiB,SAA3B;;AAEAD,EAAAA,MAAM,CAACE,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD1B,IAAAA,MAAM,CAAC2B,gBAAP,CAAwB,OAAxB,EAAiC,KAAKL,YAAtC;AACD,GAFD;;AAIAE,EAAAA,MAAM,CAACI,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D5B,IAAAA,MAAM,CAAC6B,mBAAP,CAA2B,OAA3B,EAAoC,KAAKP,YAAzC;AACD,GAFD;;AAIAE,EAAAA,MAAM,CAACM,iBAAP,GAA2B,SAASA,iBAAT,CAA2BzB,KAA3B,EAAkC;AAC3D,SAAKiB,YAAL,CAAkBjB,KAAlB;;AAEA,QAAI,CAACC,aAAa,CAACD,KAAD,CAAlB,EAA2B;AACzB,YAAMA,KAAN;AACD;AACF,GAND;;AAQAmB,EAAAA,MAAM,CAACO,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,WAAO,KAAKC,KAAL,CAAWC,QAAX,CAAoB,KAAKb,UAAzB,CAAP;AACD,GAFD;;AAIA,SAAOZ,aAAP;AACD,CAzDmB,CAyDlBvD,KAAK,CAACiF,SAzDY,CAApB;;AA2DA,IAAIC,MAAM,GAAG;AACXC,EAAAA,CAAC,EAAE,CADQ;AAEXC,EAAAA,CAAC,EAAE;AAFQ,CAAb;;AAIA,IAAIC,GAAG,GAAG,SAASA,GAAT,CAAaC,MAAb,EAAqBC,MAArB,EAA6B;AACrC,SAAO;AACLJ,IAAAA,CAAC,EAAEG,MAAM,CAACH,CAAP,GAAWI,MAAM,CAACJ,CADhB;AAELC,IAAAA,CAAC,EAAEE,MAAM,CAACF,CAAP,GAAWG,MAAM,CAACH;AAFhB,GAAP;AAID,CALD;;AAMA,IAAII,QAAQ,GAAG,SAASA,QAAT,CAAkBF,MAAlB,EAA0BC,MAA1B,EAAkC;AAC/C,SAAO;AACLJ,IAAAA,CAAC,EAAEG,MAAM,CAACH,CAAP,GAAWI,MAAM,CAACJ,CADhB;AAELC,IAAAA,CAAC,EAAEE,MAAM,CAACF,CAAP,GAAWG,MAAM,CAACH;AAFhB,GAAP;AAID,CALD;;AAMA,IAAIK,OAAO,GAAG,SAASA,OAAT,CAAiBH,MAAjB,EAAyBC,MAAzB,EAAiC;AAC7C,SAAOD,MAAM,CAACH,CAAP,KAAaI,MAAM,CAACJ,CAApB,IAAyBG,MAAM,CAACF,CAAP,KAAaG,MAAM,CAACH,CAApD;AACD,CAFD;;AAGA,IAAIM,MAAM,GAAG,SAASA,MAAT,CAAgBC,KAAhB,EAAuB;AAClC,SAAO;AACLR,IAAAA,CAAC,EAAEQ,KAAK,CAACR,CAAN,KAAY,CAAZ,GAAgB,CAACQ,KAAK,CAACR,CAAvB,GAA2B,CADzB;AAELC,IAAAA,CAAC,EAAEO,KAAK,CAACP,CAAN,KAAY,CAAZ,GAAgB,CAACO,KAAK,CAACP,CAAvB,GAA2B;AAFzB,GAAP;AAID,CALD;;AAMA,IAAIQ,KAAK,GAAG,SAASA,KAAT,CAAeC,IAAf,EAAqBvD,KAArB,EAA4BwD,UAA5B,EAAwC;AAClD,MAAIC,IAAJ;;AAEA,MAAID,UAAU,KAAK,KAAK,CAAxB,EAA2B;AACzBA,IAAAA,UAAU,GAAG,CAAb;AACD;;AAED,SAAOC,IAAI,GAAG,EAAP,EAAWA,IAAI,CAACF,IAAD,CAAJ,GAAavD,KAAxB,EAA+ByD,IAAI,CAACF,IAAI,KAAK,GAAT,GAAe,GAAf,GAAqB,GAAtB,CAAJ,GAAiCC,UAAhE,EAA4EC,IAAnF;AACD,CARD;;AASA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBV,MAAlB,EAA0BC,MAA1B,EAAkC;AAC/C,SAAOU,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASZ,MAAM,CAACJ,CAAP,GAAWG,MAAM,CAACH,CAA3B,EAA8B,CAA9B,IAAmCc,IAAI,CAACE,GAAL,CAASZ,MAAM,CAACH,CAAP,GAAWE,MAAM,CAACF,CAA3B,EAA8B,CAA9B,CAA7C,CAAP;AACD,CAFD;;AAGA,IAAIgB,OAAO,GAAG,SAASA,OAAT,CAAiBC,MAAjB,EAAyBC,MAAzB,EAAiC;AAC7C,SAAOL,IAAI,CAACM,GAAL,CAASrD,KAAT,CAAe+C,IAAf,EAAqBK,MAAM,CAACE,GAAP,CAAW,UAAUb,KAAV,EAAiB;AACtD,WAAOK,QAAQ,CAACK,MAAD,EAASV,KAAT,CAAf;AACD,GAF2B,CAArB,CAAP;AAGD,CAJD;;AAKA,IAAIzC,KAAK,GAAG,SAASA,KAAT,CAAekB,EAAf,EAAmB;AAC7B,SAAO,UAAUuB,KAAV,EAAiB;AACtB,WAAO;AACLR,MAAAA,CAAC,EAAEf,EAAE,CAACuB,KAAK,CAACR,CAAP,CADA;AAELC,MAAAA,CAAC,EAAEhB,EAAE,CAACuB,KAAK,CAACP,CAAP;AAFA,KAAP;AAID,GALD;AAMD,CAPD;;AASA,IAAIqB,WAAW,GAAI,UAAUC,KAAV,EAAiBC,OAAjB,EAA0B;AAC3C,MAAIC,MAAM,GAAG3F,OAAO,CAAC;AACnB4F,IAAAA,GAAG,EAAEZ,IAAI,CAACa,GAAL,CAASH,OAAO,CAACE,GAAjB,EAAsBH,KAAK,CAACG,GAA5B,CADc;AAEnBE,IAAAA,KAAK,EAAEd,IAAI,CAACM,GAAL,CAASI,OAAO,CAACI,KAAjB,EAAwBL,KAAK,CAACK,KAA9B,CAFY;AAGnBC,IAAAA,MAAM,EAAEf,IAAI,CAACM,GAAL,CAASI,OAAO,CAACK,MAAjB,EAAyBN,KAAK,CAACM,MAA/B,CAHW;AAInBC,IAAAA,IAAI,EAAEhB,IAAI,CAACa,GAAL,CAASH,OAAO,CAACM,IAAjB,EAAuBP,KAAK,CAACO,IAA7B;AAJa,GAAD,CAApB;;AAOA,MAAIL,MAAM,CAACM,KAAP,IAAgB,CAAhB,IAAqBN,MAAM,CAACO,MAAP,IAAiB,CAA1C,EAA6C;AAC3C,WAAO,IAAP;AACD;;AAED,SAAOP,MAAP;AACD,CAbD;;AAeA,IAAIQ,SAAS,GAAG,SAAS3B,OAAT,CAAiB4B,KAAjB,EAAwBC,MAAxB,EAAgC;AAC9C,SAAOD,KAAK,CAACR,GAAN,KAAcS,MAAM,CAACT,GAArB,IAA4BQ,KAAK,CAACN,KAAN,KAAgBO,MAAM,CAACP,KAAnD,IAA4DM,KAAK,CAACL,MAAN,KAAiBM,MAAM,CAACN,MAApF,IAA8FK,KAAK,CAACJ,IAAN,KAAeK,MAAM,CAACL,IAA3H;AACD,CAFD;;AAGA,IAAIM,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,OAA1B,EAAmC7B,KAAnC,EAA0C;AAC/D,SAAO;AACLkB,IAAAA,GAAG,EAAEW,OAAO,CAACX,GAAR,GAAclB,KAAK,CAACP,CADpB;AAEL6B,IAAAA,IAAI,EAAEO,OAAO,CAACP,IAAR,GAAetB,KAAK,CAACR,CAFtB;AAGL6B,IAAAA,MAAM,EAAEQ,OAAO,CAACR,MAAR,GAAiBrB,KAAK,CAACP,CAH1B;AAIL2B,IAAAA,KAAK,EAAES,OAAO,CAACT,KAAR,GAAgBpB,KAAK,CAACR;AAJxB,GAAP;AAMD,CAPD;;AAQA,IAAIsC,UAAU,GAAG,SAASA,UAAT,CAAoBD,OAApB,EAA6B;AAC5C,SAAO,CAAC;AACNrC,IAAAA,CAAC,EAAEqC,OAAO,CAACP,IADL;AAEN7B,IAAAA,CAAC,EAAEoC,OAAO,CAACX;AAFL,GAAD,EAGJ;AACD1B,IAAAA,CAAC,EAAEqC,OAAO,CAACT,KADV;AAED3B,IAAAA,CAAC,EAAEoC,OAAO,CAACX;AAFV,GAHI,EAMJ;AACD1B,IAAAA,CAAC,EAAEqC,OAAO,CAACP,IADV;AAED7B,IAAAA,CAAC,EAAEoC,OAAO,CAACR;AAFV,GANI,EASJ;AACD7B,IAAAA,CAAC,EAAEqC,OAAO,CAACT,KADV;AAED3B,IAAAA,CAAC,EAAEoC,OAAO,CAACR;AAFV,GATI,CAAP;AAaD,CAdD;;AAeA,IAAIU,SAAS,GAAG;AACdb,EAAAA,GAAG,EAAE,CADS;AAEdE,EAAAA,KAAK,EAAE,CAFO;AAGdC,EAAAA,MAAM,EAAE,CAHM;AAIdC,EAAAA,IAAI,EAAE;AAJQ,CAAhB;;AAOA,IAAIU,MAAM,GAAG,SAASA,MAAT,CAAgBtB,MAAhB,EAAwBK,KAAxB,EAA+B;AAC1C,MAAI,CAACA,KAAL,EAAY;AACV,WAAOL,MAAP;AACD;;AAED,SAAOkB,gBAAgB,CAAClB,MAAD,EAASK,KAAK,CAACiB,MAAN,CAAaC,IAAb,CAAkBC,YAA3B,CAAvB;AACD,CAND;;AAQA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBzB,MAAlB,EAA0B0B,IAA1B,EAAgCC,eAAhC,EAAiD;AAC9D,MAAIA,eAAe,IAAIA,eAAe,CAACC,WAAvC,EAAoD;AAClD,QAAIC,SAAJ;;AAEA,WAAOnI,QAAQ,CAAC,EAAD,EAAKsG,MAAL,GAAc6B,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACH,IAAI,CAACI,GAAN,CAAT,GAAsB9B,MAAM,CAAC0B,IAAI,CAACI,GAAN,CAAN,GAAmBH,eAAe,CAACC,WAAhB,CAA4BF,IAAI,CAAClC,IAAjC,CAAzD,EAAiGqC,SAA/G,EAAf;AACD;;AAED,SAAO7B,MAAP;AACD,CARD;;AAUA,IAAI+B,IAAI,GAAG,SAASA,IAAT,CAAc/B,MAAd,EAAsBK,KAAtB,EAA6B;AACtC,MAAIA,KAAK,IAAIA,KAAK,CAAC2B,iBAAnB,EAAsC;AACpC,WAAO5B,WAAW,CAACC,KAAK,CAAC4B,aAAP,EAAsBjC,MAAtB,CAAlB;AACD;;AAED,SAAOpF,OAAO,CAACoF,MAAD,CAAd;AACD,CAND;;AAQA,IAAIkC,UAAU,GAAI,UAAUxC,IAAV,EAAgB;AAChC,MAAIyC,IAAI,GAAGzC,IAAI,CAACyC,IAAhB;AAAA,MACIR,eAAe,GAAGjC,IAAI,CAACiC,eAD3B;AAAA,MAEID,IAAI,GAAGhC,IAAI,CAACgC,IAFhB;AAAA,MAGIrB,KAAK,GAAGX,IAAI,CAACW,KAHjB;AAIA,MAAI+B,QAAQ,GAAGd,MAAM,CAACa,IAAI,CAACE,SAAN,EAAiBhC,KAAjB,CAArB;AACA,MAAIiC,SAAS,GAAGb,QAAQ,CAACW,QAAD,EAAWV,IAAX,EAAiBC,eAAjB,CAAxB;AACA,MAAIY,OAAO,GAAGR,IAAI,CAACO,SAAD,EAAYjC,KAAZ,CAAlB;AACA,SAAO;AACL8B,IAAAA,IAAI,EAAEA,IADD;AAELR,IAAAA,eAAe,EAAEA,eAFZ;AAGLa,IAAAA,MAAM,EAAED;AAHH,GAAP;AAKD,CAbD;;AAeA,IAAIE,eAAe,GAAI,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AACrD,GAACD,SAAS,CAACrC,KAAX,GAAmB1E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,CAAjD,GAA2DA,SAAS,CAAC,KAAD,CAAvF,GAAiG,KAAK,CAAtG;AACA,MAAIwI,UAAU,GAAGF,SAAS,CAACrC,KAA3B;AACA,MAAIwC,UAAU,GAAG1D,QAAQ,CAACwD,SAAD,EAAYC,UAAU,CAACtB,MAAX,CAAkBwB,OAA9B,CAAzB;AACA,MAAIC,kBAAkB,GAAG1D,MAAM,CAACwD,UAAD,CAA/B;;AAEA,MAAIxC,KAAK,GAAG3G,QAAQ,CAAC,EAAD,EAAKkJ,UAAL,EAAiB;AACnCtB,IAAAA,MAAM,EAAE;AACNwB,MAAAA,OAAO,EAAEF,UAAU,CAACtB,MAAX,CAAkBwB,OADrB;AAENE,MAAAA,OAAO,EAAEL,SAFH;AAGNpB,MAAAA,IAAI,EAAE;AACJtF,QAAAA,KAAK,EAAE4G,UADH;AAEJrB,QAAAA,YAAY,EAAEuB;AAFV,OAHA;AAONtC,MAAAA,GAAG,EAAEmC,UAAU,CAACtB,MAAX,CAAkBb;AAPjB;AAD2B,GAAjB,CAApB;;AAYA,MAAIH,OAAO,GAAG4B,UAAU,CAAC;AACvBC,IAAAA,IAAI,EAAEO,SAAS,CAACpC,OAAV,CAAkB6B,IADD;AAEvBR,IAAAA,eAAe,EAAEe,SAAS,CAACpC,OAAV,CAAkBqB,eAFZ;AAGvBD,IAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAHO;AAIvBrB,IAAAA,KAAK,EAAEA;AAJgB,GAAD,CAAxB;;AAOA,MAAIE,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKgJ,SAAL,EAAgB;AACnCrC,IAAAA,KAAK,EAAEA,KAD4B;AAEnCC,IAAAA,OAAO,EAAEA;AAF0B,GAAhB,CAArB;;AAKA,SAAOC,MAAP;AACD,CA/BD;;AAiCA,IAAI0C,OAAO,GAAG,EAAd;AACA,IAAIC,SAAS,GAAG,KAAhB;;AAEA,IAAIC,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,SAAOD,SAAP;AACD,CAFD;;AAGA,IAAIE,KAAK,GAAG,SAASA,KAAT,CAAeC,GAAf,EAAoB;AAC9B,MAAI1H,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAI,CAACsH,gBAAgB,EAArB,EAAyB;AACvB;AACD;;AAED,QAAIG,GAAG,GAAGC,WAAW,CAACD,GAAZ,EAAV;AACAL,IAAAA,OAAO,CAACI,GAAD,CAAP,GAAeC,GAAf;AACD;AACF,CATD;;AAUA,IAAIE,MAAM,GAAG,SAASA,MAAT,CAAgBH,GAAhB,EAAqB;AAChC,MAAI1H,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAI,CAACsH,gBAAgB,EAArB,EAAyB;AACvB;AACD;;AAED,QAAIG,GAAG,GAAGC,WAAW,CAACD,GAAZ,EAAV;AACA,QAAIG,QAAQ,GAAGR,OAAO,CAACI,GAAD,CAAtB;;AAEA,QAAI,CAACI,QAAL,EAAe;AACb9G,MAAAA,OAAO,CAACC,IAAR,CAAa,gDAAb,EAA+DyG,GAA/D;AACA;AACD;;AAED,QAAI9C,MAAM,GAAG+C,GAAG,GAAGG,QAAnB;AACA,QAAIC,OAAO,GAAGnD,MAAM,CAACoD,OAAP,CAAe,CAAf,CAAd;;AAEA,QAAIC,KAAK,GAAG,YAAY;AACtB,UAAIrD,MAAM,GAAG,EAAb,EAAiB;AACf,eAAO;AACLsD,UAAAA,SAAS,EAAE,OADN;AAELC,UAAAA,MAAM,EAAE;AAFH,SAAP;AAID;;AAED,UAAIvD,MAAM,GAAG,EAAb,EAAiB;AACf,eAAO;AACLsD,UAAAA,SAAS,EAAE,QADN;AAELC,UAAAA,MAAM,EAAE;AAFH,SAAP;AAID;;AAED,aAAO;AACLD,QAAAA,SAAS,EAAE,KADN;AAELC,QAAAA,MAAM,EAAE;AAFH,OAAP;AAID,KAnBW,EAAZ;;AAqBAnH,IAAAA,OAAO,CAACoH,GAAR,CAAYH,KAAK,CAACE,MAAN,GAAe,cAAf,GAAgCJ,OAAhC,GAA0C,UAA1C,GAAuDL,GAAnE,EAAwE,iCAAxE,EAA2G,YAAYO,KAAK,CAACC,SAAlB,GAA8B,qBAAzI,EAAgK,cAAhK,EAAgL,mCAAhL;AACD;AACF,CAxCD;;AA0CA,IAAIG,iBAAiB,GAAI,UAAUC,MAAV,EAAkB;AACzC,MAAIC,KAAK,GAAGD,MAAM,CAACC,KAAnB;AAAA,MACIC,WAAW,GAAGF,MAAM,CAACE,WADzB;;AAGA,MAAIA,WAAJ,EAAiB;AACf,WAAOA,WAAW,CAACC,WAAnB;AACD;;AAED,MAAIF,KAAJ,EAAW;AACT,WAAOA,KAAK,CAACG,OAAN,CAAcD,WAArB;AACD;;AAED,SAAO,IAAP;AACD,CAbD;;AAeA,SAASE,MAAT,CAAgBnE,GAAhB,EAAqB;AACnB,SAAO/E,cAAc,CAAC+E,GAAD,CAArB;AACD;;AACD,SAASoE,SAAT,CAAmBC,IAAnB,EAAyBC,SAAzB,EAAoC;AAClC,MAAID,IAAI,CAACD,SAAT,EAAoB;AAClB,WAAOC,IAAI,CAACD,SAAL,CAAeE,SAAf,CAAP;AACD;;AAED,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACjH,MAAzB,EAAiCmH,CAAC,EAAlC,EAAsC;AACpC,QAAID,SAAS,CAACD,IAAI,CAACE,CAAD,CAAL,CAAb,EAAwB;AACtB,aAAOA,CAAP;AACD;AACF;;AAED,SAAO,CAAC,CAAR;AACD;;AACD,SAASC,IAAT,CAAcH,IAAd,EAAoBC,SAApB,EAA+B;AAC7B,MAAID,IAAI,CAACG,IAAT,EAAe;AACb,WAAOH,IAAI,CAACG,IAAL,CAAUF,SAAV,CAAP;AACD;;AAED,MAAIG,KAAK,GAAGL,SAAS,CAACC,IAAD,EAAOC,SAAP,CAArB;;AAEA,MAAIG,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,WAAOJ,IAAI,CAACI,KAAD,CAAX;AACD;;AAED,SAAOC,SAAP;AACD;;AAED,IAAIC,cAAc,GAAG3J,UAAU,CAAC,UAAU4J,UAAV,EAAsB;AACpD,SAAOA,UAAU,CAACC,MAAX,CAAkB,UAAUvB,QAAV,EAAoBT,OAApB,EAA6B;AACpDS,IAAAA,QAAQ,CAACT,OAAO,CAACiC,UAAR,CAAmBC,EAApB,CAAR,GAAkClC,OAAlC;AACA,WAAOS,QAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,CAL8B,CAA/B;AAMA,IAAI0B,cAAc,GAAGhK,UAAU,CAAC,UAAUiK,UAAV,EAAsB;AACpD,SAAOA,UAAU,CAACJ,MAAX,CAAkB,UAAUvB,QAAV,EAAoBT,OAApB,EAA6B;AACpDS,IAAAA,QAAQ,CAACT,OAAO,CAACiC,UAAR,CAAmBC,EAApB,CAAR,GAAkClC,OAAlC;AACA,WAAOS,QAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,CAL8B,CAA/B;AAMA,IAAI4B,eAAe,GAAGlK,UAAU,CAAC,UAAU4J,UAAV,EAAsB;AACrD,SAAOT,MAAM,CAACS,UAAD,CAAb;AACD,CAF+B,CAAhC;AAGA,IAAIO,eAAe,GAAGnK,UAAU,CAAC,UAAUiK,UAAV,EAAsB;AACrD,SAAOd,MAAM,CAACc,UAAD,CAAb;AACD,CAF+B,CAAhC;;AAIA,IAAIG,QAAQ,GAAI,UAAUC,UAAV,EAAsBC,UAAtB,EAAkC;AAChD,SAAO,UAAUxJ,KAAV,EAAiB;AACtB,WAAOuJ,UAAU,IAAIvJ,KAAd,IAAuBA,KAAK,IAAIwJ,UAAvC;AACD,GAFD;AAGD,CAJD;;AAMA,IAAIC,iBAAiB,GAAI,UAAUrF,KAAV,EAAiB;AACxC,MAAIsF,gBAAgB,GAAGJ,QAAQ,CAAClF,KAAK,CAACG,GAAP,EAAYH,KAAK,CAACM,MAAlB,CAA/B;AACA,MAAIiF,kBAAkB,GAAGL,QAAQ,CAAClF,KAAK,CAACO,IAAP,EAAaP,KAAK,CAACK,KAAnB,CAAjC;AACA,SAAO,UAAUpB,KAAV,EAAiB;AACtB,WAAOqG,gBAAgB,CAACrG,KAAK,CAACP,CAAP,CAAhB,IAA6B4G,gBAAgB,CAACrG,KAAK,CAACP,CAAP,CAA7C,IAA0D6G,kBAAkB,CAACtG,KAAK,CAACR,CAAP,CAA5E,IAAyF8G,kBAAkB,CAACtG,KAAK,CAACR,CAAP,CAAlH;AACD,GAFD;AAGD,CAND;;AAQA,IAAI+G,gBAAgB,GAAI,UAAUnG,IAAV,EAAgB;AACtC,MAAIM,MAAM,GAAGN,IAAI,CAACM,MAAlB;AAAA,MACI+E,UAAU,GAAGrF,IAAI,CAACqF,UADtB;AAEA,MAAIe,KAAK,GAAGnB,IAAI,CAACU,eAAe,CAACN,UAAD,CAAhB,EAA8B,UAAUrC,SAAV,EAAqB;AACjE,QAAI,CAACA,SAAS,CAACQ,SAAf,EAA0B;AACxB,aAAO,KAAP;AACD;;AAED,QAAIV,MAAM,GAAGE,SAAS,CAACpC,OAAV,CAAkBkC,MAA/B;;AAEA,QAAI,CAACA,MAAL,EAAa;AACX,aAAO,KAAP;AACD;;AAED,WAAOkD,iBAAiB,CAAClD,MAAD,CAAjB,CAA0BxC,MAA1B,CAAP;AACD,GAZe,CAAhB;AAaA,SAAO8F,KAAK,GAAGA,KAAK,CAACb,UAAN,CAAiBC,EAApB,GAAyB,IAArC;AACD,CAjBD;;AAmBA,IAAIa,4BAA4B,GAAG5K,UAAU,CAAC,UAAUiJ,WAAV,EAAuBgB,UAAvB,EAAmC;AAC/E,MAAI7E,MAAM,GAAG+E,eAAe,CAACF,UAAD,CAAf,CAA4BY,MAA5B,CAAmC,UAAUC,SAAV,EAAqB;AACnE,WAAO7B,WAAW,KAAK6B,SAAS,CAAChB,UAAV,CAAqBb,WAA5C;AACD,GAFY,EAEV8B,IAFU,CAEL,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,WAAOD,CAAC,CAAClB,UAAF,CAAaL,KAAb,GAAqBwB,CAAC,CAACnB,UAAF,CAAaL,KAAzC;AACD,GAJY,CAAb;AAKA,SAAOrE,MAAP;AACD,CAP4C,CAA7C;;AASA,IAAI8F,mBAAmB,GAAI,UAAU3D,SAAV,EAAqBpD,KAArB,EAA4B;AACrD,MAAIe,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAOf,KAAP;AACD;;AAED,SAAON,GAAG,CAACM,KAAD,EAAQe,KAAK,CAACiB,MAAN,CAAaC,IAAb,CAAkBtF,KAA1B,CAAV;AACD,CARD;;AAUA,IAAIqK,QAAQ,GAAG;AACbC,EAAAA,SAAS,EAAE,UADE;AAEb/G,EAAAA,IAAI,EAAE,GAFO;AAGbgH,EAAAA,aAAa,EAAE,GAHF;AAIbpD,EAAAA,KAAK,EAAE,KAJM;AAKbtB,EAAAA,GAAG,EAAE,QALQ;AAMb2E,EAAAA,IAAI,EAAE,QANO;AAObC,EAAAA,cAAc,EAAE,MAPH;AAQbC,EAAAA,YAAY,EAAE,OARD;AASbC,EAAAA,aAAa,EAAE;AATF,CAAf;AAWA,IAAIC,UAAU,GAAG;AACfN,EAAAA,SAAS,EAAE,YADI;AAEf/G,EAAAA,IAAI,EAAE,GAFS;AAGfgH,EAAAA,aAAa,EAAE,GAHA;AAIfpD,EAAAA,KAAK,EAAE,MAJQ;AAKftB,EAAAA,GAAG,EAAE,OALU;AAMf2E,EAAAA,IAAI,EAAE,OANS;AAOfC,EAAAA,cAAc,EAAE,KAPD;AAQfC,EAAAA,YAAY,EAAE,QARC;AASfC,EAAAA,aAAa,EAAE;AATA,CAAjB;;AAYA,IAAIE,mBAAmB,GAAI,UAAUpF,IAAV,EAAgB6E,SAAhB,EAA2B;AACpD,SAAO7E,IAAI,KAAK4E,QAAT,GAAoBC,SAAS,CAACD,QAAV,KAAuB,MAA3C,GAAoDC,SAAS,CAACM,UAAV,KAAyB,OAApF;AACD,CAFD;;AAIA,IAAIE,iBAAiB,GAAI,UAAUC,WAAV,EAAuBC,MAAvB,EAA+B;AACtD,SAAOC,OAAO,CAACD,MAAM,CAACE,YAAP,CAAoBH,WAApB,CAAD,CAAd;AACD,CAFD;;AAIA,IAAII,2BAA2B,GAAI,UAAU1H,IAAV,EAAgB;AACjD,MAAI2H,SAAS,GAAG3H,IAAI,CAAC2H,SAArB;AAAA,MACIJ,MAAM,GAAGvH,IAAI,CAACuH,MADlB;AAAA,MAEIK,WAAW,GAAG5H,IAAI,CAAC4H,WAFvB;AAAA,MAGIC,WAAW,GAAG7H,IAAI,CAAC6H,WAHvB;AAIA,MAAIC,WAAW,GAAGN,OAAO,CAACG,SAAS,CAACC,WAAD,CAAV,CAAzB;;AAEA,MAAIP,iBAAiB,CAACO,WAAD,EAAcL,MAAd,CAArB,EAA4C;AAC1C,WAAOO,WAAW,GAAG3I,MAAH,GAAYQ,MAAM,CAACkI,WAAW,CAACjI,KAAb,CAApC;AACD;;AAED,SAAOkI,WAAW,GAAGD,WAAW,CAACjI,KAAf,GAAuBT,MAAzC;AACD,CAZD;;AAcA,IAAI4I,cAAc,GAAG,SAASA,cAAT,CAAwBvC,EAAxB,EAA4BlC,OAA5B,EAAqC0E,QAArC,EAA+C;AAClE,MAAI,CAACA,QAAL,EAAe;AACb,WAAO1E,OAAP;AACD;;AAED,MAAIkC,EAAE,KAAKwC,QAAQ,CAACrD,OAAT,CAAiB2C,WAA5B,EAAyC;AACvC,WAAOhE,OAAP;AACD;;AAED,SAAO0E,QAAQ,CAACC,WAAhB;AACD,CAVD;;AAYA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBlI,IAAzB,EAA+B;AACnD,MAAIwF,EAAE,GAAGxF,IAAI,CAACwF,EAAd;AAAA,MACI2C,aAAa,GAAGnI,IAAI,CAACmI,aADzB;AAAA,MAEInG,IAAI,GAAGhC,IAAI,CAACgC,IAFhB;AAAA,MAGIoG,SAAS,GAAGpI,IAAI,CAACoI,SAHrB;AAAA,MAIIC,UAAU,GAAGrI,IAAI,CAACqI,UAJtB;AAAA,MAKIC,oBAAoB,GAAGtI,IAAI,CAACsI,oBALhC;AAAA,MAMIN,QAAQ,GAAGhI,IAAI,CAACgI,QANpB;AAOA,MAAItE,KAAK,GAAG0E,SAAS,CAACpG,IAAI,CAAC0B,KAAN,CAAT,GAAwB2E,UAAU,CAACrG,IAAI,CAAClC,IAAN,CAA9C;AACA,MAAIsC,GAAG,GAAGgG,SAAS,CAACpG,IAAI,CAACI,GAAN,CAAT,GAAsBiG,UAAU,CAACrG,IAAI,CAAClC,IAAN,CAA1C;AACA,MAAIiH,IAAI,GAAGqB,SAAS,CAACpG,IAAI,CAAC+E,IAAN,CAApB;AACA,MAAIwB,eAAe,GAAGxB,IAAI,GAAG,KAA7B;AACA,MAAIkB,WAAW,GAAGF,cAAc,CAACvC,EAAD,EAAK8C,oBAAL,EAA2BN,QAA3B,CAAhC;AACA,MAAIQ,eAAe,GAAGpB,mBAAmB,CAACpF,IAAD,EAAOiG,WAAP,CAAzC;AACA,MAAIQ,YAAY,GAAGN,aAAa,CAACnG,IAAI,CAAClC,IAAN,CAAhC;;AAEA,MAAI0I,eAAJ,EAAqB;AACnB,WAAO3C,QAAQ,CAACnC,KAAD,EAAQA,KAAK,GAAG6E,eAAhB,CAAR,CAAyCE,YAAzC,CAAP;AACD;;AAED,SAAO5C,QAAQ,CAACzD,GAAG,GAAGmG,eAAP,EAAwBnG,GAAxB,CAAR,CAAqCqG,YAArC,CAAP;AACD,CArBD;;AAuBA,IAAIC,gBAAgB,GAAI,UAAUC,KAAV,EAAiB;AACvC,MAAIR,aAAa,GAAGQ,KAAK,CAACC,4CAA1B;AAAA,MACIC,cAAc,GAAGF,KAAK,CAACE,cAD3B;AAAA,MAEIpE,WAAW,GAAGkE,KAAK,CAAClE,WAFxB;AAAA,MAGIqE,iCAAiC,GAAGH,KAAK,CAACG,iCAH9C;AAAA,MAIIC,aAAa,GAAGJ,KAAK,CAACI,aAJ1B;AAAA,MAKIxB,MAAM,GAAGoB,KAAK,CAACpB,MALnB;;AAOA,MAAI,CAAC9C,WAAW,CAACuE,gBAAjB,EAAmC;AACjC,WAAO,IAAP;AACD;;AAED,MAAIhH,IAAI,GAAGyC,WAAW,CAACzC,IAAvB;AACA,MAAIvB,GAAG,GAAGoI,cAAc,CAACI,QAAf,CAAwBxI,GAAlC;AACA,MAAIyI,gBAAgB,GAAGL,cAAc,CAACI,QAAf,CAAwBpB,WAA/C;AACA,MAAIG,QAAQ,GAAGa,cAAc,CAACrE,KAA9B;AACA,MAAIlE,MAAM,GAAG2E,IAAI,CAAC6D,iCAAD,EAAoC,UAAUK,KAAV,EAAiB;AACpE,QAAI3D,EAAE,GAAG2D,KAAK,CAAC5D,UAAN,CAAiBC,EAA1B;AACA,QAAI6C,UAAU,GAAGX,2BAA2B,CAAC;AAC3CC,MAAAA,SAAS,EAAElH,GADgC;AAE3C8G,MAAAA,MAAM,EAAEA,MAFmC;AAG3CK,MAAAA,WAAW,EAAEpC,EAH8B;AAI3CqC,MAAAA,WAAW,EAAEqB;AAJ8B,KAAD,CAA5C;AAMA,WAAOhB,eAAe,CAAC;AACrB1C,MAAAA,EAAE,EAAEA,EADiB;AAErB2C,MAAAA,aAAa,EAAEA,aAFM;AAGrBnG,MAAAA,IAAI,EAAEA,IAHe;AAIrBoG,MAAAA,SAAS,EAAEe,KAAK,CAAC1G,IAAN,CAAW2F,SAJD;AAKrBC,MAAAA,UAAU,EAAEA,UALS;AAMrBC,MAAAA,oBAAoB,EAAES,aAND;AAOrBf,MAAAA,QAAQ,EAAEA;AAPW,KAAD,CAAtB;AASD,GAjBgB,CAAjB;;AAmBA,MAAI,CAAC1H,MAAL,EAAa;AACX,WAAO,IAAP;AACD;;AAED,MAAIkE,KAAK,GAAG;AACVyD,IAAAA,WAAW,EAAEF,cAAc,CAACzH,MAAM,CAACiF,UAAP,CAAkBC,EAAnB,EAAuBuD,aAAvB,EAAsCf,QAAtC,CADjB;AAEVrD,IAAAA,OAAO,EAAE;AACP2C,MAAAA,WAAW,EAAEhH,MAAM,CAACiF,UAAP,CAAkBC,EADxB;AAEPd,MAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC;AAF7B;AAFC,GAAZ;;AAQA,MAAI4D,SAAS,GAAGpP,QAAQ,CAAC,EAAD,EAAK6O,cAAL,EAAqB;AAC3CpE,IAAAA,WAAW,EAAE,IAD8B;AAE3CD,IAAAA,KAAK,EAAEA;AAFoC,GAArB,CAAxB;;AAKA,SAAO4E,SAAP;AACD,CArDD;;AAuDA,IAAIC,8BAA8B,GAAI,UAAU1I,KAAV,EAAiB;AACrD,MAAIsF,gBAAgB,GAAGJ,QAAQ,CAAClF,KAAK,CAACG,GAAP,EAAYH,KAAK,CAACM,MAAlB,CAA/B;AACA,MAAIiF,kBAAkB,GAAGL,QAAQ,CAAClF,KAAK,CAACO,IAAP,EAAaP,KAAK,CAACK,KAAnB,CAAjC;AACA,SAAO,UAAUJ,OAAV,EAAmB;AACxB,QAAI0I,WAAW,GAAGrD,gBAAgB,CAACrF,OAAO,CAACE,GAAT,CAAhB,IAAiCmF,gBAAgB,CAACrF,OAAO,CAACK,MAAT,CAAjD,IAAqEiF,kBAAkB,CAACtF,OAAO,CAACM,IAAT,CAAvF,IAAyGgF,kBAAkB,CAACtF,OAAO,CAACI,KAAT,CAA7I;;AAEA,QAAIsI,WAAJ,EAAiB;AACf,aAAO,IAAP;AACD;;AAED,QAAIC,4BAA4B,GAAGtD,gBAAgB,CAACrF,OAAO,CAACE,GAAT,CAAhB,IAAiCmF,gBAAgB,CAACrF,OAAO,CAACK,MAAT,CAApF;AACA,QAAIuI,8BAA8B,GAAGtD,kBAAkB,CAACtF,OAAO,CAACM,IAAT,CAAlB,IAAoCgF,kBAAkB,CAACtF,OAAO,CAACI,KAAT,CAA3F;AACA,QAAIyI,oBAAoB,GAAGF,4BAA4B,IAAIC,8BAA3D;;AAEA,QAAIC,oBAAJ,EAA0B;AACxB,aAAO,IAAP;AACD;;AAED,QAAIC,kBAAkB,GAAG9I,OAAO,CAACE,GAAR,GAAcH,KAAK,CAACG,GAApB,IAA2BF,OAAO,CAACK,MAAR,GAAiBN,KAAK,CAACM,MAA3E;AACA,QAAI0I,oBAAoB,GAAG/I,OAAO,CAACM,IAAR,GAAeP,KAAK,CAACO,IAArB,IAA6BN,OAAO,CAACI,KAAR,GAAgBL,KAAK,CAACK,KAA9E;AACA,QAAI4I,uBAAuB,GAAGF,kBAAkB,IAAIC,oBAApD;;AAEA,QAAIC,uBAAJ,EAA6B;AAC3B,aAAO,IAAP;AACD;;AAED,QAAIC,uBAAuB,GAAGH,kBAAkB,IAAIF,8BAAtB,IAAwDG,oBAAoB,IAAIJ,4BAA9G;AACA,WAAOM,uBAAP;AACD,GAzBD;AA0BD,CA7BD;;AA+BA,IAAIC,4BAA4B,GAAI,UAAUnJ,KAAV,EAAiB;AACnD,MAAIsF,gBAAgB,GAAGJ,QAAQ,CAAClF,KAAK,CAACG,GAAP,EAAYH,KAAK,CAACM,MAAlB,CAA/B;AACA,MAAIiF,kBAAkB,GAAGL,QAAQ,CAAClF,KAAK,CAACO,IAAP,EAAaP,KAAK,CAACK,KAAnB,CAAjC;AACA,SAAO,UAAUJ,OAAV,EAAmB;AACxB,QAAI0I,WAAW,GAAGrD,gBAAgB,CAACrF,OAAO,CAACE,GAAT,CAAhB,IAAiCmF,gBAAgB,CAACrF,OAAO,CAACK,MAAT,CAAjD,IAAqEiF,kBAAkB,CAACtF,OAAO,CAACM,IAAT,CAAvF,IAAyGgF,kBAAkB,CAACtF,OAAO,CAACI,KAAT,CAA7I;AACA,WAAOsI,WAAP;AACD,GAHD;AAID,CAPD;;AASA,IAAIS,kCAAkC,GAAI,UAAU/H,IAAV,EAAgB;AACxD,SAAO,UAAUrB,KAAV,EAAiB;AACtB,QAAIsF,gBAAgB,GAAGJ,QAAQ,CAAClF,KAAK,CAACG,GAAP,EAAYH,KAAK,CAACM,MAAlB,CAA/B;AACA,QAAIiF,kBAAkB,GAAGL,QAAQ,CAAClF,KAAK,CAACO,IAAP,EAAaP,KAAK,CAACK,KAAnB,CAAjC;AACA,WAAO,UAAUJ,OAAV,EAAmB;AACxB,UAAIoB,IAAI,KAAK4E,QAAb,EAAuB;AACrB,eAAOX,gBAAgB,CAACrF,OAAO,CAACE,GAAT,CAAhB,IAAiCmF,gBAAgB,CAACrF,OAAO,CAACK,MAAT,CAAxD;AACD;;AAED,aAAOiF,kBAAkB,CAACtF,OAAO,CAACM,IAAT,CAAlB,IAAoCgF,kBAAkB,CAACtF,OAAO,CAACI,KAAT,CAA7D;AACD,KAND;AAOD,GAVD;AAWD,CAZD;;AAcA,IAAIgJ,qBAAqB,GAAG,SAASA,qBAAT,CAA+B1J,MAA/B,EAAuCmE,WAAvC,EAAoD;AAC9E,MAAI3C,YAAY,GAAG2C,WAAW,CAAC9D,KAAZ,GAAoB8D,WAAW,CAAC9D,KAAZ,CAAkBiB,MAAlB,CAAyBC,IAAzB,CAA8BC,YAAlD,GAAiE3C,MAApF;AACA,SAAOqC,gBAAgB,CAAClB,MAAD,EAASwB,YAAT,CAAvB;AACD,CAHD;;AAKA,IAAImI,oBAAoB,GAAG,SAASA,oBAAT,CAA8B3J,MAA9B,EAAsCmE,WAAtC,EAAmDyF,uBAAnD,EAA4E;AACrG,MAAI,CAACzF,WAAW,CAAC7D,OAAZ,CAAoBkC,MAAzB,EAAiC;AAC/B,WAAO,KAAP;AACD;;AAED,SAAOoH,uBAAuB,CAACzF,WAAW,CAAC7D,OAAZ,CAAoBkC,MAArB,CAAvB,CAAoDxC,MAApD,CAAP;AACD,CAND;;AAQA,IAAI6J,mBAAmB,GAAG,SAASA,mBAAT,CAA6B7J,MAA7B,EAAqC8J,QAArC,EAA+CF,uBAA/C,EAAwE;AAChG,SAAOA,uBAAuB,CAACE,QAAD,CAAvB,CAAkC9J,MAAlC,CAAP;AACD,CAFD;;AAIA,IAAI+J,SAAS,GAAG,SAASA,SAAT,CAAmBrK,IAAnB,EAAyB;AACvC,MAAIsK,aAAa,GAAGtK,IAAI,CAACM,MAAzB;AAAA,MACImE,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEI2F,QAAQ,GAAGpK,IAAI,CAACoK,QAFpB;AAAA,MAGIG,yBAAyB,GAAGvK,IAAI,CAACuK,yBAHrC;AAAA,MAIIL,uBAAuB,GAAGlK,IAAI,CAACkK,uBAJnC;AAKA,MAAIM,eAAe,GAAGD,yBAAyB,GAAGP,qBAAqB,CAACM,aAAD,EAAgB7F,WAAhB,CAAxB,GAAuD6F,aAAtG;AACA,SAAOL,oBAAoB,CAACO,eAAD,EAAkB/F,WAAlB,EAA+ByF,uBAA/B,CAApB,IAA+EC,mBAAmB,CAACK,eAAD,EAAkBJ,QAAlB,EAA4BF,uBAA5B,CAAzG;AACD,CARD;;AAUA,IAAIO,kBAAkB,GAAG,SAASA,kBAAT,CAA4B3M,IAA5B,EAAkC;AACzD,SAAOuM,SAAS,CAACrQ,QAAQ,CAAC,EAAD,EAAK8D,IAAL,EAAW;AAClCoM,IAAAA,uBAAuB,EAAEb;AADS,GAAX,CAAT,CAAhB;AAGD,CAJD;;AAKA,IAAIqB,gBAAgB,GAAG,SAASA,gBAAT,CAA0B5M,IAA1B,EAAgC;AACrD,SAAOuM,SAAS,CAACrQ,QAAQ,CAAC,EAAD,EAAK8D,IAAL,EAAW;AAClCoM,IAAAA,uBAAuB,EAAEJ;AADS,GAAX,CAAT,CAAhB;AAGD,CAJD;;AAKA,IAAIa,sBAAsB,GAAG,SAASA,sBAAT,CAAgC7M,IAAhC,EAAsC;AACjE,SAAOuM,SAAS,CAACrQ,QAAQ,CAAC,EAAD,EAAK8D,IAAL,EAAW;AAClCoM,IAAAA,uBAAuB,EAAEH,kCAAkC,CAACjM,IAAI,CAAC2G,WAAL,CAAiBzC,IAAlB;AADzB,GAAX,CAAT,CAAhB;AAGD,CAJD;;AAMA,IAAI4I,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,kBAA1B,EAA8CR,SAA9C,EAAyDtG,QAAzD,EAAmE;AACxF,MAAI,OAAO8G,kBAAP,KAA8B,SAAlC,EAA6C;AAC3C,WAAOA,kBAAP;AACD;;AAED,MAAI,CAACR,SAAL,EAAgB;AACd,WAAO,KAAP;AACD;;AAED,MAAI,CAACtG,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AAED,SAAOA,QAAQ,CAAC+G,aAAhB;AACD,CAdD;;AAgBA,IAAIC,SAAS,GAAG,SAASA,SAAT,CAAmBxE,SAAnB,EAA8BgB,MAA9B,EAAsC;AACpD,MAAI5E,SAAS,GAAG4D,SAAS,CAAC9D,IAAV,CAAeE,SAA/B;;AAEA,MAAI,CAAC0E,iBAAiB,CAACd,SAAS,CAAChB,UAAV,CAAqBC,EAAtB,EAA0B+B,MAA1B,CAAtB,EAAyD;AACvD,WAAO5E,SAAP;AACD;;AAED,MAAIqI,QAAQ,GAAG;AACblK,IAAAA,GAAG,EAAEyG,MAAM,CAACM,WAAP,CAAmBjI,KAAnB,CAAyBP,CADjB;AAEb2B,IAAAA,KAAK,EAAEuG,MAAM,CAACM,WAAP,CAAmBjI,KAAnB,CAAyBR,CAFnB;AAGb6B,IAAAA,MAAM,EAAE,CAHK;AAIbC,IAAAA,IAAI,EAAE;AAJO,GAAf;AAMA,SAAOhG,OAAO,CAACC,MAAM,CAACwH,SAAD,EAAYqI,QAAZ,CAAP,CAAd;AACD,CAdD;;AAgBA,IAAIC,eAAe,GAAI,UAAUjL,IAAV,EAAgB;AACrC,MAAIuG,SAAS,GAAGvG,IAAI,CAACuG,SAArB;AAAA,MACI9B,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEIoE,cAAc,GAAG7I,IAAI,CAAC6I,cAF1B;AAAA,MAGIuB,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAAA,MAII7C,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAAA,MAKIsD,kBAAkB,GAAG7K,IAAI,CAAC6K,kBAL9B;AAMA,MAAIrF,EAAE,GAAGe,SAAS,CAAChB,UAAV,CAAqBC,EAA9B;AACA,MAAI/E,GAAG,GAAGoI,cAAc,CAACI,QAAf,CAAwBxI,GAAlC;AACA,MAAIH,MAAM,GAAGyK,SAAS,CAACxE,SAAD,EAAYgB,MAAZ,CAAtB;AACA,MAAI8C,SAAS,GAAGI,kBAAkB,CAAC;AACjCnK,IAAAA,MAAM,EAAEA,MADyB;AAEjCmE,IAAAA,WAAW,EAAEA,WAFoB;AAGjC2F,IAAAA,QAAQ,EAAEA,QAHuB;AAIjCG,IAAAA,yBAAyB,EAAE;AAJM,GAAD,CAAlC;AAMA,MAAIO,aAAa,GAAGF,gBAAgB,CAACC,kBAAD,EAAqBR,SAArB,EAAgC5J,GAAG,CAAC+E,EAAD,CAAnC,CAApC;AACA,MAAI1D,YAAY,GAAG;AACjBwF,IAAAA,WAAW,EAAE9B,EADI;AAEjB6E,IAAAA,SAAS,EAAEA,SAFM;AAGjBS,IAAAA,aAAa,EAAEA;AAHE,GAAnB;AAKA,SAAOhJ,YAAP;AACD,CAvBD;;AAyBA,IAAIoJ,kBAAkB,GAAGzP,UAAU,CAAC,UAAUkM,SAAV,EAAqB;AACvD,SAAOA,SAAS,CAACrC,MAAV,CAAiB,UAAU7E,GAAV,EAAeqB,YAAf,EAA6B;AACnDrB,IAAAA,GAAG,CAACqB,YAAY,CAACwF,WAAd,CAAH,GAAgCxF,YAAhC;AACA,WAAOrB,GAAP;AACD,GAHM,EAGJ,EAHI,CAAP;AAID,CALkC,CAAnC;AAOA,IAAI0K,cAAc,GAAG1P,UAAU,CAAC,UAAUuG,IAAV,EAAgBqG,UAAhB,EAA4B;AAC1D,MAAIvG,YAAY,GAAGuG,UAAU,CAACrG,IAAI,CAAClC,IAAN,CAA7B;AACA,SAAO;AACLvD,IAAAA,KAAK,EAAEuF,YADF;AAELlC,IAAAA,KAAK,EAAEC,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAYgC,YAAZ;AAFP,GAAP;AAID,CAN8B,CAA/B;;AAQA,IAAIsJ,gBAAgB,GAAI,UAAUpL,IAAV,EAAgB;AACtC,MAAImI,aAAa,GAAGnI,IAAI,CAAC4I,4CAAzB;AAAA,MACIrC,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEI9B,WAAW,GAAGzE,IAAI,CAACyE,WAFvB;AAAA,MAGIqE,iCAAiC,GAAG9I,IAAI,CAAC8I,iCAH7C;AAAA,MAIID,cAAc,GAAG7I,IAAI,CAAC6I,cAJ1B;AAAA,MAKIuB,QAAQ,GAAGpK,IAAI,CAACoK,QALpB;AAAA,MAMIrB,aAAa,GAAG/I,IAAI,CAAC+I,aANzB;AAAA,MAOIxB,MAAM,GAAGvH,IAAI,CAACuH,MAPlB;AAQA,MAAIvF,IAAI,GAAGyC,WAAW,CAACzC,IAAvB;AACA,MAAIwG,eAAe,GAAGpB,mBAAmB,CAAC3C,WAAW,CAACzC,IAAb,EAAmB+G,aAAnB,CAAzC;AACA,MAAIlB,WAAW,GAAGsD,cAAc,CAAC1G,WAAW,CAACzC,IAAb,EAAmBuE,SAAS,CAAC8B,UAA7B,CAAhC;AACA,MAAII,YAAY,GAAGN,aAAa,CAACnG,IAAI,CAAClC,IAAN,CAAhC;AACA,MAAIgC,YAAY,GAAG+F,WAAW,CAACtL,KAA/B;AACA,MAAIoL,SAAS,GAAGmB,iCAAiC,CAACxC,MAAlC,CAAyC,UAAU6C,KAAV,EAAiB;AACxE,QAAIf,SAAS,GAAGe,KAAK,CAAC1G,IAAN,CAAW2F,SAA3B;AACA,QAAI1E,KAAK,GAAG0E,SAAS,CAACpG,IAAI,CAAC0B,KAAN,CAArB;AACA,QAAItB,GAAG,GAAGgG,SAAS,CAACpG,IAAI,CAACI,GAAN,CAAnB;AACA,QAAIiJ,mBAAmB,GAAGhE,iBAAiB,CAAC8B,KAAK,CAAC5D,UAAN,CAAiBC,EAAlB,EAAsB+B,MAAtB,CAA3C;;AAEA,QAAIiB,eAAJ,EAAqB;AACnB,UAAI6C,mBAAJ,EAAyB;AACvB,eAAO5C,YAAY,GAAG/E,KAAtB;AACD;;AAED,aAAO+E,YAAY,GAAG/E,KAAK,GAAG5B,YAA9B;AACD;;AAED,QAAIuJ,mBAAJ,EAAyB;AACvB,aAAO5C,YAAY,IAAIrG,GAAG,GAAGN,YAA7B;AACD;;AAED,WAAO2G,YAAY,IAAIrG,GAAvB;AACD,GAnBe,EAmBb3B,GAnBa,CAmBT,UAAU6K,SAAV,EAAqB;AAC1B,WAAOL,eAAe,CAAC;AACrB1E,MAAAA,SAAS,EAAE+E,SADU;AAErB7G,MAAAA,WAAW,EAAEA,WAFQ;AAGrBoE,MAAAA,cAAc,EAAEA,cAHK;AAIrBuB,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJE;AAKrB4G,MAAAA,MAAM,EAAEA;AALa,KAAD,CAAtB;AAOD,GA3Be,CAAhB;AA4BA,MAAIgE,QAAQ,GAAGzC,iCAAiC,CAACjL,MAAlC,GAA2C8J,SAAS,CAAC9J,MAApE;AACA,MAAIoL,QAAQ,GAAG;AACbpB,IAAAA,WAAW,EAAEA,WADA;AAEbF,IAAAA,SAAS,EAAEA,SAFE;AAGblH,IAAAA,GAAG,EAAEyK,kBAAkB,CAACvD,SAAD;AAHV,GAAf;AAKA,MAAIpD,MAAM,GAAG;AACX0E,IAAAA,QAAQ,EAAEA,QADC;AAEXxE,IAAAA,WAAW,EAAE;AACXC,MAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC,EADzB;AAEXN,MAAAA,KAAK,EAAEqG;AAFI,KAFF;AAMX/G,IAAAA,KAAK,EAAE;AANI,GAAb;AAQA,SAAOD,MAAP;AACD,CAzDD;;AA2DA,IAAIiH,aAAa,GAAG;AAClB5L,EAAAA,KAAK,EAAET,MADW;AAElB5C,EAAAA,KAAK,EAAE;AAFW,CAApB;AAIA,IAAIkP,UAAU,GAAG;AACf9D,EAAAA,SAAS,EAAE,EADI;AAEflH,EAAAA,GAAG,EAAE,EAFU;AAGfoH,EAAAA,WAAW,EAAE2D;AAHE,CAAjB;AAKA,IAAIE,QAAQ,GAAG;AACbzC,EAAAA,QAAQ,EAAEwC,UADG;AAEbhH,EAAAA,WAAW,EAAE,IAFA;AAGbD,EAAAA,KAAK,EAAE;AAHM,CAAf;AAMA,IAAImH,uBAAuB,GAAGlQ,UAAU,CAAC,UAAUmQ,MAAV,EAAkB9G,IAAlB,EAAwB;AAC/D,SAAOA,IAAI,CAACwB,MAAL,CAAY,UAAUuF,IAAV,EAAgB;AACjC,WAAOA,IAAI,CAACtG,UAAL,CAAgBC,EAAhB,KAAuBoG,MAAM,CAACrG,UAAP,CAAkBC,EAAhD;AACD,GAFM,CAAP;AAGD,CAJuC,CAAxC;;AAMA,IAAIsG,aAAa,GAAI,UAAU9L,IAAV,EAAgB;AACnC,MAAI+L,mBAAmB,GAAG/L,IAAI,CAAC+L,mBAA/B;AAAA,MACIxF,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEIb,UAAU,GAAG1F,IAAI,CAAC0F,UAFtB;AAAA,MAGIL,UAAU,GAAGrF,IAAI,CAACqF,UAHtB;AAAA,MAIIwD,cAAc,GAAG7I,IAAI,CAAC6I,cAJ1B;AAAA,MAKIuB,QAAQ,GAAGpK,IAAI,CAACoK,QALpB;AAAA,MAMIrB,aAAa,GAAG/I,IAAI,CAAC+I,aANzB;AAAA,MAOIxB,MAAM,GAAGvH,IAAI,CAACuH,MAPlB;AAQA,MAAIyE,aAAa,GAAG7F,gBAAgB,CAAC;AACnC7F,IAAAA,MAAM,EAAEyL,mBAD2B;AAEnC1G,IAAAA,UAAU,EAAEA;AAFuB,GAAD,CAApC;;AAKA,MAAI,CAAC2G,aAAL,EAAoB;AAClB,WAAON,QAAP;AACD;;AAED,MAAIjH,WAAW,GAAGY,UAAU,CAAC2G,aAAD,CAA5B;AACA,MAAIC,iBAAiB,GAAG5F,4BAA4B,CAAC5B,WAAW,CAACc,UAAZ,CAAuBC,EAAxB,EAA4BE,UAA5B,CAApD;AACA,MAAIoD,iCAAiC,GAAG6C,uBAAuB,CAACpF,SAAD,EAAY0F,iBAAZ,CAA/D;AACA,MAAIrD,4CAA4C,GAAGjC,mBAAmB,CAAClC,WAAD,EAAcsH,mBAAd,CAAtE;AACA,MAAI3C,SAAS,GAAGV,gBAAgB,CAAC;AAC/BE,IAAAA,4CAA4C,EAAEA,4CADf;AAE/BC,IAAAA,cAAc,EAAEA,cAFe;AAG/BpE,IAAAA,WAAW,EAAEA,WAHkB;AAI/BqE,IAAAA,iCAAiC,EAAEA,iCAJJ;AAK/BC,IAAAA,aAAa,EAAEA,aALgB;AAM/BxB,IAAAA,MAAM,EAAEA;AANuB,GAAD,CAAhC;;AASA,MAAI6B,SAAJ,EAAe;AACb,WAAOA,SAAP;AACD;;AAED,SAAOgC,gBAAgB,CAAC;AACtBxC,IAAAA,4CAA4C,EAAEA,4CADxB;AAEtBnE,IAAAA,WAAW,EAAEA,WAFS;AAGtB8B,IAAAA,SAAS,EAAEA,SAHW;AAItBuC,IAAAA,iCAAiC,EAAEA,iCAJb;AAKtBD,IAAAA,cAAc,EAAEA,cALM;AAMtBuB,IAAAA,QAAQ,EAAEA,QANY;AAOtBrB,IAAAA,aAAa,EAAEA,aAPO;AAQtBxB,IAAAA,MAAM,EAAEA;AARc,GAAD,CAAvB;AAUD,CA7CD;;AA+CA,IAAI2E,eAAe,GAAI,UAAU3G,UAAV,EAAsB;AAC3C,SAAO;AACLL,IAAAA,KAAK,EAAEK,UAAU,CAACL,KADb;AAELR,IAAAA,WAAW,EAAEa,UAAU,CAACb;AAFnB,GAAP;AAID,CALD;;AAOA,IAAIyH,aAAa,GAAI,UAAUnM,IAAV,EAAgB;AACnC,MAAIuG,SAAS,GAAGvG,IAAI,CAACuG,SAArB;AAAA,MACI6F,IAAI,GAAGpM,IAAI,CAACoM,IADhB;AAAA,MAEI1G,UAAU,GAAG1F,IAAI,CAAC0F,UAFtB;AAAA,MAGI0E,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAIA,MAAIvC,WAAW,GAAGsD,cAAc,CAACiB,IAAI,CAACpK,IAAN,EAAYuE,SAAS,CAAC8B,UAAtB,CAAhC;AACA,MAAIgE,UAAU,GAAGhG,4BAA4B,CAAC+F,IAAI,CAAC7G,UAAL,CAAgBC,EAAjB,EAAqBE,UAArB,CAA7C;AACA,MAAI4G,mBAAmB,GAAGD,UAAU,CAACE,KAAX,CAAiBhG,SAAS,CAAChB,UAAV,CAAqBL,KAArB,GAA6B,CAA9C,CAA1B;AACA,MAAIuC,YAAY,GAAG6E,mBAAmB,CAAChH,MAApB,CAA2B,UAAUvB,QAAV,EAAoB8H,IAApB,EAA0B;AACtE9H,IAAAA,QAAQ,CAAC8H,IAAI,CAACtG,UAAL,CAAgBC,EAAjB,CAAR,GAA+B,IAA/B;AACA,WAAOzB,QAAP;AACD,GAHkB,EAGhB,EAHgB,CAAnB;AAIA,MAAIwD,MAAM,GAAG;AACXM,IAAAA,WAAW,EAAEA,WADF;AAEXJ,IAAAA,YAAY,EAAEA;AAFH,GAAb;AAIA,MAAIE,SAAS,GAAG2E,mBAAmB,CAAC7L,GAApB,CAAwB,UAAU6K,SAAV,EAAqB;AAC3D,WAAOL,eAAe,CAAC;AACrB1E,MAAAA,SAAS,EAAE+E,SADU;AAErB7G,MAAAA,WAAW,EAAE2H,IAFQ;AAGrBvD,MAAAA,cAAc,EAAE6C,QAHK;AAIrBtB,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJE;AAKrBkK,MAAAA,kBAAkB,EAAE,KALC;AAMrBtD,MAAAA,MAAM,EAAEA;AANa,KAAD,CAAtB;AAQD,GATe,CAAhB;AAUA,MAAI0B,QAAQ,GAAG;AACbtB,IAAAA,SAAS,EAAEA,SADE;AAEblH,IAAAA,GAAG,EAAEyK,kBAAkB,CAACvD,SAAD,CAFV;AAGbE,IAAAA,WAAW,EAAEA;AAHA,GAAf;AAKA,MAAItD,MAAM,GAAG;AACX0E,IAAAA,QAAQ,EAAEA,QADC;AAEXxE,IAAAA,WAAW,EAAEyH,eAAe,CAAC3F,SAAS,CAAChB,UAAX,CAFjB;AAGXf,IAAAA,KAAK,EAAE;AAHI,GAAb;AAKA,SAAO;AACLD,IAAAA,MAAM,EAAEA,MADH;AAELgD,IAAAA,MAAM,EAAEA;AAFH,GAAP;AAID,CAxCD;;AA0CA,IAAIiF,gBAAgB,GAAI,UAAUxM,IAAV,EAAgB;AACtC,MAAIyM,UAAU,GAAGzM,IAAI,CAACoD,OAAtB;AAAA,MACIsJ,UAAU,GAAG1M,IAAI,CAACsD,OADtB;AAAA,MAEIqJ,wBAAwB,GAAG3M,IAAI,CAAC2M,wBAFpC;AAAA,MAGIC,wBAAwB,GAAG5M,IAAI,CAAC4M,wBAHpC;AAAA,MAIIxC,QAAQ,GAAGpK,IAAI,CAACoK,QAJpB;AAKA,MAAIyC,KAAK,GAAGpN,QAAQ,CAACmN,wBAAD,EAA2BD,wBAA3B,CAApB;;AAEA,MAAIvJ,OAAO,GAAG,YAAY;AACxB,QAAI0J,MAAM,GAAG;AACXC,MAAAA,SAAS,EAAEzN,GAAG,CAACmN,UAAU,CAACK,MAAX,CAAkBC,SAAnB,EAA8BF,KAA9B,CADH;AAEXG,MAAAA,eAAe,EAAEJ,wBAFN;AAGXxR,MAAAA,MAAM,EAAE+D;AAHG,KAAb;AAKA,QAAIsD,IAAI,GAAG;AACTsK,MAAAA,SAAS,EAAEzN,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmB3C,QAAQ,CAACxI,MAAT,CAAgBwB,OAAnC,CADL;AAET4J,MAAAA,eAAe,EAAE1N,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmB3C,QAAQ,CAACxI,MAAT,CAAgBwB,OAAnC;AAFX,KAAX;AAIA,WAAO;AACL0J,MAAAA,MAAM,EAAEA,MADH;AAELrK,MAAAA,IAAI,EAAEA;AAFD,KAAP;AAID,GAda,EAAd;;AAgBA,MAAIa,OAAO,GAAG,YAAY;AACxB,QAAI2J,OAAO,GAAGtN,MAAM,CAACkN,KAAD,CAApB;AACA,QAAIzR,MAAM,GAAGkE,GAAG,CAACoN,UAAU,CAACI,MAAX,CAAkB1R,MAAnB,EAA2B6R,OAA3B,CAAhB;AACA,QAAIH,MAAM,GAAG;AACXC,MAAAA,SAAS,EAAEzN,GAAG,CAAC8D,OAAO,CAAC0J,MAAR,CAAeC,SAAhB,EAA2B3R,MAA3B,CADH;AAEX4R,MAAAA,eAAe,EAAE1N,GAAG,CAAC8D,OAAO,CAAC0J,MAAR,CAAeE,eAAhB,EAAiC5R,MAAjC,CAFT;AAGXA,MAAAA,MAAM,EAAEA;AAHG,KAAb;AAKA,QAAIqH,IAAI,GAAG;AACTsK,MAAAA,SAAS,EAAEzN,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmB3C,QAAQ,CAACxI,MAAT,CAAgB0B,OAAnC,CADL;AAET0J,MAAAA,eAAe,EAAE1N,GAAG,CAACwN,MAAM,CAACE,eAAR,EAAyB5C,QAAQ,CAACxI,MAAT,CAAgB0B,OAAzC;AAFX,KAAX;AAIA,KAAC5D,OAAO,CAACgN,UAAU,CAACI,MAAX,CAAkBE,eAAnB,EAAoCF,MAAM,CAACE,eAA3C,CAAR,GAAsE/Q,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wEAAwEgS,UAAU,CAACI,MAAX,CAAkBE,eAAlB,CAAkC5N,CAA1G,GAA8G,IAA9G,GAAqHsN,UAAU,CAACI,MAAX,CAAkBE,eAAlB,CAAkC3N,CAAvJ,GAA2J,uBAA3J,GAAqLyN,MAAM,CAACE,eAAP,CAAuB5N,CAA5M,GAAgN,IAAhN,GAAuN0N,MAAM,CAACE,eAAP,CAAuB3N,CAA9O,GAAkP,WAA1P,CAAjD,GAA0T3E,SAAS,CAAC,KAAD,CAAzY,GAAmZ,KAAK,CAAxZ;AACA,WAAO;AACLoS,MAAAA,MAAM,EAAEA,MADH;AAELrK,MAAAA,IAAI,EAAEA;AAFD,KAAP;AAID,GAjBa,EAAd;;AAmBA,SAAO;AACLa,IAAAA,OAAO,EAAEA,OADJ;AAELF,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CA/CD;;AAiDA,IAAI8J,eAAe,GAAI,UAAUlN,IAAV,EAAgB;AACrC,MAAIuG,SAAS,GAAGvG,IAAI,CAACuG,SAArB;AAAA,MACI4G,QAAQ,GAAGnN,IAAI,CAAC5E,MADpB;AAAA,MAEIgS,mBAAmB,GAAGpN,IAAI,CAACoN,mBAF/B;AAGA,MAAIN,MAAM,GAAG1R,MAAM,CAACmL,SAAS,CAACuG,MAAX,EAAmBK,QAAnB,CAAnB;AACA,MAAI1K,IAAI,GAAGpH,UAAU,CAACyR,MAAD,EAASM,mBAAT,CAArB;;AAEA,MAAIC,KAAK,GAAGrT,QAAQ,CAAC,EAAD,EAAKuM,SAAL,EAAgB;AAClC+G,IAAAA,WAAW,EAAEtT,QAAQ,CAAC,EAAD,EAAKuM,SAAS,CAAC+G,WAAf,EAA4B;AAC/CR,MAAAA,MAAM,EAAEA;AADuC,KAA5B,CADa;AAIlCA,IAAAA,MAAM,EAAEA,MAJ0B;AAKlCrK,IAAAA,IAAI,EAAEA;AAL4B,GAAhB,CAApB;;AAQA,SAAO4K,KAAP;AACD,CAhBD;;AAkBA,IAAIE,qCAAqC,GAAI,UAAUvN,IAAV,EAAgB;AAC3D,MAAIwN,QAAQ,GAAGxN,IAAI,CAACwN,QAApB;AAAA,MACInI,UAAU,GAAGrF,IAAI,CAACqF,UADtB;AAAA,MAEIoI,eAAe,GAAGzN,IAAI,CAAC0N,SAF3B;AAAA,MAGIC,iBAAiB,GAAG3N,IAAI,CAAC4N,QAH7B;AAAA,MAIIxD,QAAQ,GAAGpK,IAAI,CAACoK,QAJpB;AAKA,MAAIyD,OAAO,GAAG,EAAd;AACAlI,EAAAA,eAAe,CAACN,UAAD,CAAf,CAA4ByI,OAA5B,CAAoC,UAAU9K,SAAV,EAAqB;AACvD,QAAIhB,IAAI,GAAGgB,SAAS,CAAChB,IAArB;AACA,QAAI+L,QAAQ,GAAG1H,4BAA4B,CAACrD,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BgI,QAA1B,CAA3C;AACA,QAAIQ,OAAO,GAAG,EAAd;;AAEA,QAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBzI,EAAlB,EAAsBqH,KAAtB,EAA6B;AAC1C,UAAI9I,QAAQ,GAAGiK,OAAO,CAACxI,EAAD,CAAtB;;AAEA,UAAI,CAACzB,QAAL,EAAe;AACbiK,QAAAA,OAAO,CAACxI,EAAD,CAAP,GAAcqH,KAAd;AACA;AACD;;AAEDmB,MAAAA,OAAO,CAACxI,EAAD,CAAP,GAAc;AACZ0I,QAAAA,WAAW,EAAEnK,QAAQ,CAACmK,WAAT,GAAuBrB,KAAK,CAACqB,WAD9B;AAEZ9S,QAAAA,MAAM,EAAEkE,GAAG,CAACyE,QAAQ,CAAC3I,MAAV,EAAkByR,KAAK,CAACzR,MAAxB;AAFC,OAAd;AAID,KAZD;;AAcA,QAAIwS,QAAQ,GAAGnI,cAAc,CAACkI,iBAAiB,CAAClN,GAAlB,CAAsB,UAAU+E,EAAV,EAAc;AAChE,UAAIqG,IAAI,GAAG2B,QAAQ,CAAChI,EAAD,CAAnB;AACA,OAACqG,IAAD,GAAQ5P,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wCAAwC8K,EAAxC,GAA6C,IAArD,CAAjD,GAA8G9K,SAAS,CAAC,KAAD,CAA/H,GAAyI,KAAK,CAA9I;AACA,aAAOmR,IAAP;AACD,KAJ6B,EAI3BvF,MAJ2B,CAIpB,UAAUC,SAAV,EAAqB;AAC7B,aAAOA,SAAS,CAAChB,UAAV,CAAqBb,WAArB,KAAqC1B,SAAS,CAACuC,UAAV,CAAqBC,EAAjE;AACD,KAN6B,CAAD,CAA7B;AAOA,QAAI2I,YAAY,GAAGJ,QAAQ,CAACzH,MAAT,CAAgB,UAAUuF,IAAV,EAAgB3G,KAAhB,EAAuB;AACxD,UAAIkJ,cAAc,GAAG5G,OAAO,CAACoG,QAAQ,CAAC/B,IAAI,CAACtG,UAAL,CAAgBC,EAAjB,CAAT,CAA5B;;AAEA,UAAI,CAAC4I,cAAL,EAAqB;AACnB,eAAO,IAAP;AACD;;AAED,UAAIhT,MAAM,GAAGuE,MAAM,CAACE,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAY+L,IAAI,CAACxD,UAAL,CAAgBrG,IAAI,CAAClC,IAArB,CAAZ,CAAN,CAAnB;AACAiO,MAAAA,QAAQ,CAACxB,KAAT,CAAerH,KAAf,EAAsB4I,OAAtB,CAA8B,UAAUO,OAAV,EAAmB;AAC/C,YAAIT,QAAQ,CAACS,OAAO,CAAC9I,UAAR,CAAmBC,EAApB,CAAZ,EAAqC;AACnC;AACD;;AAEDyI,QAAAA,QAAQ,CAACI,OAAO,CAAC9I,UAAR,CAAmBC,EAApB,EAAwB;AAC9B0I,UAAAA,WAAW,EAAE,CAAC,CADgB;AAE9B9S,UAAAA,MAAM,EAAEA;AAFsB,SAAxB,CAAR;AAID,OATD;AAUA,aAAO,KAAP;AACD,KAnBkB,CAAnB;AAoBA,QAAIsS,SAAS,GAAGD,eAAe,CAACnH,MAAhB,CAAuB,UAAUC,SAAV,EAAqB;AAC1D,aAAOA,SAAS,CAAChB,UAAV,CAAqBb,WAArB,KAAqC1B,SAAS,CAACuC,UAAV,CAAqBC,EAAjE;AACD,KAFe,CAAhB;AAGA,QAAI8I,aAAa,GAAGH,YAAY,CAAC5B,KAAb,CAAmB,CAAnB,CAApB;AACAmB,IAAAA,SAAS,CAACI,OAAV,CAAkB,UAAUjC,IAAV,EAAgB;AAChCyC,MAAAA,aAAa,CAACC,MAAd,CAAqB1C,IAAI,CAACtG,UAAL,CAAgBL,KAArC,EAA4C,CAA5C,EAA+C2G,IAA/C;AACD,KAFD;AAGA,QAAI2C,WAAW,GAAG/I,cAAc,CAACiI,SAAD,CAAhC;AACAY,IAAAA,aAAa,CAACR,OAAd,CAAsB,UAAUjC,IAAV,EAAgB3G,KAAhB,EAAuB;AAC3C,UAAIuJ,QAAQ,GAAGjH,OAAO,CAACgH,WAAW,CAAC3C,IAAI,CAACtG,UAAL,CAAgBC,EAAjB,CAAZ,CAAtB;;AAEA,UAAI,CAACiJ,QAAL,EAAe;AACb;AACD;;AAED,UAAIrT,MAAM,GAAGyE,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAY+L,IAAI,CAACiB,MAAL,CAAYnK,SAAZ,CAAsBX,IAAI,CAAC+E,IAA3B,CAAZ,CAAlB;AACAuH,MAAAA,aAAa,CAAC/B,KAAd,CAAoBrH,KAApB,EAA2B4I,OAA3B,CAAmC,UAAUO,OAAV,EAAmB;AACpD,YAAIG,WAAW,CAACH,OAAO,CAAC9I,UAAR,CAAmBC,EAApB,CAAf,EAAwC;AACtC;AACD;;AAEDyI,QAAAA,QAAQ,CAACI,OAAO,CAAC9I,UAAR,CAAmBC,EAApB,EAAwB;AAC9B0I,UAAAA,WAAW,EAAE,CADiB;AAE9B9S,UAAAA,MAAM,EAAEA;AAFsB,SAAxB,CAAR;AAID,OATD;AAUD,KAlBD;AAmBAkT,IAAAA,aAAa,CAACR,OAAd,CAAsB,UAAUjC,IAAV,EAAgB;AACpC,UAAI2C,WAAW,CAAC3C,IAAI,CAACtG,UAAL,CAAgBC,EAAjB,CAAf,EAAqC;AACnC;AACD;;AAED,UAAIqH,KAAK,GAAGmB,OAAO,CAACnC,IAAI,CAACtG,UAAL,CAAgBC,EAAjB,CAAnB;;AAEA,UAAI,CAACqH,KAAL,EAAY;AACV;AACD;;AAED,UAAIQ,KAAK,GAAGH,eAAe,CAAC;AAC1B3G,QAAAA,SAAS,EAAEsF,IADe;AAE1BzQ,QAAAA,MAAM,EAAEyR,KAAK,CAACzR,MAFY;AAG1BgS,QAAAA,mBAAmB,EAAEhD,QAAQ,CAACxI,MAAT,CAAgBwB;AAHX,OAAD,CAA3B;AAKA,UAAI8B,KAAK,GAAG2G,IAAI,CAACtG,UAAL,CAAgBL,KAAhB,GAAwB2H,KAAK,CAACqB,WAA1C;;AAEA,UAAIQ,OAAO,GAAG1U,QAAQ,CAAC,EAAD,EAAKqT,KAAL,EAAY;AAChC9H,QAAAA,UAAU,EAAEvL,QAAQ,CAAC,EAAD,EAAK6R,IAAI,CAACtG,UAAV,EAAsB;AACxCL,UAAAA,KAAK,EAAEA;AADiC,SAAtB;AADY,OAAZ,CAAtB;;AAMA2I,MAAAA,OAAO,CAACR,KAAK,CAAC9H,UAAN,CAAiBC,EAAlB,CAAP,GAA+BkJ,OAA/B;AACD,KAzBD;AA0BD,GAnGD;;AAqGA,MAAIjO,GAAG,GAAGzG,QAAQ,CAAC,EAAD,EAAKwT,QAAL,EAAeK,OAAf,CAAlB;;AAEA,SAAOpN,GAAP;AACD,CA/GD;;AAiHA,IAAIkO,+BAA+B,GAAI,UAAU3O,IAAV,EAAgB;AACrD,MAAI0N,SAAS,GAAG1N,IAAI,CAAC0N,SAArB;AAAA,MACIkB,iBAAiB,GAAG5O,IAAI,CAAC4O,iBAD7B;AAAA,MAEIxE,QAAQ,GAAGpK,IAAI,CAACoK,QAFpB;AAGA,MAAIyE,kBAAkB,GAAGzE,QAAQ,CAACxI,MAAT,CAAgBC,IAAhB,CAAqBtF,KAA9C;AACA,SAAOmR,SAAS,CAACjN,GAAV,CAAc,UAAU8F,SAAV,EAAqB;AACxC,QAAI7B,WAAW,GAAG6B,SAAS,CAAChB,UAAV,CAAqBb,WAAvC;AACA,QAAIoK,QAAQ,GAAGF,iBAAiB,CAAClK,WAAD,CAAhC;AACA,QAAI/D,KAAK,GAAGmO,QAAQ,CAACnO,KAArB;AACA,KAACA,KAAD,GAAS1E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,CAAjD,GAA2DA,SAAS,CAAC,KAAD,CAA7E,GAAuF,KAAK,CAA5F;AACA,QAAIqU,qBAAqB,GAAGpO,KAAK,CAACiB,MAAN,CAAaC,IAAb,CAAkBtF,KAA9C;AACA,QAAIyS,WAAW,GAAG1P,GAAG,CAACuP,kBAAD,EAAqBE,qBAArB,CAArB;AACA,QAAI1B,KAAK,GAAGH,eAAe,CAAC;AAC1B3G,MAAAA,SAAS,EAAEA,SADe;AAE1BnL,MAAAA,MAAM,EAAE4T,WAFkB;AAG1B5B,MAAAA,mBAAmB,EAAEhD,QAAQ,CAACxI,MAAT,CAAgBwB;AAHX,KAAD,CAA3B;AAKA,WAAOiK,KAAP;AACD,GAbM,CAAP;AAcD,CAnBD;;AAqBA,IAAI4B,+BAA+B,GAAI,UAAUjP,IAAV,EAAgB;AACrD,MAAI0N,SAAS,GAAG1N,IAAI,CAAC0N,SAArB;AAAA,MACIwB,QAAQ,GAAGlP,IAAI,CAACkP,QADpB;AAAA,MAEI9C,IAAI,GAAGpM,IAAI,CAACoM,IAFhB;AAAA,MAGIhC,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAIA,MAAIvC,WAAW,GAAGsD,cAAc,CAACiB,IAAI,CAACpK,IAAN,EAAYkN,QAAQ,CAAC7G,UAArB,CAAhC;AACA,SAAOqF,SAAS,CAACjN,GAAV,CAAc,UAAU8F,SAAV,EAAqB;AACxC,QAAIA,SAAS,CAAChB,UAAV,CAAqBb,WAArB,KAAqC0H,IAAI,CAAC7G,UAAL,CAAgBC,EAAzD,EAA6D;AAC3D,aAAOe,SAAP;AACD;;AAED,QAAIA,SAAS,CAAChB,UAAV,CAAqBL,KAArB,GAA6BgK,QAAQ,CAAC3J,UAAT,CAAoBL,KAArD,EAA4D;AAC1D,aAAOqB,SAAP;AACD;;AAED,WAAO2G,eAAe,CAAC;AACrB3G,MAAAA,SAAS,EAAEA,SADU;AAErBnL,MAAAA,MAAM,EAAEyM,WAAW,CAACjI,KAFC;AAGrBwN,MAAAA,mBAAmB,EAAEhD,QAAQ,CAACxI,MAAT,CAAgBwB;AAHhB,KAAD,CAAtB;AAKD,GAdM,CAAP;AAeD,CArBD;;AAuBA,IAAI+L,gBAAgB,GAAI,UAAUnP,IAAV,EAAgB;AACtC,MAAI4O,iBAAiB,GAAG5O,IAAI,CAAC4O,iBAA7B;AAAA,MACIQ,UAAU,GAAGpP,IAAI,CAACoP,UADtB;AAAA,MAEIC,kBAAkB,GAAGrP,IAAI,CAACwN,QAF9B;AAAA,MAGI8B,mBAAmB,GAAGtP,IAAI,CAAC0N,SAH/B;AAAA,MAIIE,QAAQ,GAAG5N,IAAI,CAAC4N,QAJpB;AAAA,MAKIxD,QAAQ,GAAGpK,IAAI,CAACoK,QALpB;AAMA,MAAIoD,QAAQ,GAAGD,qCAAqC,CAAC;AACnDlI,IAAAA,UAAU,EAAEuJ,iBADuC;AAEnDpB,IAAAA,QAAQ,EAAE6B,kBAFyC;AAGnD3B,IAAAA,SAAS,EAAE4B,mBAHwC;AAInD1B,IAAAA,QAAQ,EAAEA,QAJyC;AAKnDxD,IAAAA,QAAQ,EAAEA;AALyC,GAAD,CAApD;AAOA,MAAI8E,QAAQ,GAAG1B,QAAQ,CAAC4B,UAAD,CAAvB;AACA,MAAIhD,IAAI,GAAGwC,iBAAiB,CAACM,QAAQ,CAAC3J,UAAT,CAAoBb,WAArB,CAA5B;AACA,MAAI6K,iBAAiB,GAAGZ,+BAA+B,CAAC;AACtDjB,IAAAA,SAAS,EAAE4B,mBAD2C;AAEtDV,IAAAA,iBAAiB,EAAEA,iBAFmC;AAGtDxE,IAAAA,QAAQ,EAAEA;AAH4C,GAAD,CAAvD;AAKA,MAAIsD,SAAS,GAAGuB,+BAA+B,CAAC;AAC9CvB,IAAAA,SAAS,EAAE6B,iBADmC;AAE9CL,IAAAA,QAAQ,EAAEA,QAFoC;AAG9C9C,IAAAA,IAAI,EAAEA,IAHwC;AAI9ChC,IAAAA,QAAQ,EAAEA;AAJoC,GAAD,CAA/C;;AAOA,MAAI3J,GAAG,GAAGzG,QAAQ,CAAC,EAAD,EAAKwT,QAAL,EAAe/H,cAAc,CAACiI,SAAD,CAA7B,CAAlB;;AAEAE,EAAAA,QAAQ,CAACE,OAAT,CAAiB,UAAUtI,EAAV,EAAc;AAC7B,WAAO/E,GAAG,CAAC+E,EAAD,CAAV;AACD,GAFD;AAGA,SAAO/E,GAAP;AACD,CAlCD;;AAoCA,IAAI+O,YAAY,GAAI,UAAUxP,IAAV,EAAgB;AAClC,MAAIyP,YAAY,GAAGzP,IAAI,CAACyP,YAAxB;AAAA,MACIC,WAAW,GAAG1P,IAAI,CAAC0P,WADvB;AAAA,MAEItO,MAAM,GAAGpB,IAAI,CAACoB,MAFlB;AAAA,MAGID,KAAK,GAAGnB,IAAI,CAACmB,KAHjB;AAIA,MAAIwO,SAAS,GAAGlQ,QAAQ,CAAC;AACvBL,IAAAA,CAAC,EAAEsQ,WADoB;AAEvBrQ,IAAAA,CAAC,EAAEoQ;AAFoB,GAAD,EAGrB;AACDrQ,IAAAA,CAAC,EAAE+B,KADF;AAED9B,IAAAA,CAAC,EAAE+B;AAFF,GAHqB,CAAxB;AAOA,MAAIwO,iBAAiB,GAAG;AACtBxQ,IAAAA,CAAC,EAAEc,IAAI,CAACa,GAAL,CAAS,CAAT,EAAY4O,SAAS,CAACvQ,CAAtB,CADmB;AAEtBC,IAAAA,CAAC,EAAEa,IAAI,CAACa,GAAL,CAAS,CAAT,EAAY4O,SAAS,CAACtQ,CAAtB;AAFmB,GAAxB;AAIA,SAAOuQ,iBAAP;AACD,CAjBD;;AAmBA,IAAIC,qBAAqB,GAAI,UAAU7P,IAAV,EAAgB;AAC3C,MAAIuF,UAAU,GAAGvF,IAAI,CAACuF,UAAtB;AAAA,MACI/B,SAAS,GAAGxD,IAAI,CAACwD,SADrB;AAAA,MAEIwF,gBAAgB,GAAGhJ,IAAI,CAACgJ,gBAF5B;AAAA,MAGI8G,aAAa,GAAG9P,IAAI,CAAC8P,aAHzB;AAAA,MAIIjJ,SAAS,GAAG7G,IAAI,CAAC6G,SAJrB;AAAA,MAKIiG,MAAM,GAAG9M,IAAI,CAAC8M,MALlB;AAAA,MAMIrK,IAAI,GAAGzC,IAAI,CAACyC,IANhB;AAAA,MAOIpC,OAAO,GAAGL,IAAI,CAACK,OAPnB;;AASA,MAAIM,KAAK,GAAG,YAAY;AACtB,QAAI,CAACN,OAAL,EAAc;AACZ,aAAO,IAAP;AACD;;AAED,QAAI0P,UAAU,GAAG1P,OAAO,CAAC0P,UAAzB;AAAA,QACIC,WAAW,GAAG3P,OAAO,CAACyM,MAD1B;AAEA,QAAI6C,SAAS,GAAGH,YAAY,CAAC;AAC3BC,MAAAA,YAAY,EAAEM,UAAU,CAACN,YADE;AAE3BC,MAAAA,WAAW,EAAEK,UAAU,CAACL,WAFG;AAG3BtO,MAAAA,MAAM,EAAE4O,WAAW,CAACC,UAAZ,CAAuB7O,MAHJ;AAI3BD,MAAAA,KAAK,EAAE6O,WAAW,CAACC,UAAZ,CAAuB9O;AAJH,KAAD,CAA5B;AAMA,WAAO;AACLoB,MAAAA,aAAa,EAAElC,OAAO,CAACoC,IAAR,CAAaE,SADvB;AAELqN,MAAAA,WAAW,EAAEA,WAFR;AAGLD,MAAAA,UAAU,EAAEA,UAHP;AAILzN,MAAAA,iBAAiB,EAAEjC,OAAO,CAACiC,iBAJtB;AAKLV,MAAAA,MAAM,EAAE;AACNwB,QAAAA,OAAO,EAAE/C,OAAO,CAACuB,MADX;AAEN0B,QAAAA,OAAO,EAAEjD,OAAO,CAACuB,MAFX;AAGNb,QAAAA,GAAG,EAAE4O,SAHC;AAIN9N,QAAAA,IAAI,EAAE;AACJtF,UAAAA,KAAK,EAAE4C,MADH;AAEJ2C,UAAAA,YAAY,EAAE3C;AAFV;AAJA;AALH,KAAP;AAeD,GA5BW,EAAZ;;AA8BA,MAAI6C,IAAI,GAAG6E,SAAS,KAAK,UAAd,GAA2BD,QAA3B,GAAsCO,UAAjD;AACA,MAAIvG,OAAO,GAAG4B,UAAU,CAAC;AACvBC,IAAAA,IAAI,EAAEA,IADiB;AAEvBR,IAAAA,eAAe,EAAE,IAFM;AAGvBD,IAAAA,IAAI,EAAEA,IAHiB;AAIvBrB,IAAAA,KAAK,EAAEA;AAJgB,GAAD,CAAxB;AAMA,MAAI2K,SAAS,GAAG;AACd/F,IAAAA,UAAU,EAAEA,UADE;AAEdyD,IAAAA,gBAAgB,EAAEA,gBAFJ;AAGd8G,IAAAA,aAAa,EAAEA,aAHD;AAId9N,IAAAA,IAAI,EAAEA,IAJQ;AAKdwB,IAAAA,SAAS,EAAEA,SALG;AAMdsJ,IAAAA,MAAM,EAAEA,MANM;AAOdrK,IAAAA,IAAI,EAAEA,IAPQ;AAQd9B,IAAAA,KAAK,EAAEA,KARO;AASdC,IAAAA,OAAO,EAAEA;AATK,GAAhB;AAWA,SAAO0K,SAAP;AACD,CA3DD;;AA6DA,IAAI4E,QAAQ,GAAI,UAAU3J,SAAV,EAAqB9B,WAArB,EAAkC;AAChD,SAAO8B,SAAS,CAAChB,UAAV,CAAqBb,WAArB,KAAqCD,WAAW,CAACc,UAAZ,CAAuBC,EAAnE;AACD,CAFD;;AAIA,IAAI2K,+BAA+B,GAAG,SAASA,+BAAT,CAAyCnN,SAAzC,EAAoDoN,eAApD,EAAqE1K,UAArE,EAAiF;AACrH,MAAI1D,IAAI,GAAGgB,SAAS,CAAChB,IAArB;AACA,MAAIqO,cAAc,GAAGrN,SAAS,CAACpC,OAAV,CAAkB6B,IAAlB,CAAuB6N,UAAvB,CAAkCtO,IAAI,CAAC+E,IAAvC,CAArB;AACA,MAAIwJ,eAAe,GAAGlK,4BAA4B,CAACrD,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BE,UAA1B,CAAlD;AACA,MAAI8K,SAAS,GAAGD,eAAe,CAACjL,MAAhB,CAAuB,UAAUmL,GAAV,EAAenF,SAAf,EAA0B;AAC/D,WAAOmF,GAAG,GAAGnF,SAAS,CAACwB,MAAV,CAAiBnK,SAAjB,CAA2BX,IAAI,CAAC+E,IAAhC,CAAb;AACD,GAFe,EAEb,CAFa,CAAhB;AAGA,MAAI2J,aAAa,GAAGF,SAAS,GAAGJ,eAAe,CAACpO,IAAI,CAAClC,IAAN,CAA/C;AACA,MAAI6Q,aAAa,GAAGD,aAAa,GAAGL,cAApC;;AAEA,MAAIM,aAAa,IAAI,CAArB,EAAwB;AACtB,WAAO,IAAP;AACD;;AAED,SAAO9Q,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAY6Q,aAAZ,CAAZ;AACD,CAfD;;AAiBA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBjQ,KAAvB,EAA8BI,GAA9B,EAAmC;AACrD,SAAO/G,QAAQ,CAAC,EAAD,EAAK2G,KAAL,EAAY;AACzBiB,IAAAA,MAAM,EAAE5H,QAAQ,CAAC,EAAD,EAAK2G,KAAK,CAACiB,MAAX,EAAmB;AACjCb,MAAAA,GAAG,EAAEA;AAD4B,KAAnB;AADS,GAAZ,CAAf;AAKD,CAND;;AAQA,IAAI8P,cAAc,GAAG,SAASA,cAAT,CAAwB7N,SAAxB,EAAmCuD,SAAnC,EAA8Cb,UAA9C,EAA0D;AAC7E,MAAI/E,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;AACA,GAAC,CAACuP,QAAQ,CAAC3J,SAAD,EAAYvD,SAAZ,CAAV,GAAmC/G,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAAxJ,GAAkK,KAAK,CAAvK;AACA,GAAC,CAACsI,SAAS,CAACpC,OAAV,CAAkBqB,eAApB,GAAsChG,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kEAAR,CAAjD,GAA+HA,SAAS,CAAC,KAAD,CAA9K,GAAwL,KAAK,CAA7L;AACA,MAAI0V,eAAe,GAAGjF,cAAc,CAACnI,SAAS,CAAChB,IAAX,EAAiBuE,SAAS,CAAC8B,UAA3B,CAAd,CAAqDzI,KAA3E;AACA,MAAIkR,cAAc,GAAGX,+BAA+B,CAACnN,SAAD,EAAYoN,eAAZ,EAA6B1K,UAA7B,CAApD;AACA,MAAIqL,KAAK,GAAG;AACVX,IAAAA,eAAe,EAAEA,eADP;AAEVlO,IAAAA,WAAW,EAAE4O,cAFH;AAGVE,IAAAA,iBAAiB,EAAEhO,SAAS,CAACrC,KAAV,GAAkBqC,SAAS,CAACrC,KAAV,CAAgBiB,MAAhB,CAAuBb,GAAzC,GAA+C;AAHxD,GAAZ;;AAMA,MAAI,CAACJ,KAAL,EAAY;AACV,QAAIsQ,QAAQ,GAAGzO,UAAU,CAAC;AACxBC,MAAAA,IAAI,EAAEO,SAAS,CAACpC,OAAV,CAAkB6B,IADA;AAExBR,MAAAA,eAAe,EAAE8O,KAFO;AAGxB/O,MAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAHQ;AAIxBrB,MAAAA,KAAK,EAAEqC,SAAS,CAACrC;AAJO,KAAD,CAAzB;;AAOA,WAAO3G,QAAQ,CAAC,EAAD,EAAKgJ,SAAL,EAAgB;AAC7BpC,MAAAA,OAAO,EAAEqQ;AADoB,KAAhB,CAAf;AAGD;;AAED,MAAItB,SAAS,GAAGmB,cAAc,GAAGxR,GAAG,CAACqB,KAAK,CAACiB,MAAN,CAAab,GAAd,EAAmB+P,cAAnB,CAAN,GAA2CnQ,KAAK,CAACiB,MAAN,CAAab,GAAtF;AACA,MAAImQ,QAAQ,GAAGN,aAAa,CAACjQ,KAAD,EAAQgP,SAAR,CAA5B;AACA,MAAI/O,OAAO,GAAG4B,UAAU,CAAC;AACvBC,IAAAA,IAAI,EAAEO,SAAS,CAACpC,OAAV,CAAkB6B,IADD;AAEvBR,IAAAA,eAAe,EAAE8O,KAFM;AAGvB/O,IAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAHO;AAIvBrB,IAAAA,KAAK,EAAEuQ;AAJgB,GAAD,CAAxB;AAMA,SAAOlX,QAAQ,CAAC,EAAD,EAAKgJ,SAAL,EAAgB;AAC7BpC,IAAAA,OAAO,EAAEA,OADoB;AAE7BD,IAAAA,KAAK,EAAEuQ;AAFsB,GAAhB,CAAf;AAID,CArCD;;AAsCA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BnO,SAA3B,EAAsC;AAC5D,MAAI+N,KAAK,GAAG/N,SAAS,CAACpC,OAAV,CAAkBqB,eAA9B;AACA,GAAC8O,KAAD,GAAS9U,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4DAAR,CAAjD,GAAyHA,SAAS,CAAC,KAAD,CAA3I,GAAqJ,KAAK,CAA1J;AACA,MAAIiG,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,QAAIyQ,SAAS,GAAG5O,UAAU,CAAC;AACzBC,MAAAA,IAAI,EAAEO,SAAS,CAACpC,OAAV,CAAkB6B,IADC;AAEzBT,MAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAFS;AAGzBrB,MAAAA,KAAK,EAAE,IAHkB;AAIzBsB,MAAAA,eAAe,EAAE;AAJQ,KAAD,CAA1B;;AAOA,WAAOjI,QAAQ,CAAC,EAAD,EAAKgJ,SAAL,EAAgB;AAC7BpC,MAAAA,OAAO,EAAEwQ;AADoB,KAAhB,CAAf;AAGD;;AAED,MAAIC,YAAY,GAAGN,KAAK,CAACC,iBAAzB;AACA,GAACK,YAAD,GAAgBpV,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sFAAR,CAAjD,GAAmJA,SAAS,CAAC,KAAD,CAA5K,GAAsL,KAAK,CAA3L;AACA,MAAIwW,QAAQ,GAAGN,aAAa,CAACjQ,KAAD,EAAQ0Q,YAAR,CAA5B;AACA,MAAIzQ,OAAO,GAAG4B,UAAU,CAAC;AACvBC,IAAAA,IAAI,EAAEO,SAAS,CAACpC,OAAV,CAAkB6B,IADD;AAEvBT,IAAAA,IAAI,EAAEgB,SAAS,CAAChB,IAFO;AAGvBrB,IAAAA,KAAK,EAAEuQ,QAHgB;AAIvBjP,IAAAA,eAAe,EAAE;AAJM,GAAD,CAAxB;AAMA,SAAOjI,QAAQ,CAAC,EAAD,EAAKgJ,SAAL,EAAgB;AAC7BpC,IAAAA,OAAO,EAAEA,OADoB;AAE7BD,IAAAA,KAAK,EAAEuQ;AAFsB,GAAhB,CAAf;AAID,CA/BD;;AAiCA,IAAII,QAAQ,GAAI,UAAUtO,SAAV,EAAqB;AACnC,MAAIrC,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;AACA,GAACA,KAAD,GAAS1E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAR,CAAjD,GAAiGA,SAAS,CAAC,KAAD,CAAnH,GAA6H,KAAK,CAAlI;AACA,SAAOiG,KAAP;AACD,CAJD;;AAMA,IAAI4Q,oBAAoB,GAAG,SAASA,oBAAT,CAA8BC,GAA9B,EAAmCC,KAAnC,EAA0C;AACnE,MAAIxV,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIuV,UAAU,GAAG,SAASA,UAAT,CAAoBC,WAApB,EAAiC;AAChD,aAAO,uBAAuBA,WAAvB,GAAqC,+BAA5C;AACD,KAFD;;AAIA,KAACtQ,SAAS,CAACmQ,GAAG,CAACI,MAAL,EAAaH,KAAK,CAACG,MAAnB,CAAV,GAAuC3V,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQgX,UAAU,CAAC,QAAD,CAAlB,CAAjD,GAAiFhX,SAAS,CAAC,KAAD,CAAjI,GAA2I,KAAK,CAAhJ;AACA,KAAC2G,SAAS,CAACmQ,GAAG,CAACK,MAAL,EAAaJ,KAAK,CAACI,MAAnB,CAAV,GAAuC5V,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQgX,UAAU,CAAC,QAAD,CAAlB,CAAjD,GAAiFhX,SAAS,CAAC,KAAD,CAAjI,GAA2I,KAAK,CAAhJ;AACA,KAAC2G,SAAS,CAACmQ,GAAG,CAACM,OAAL,EAAcL,KAAK,CAACK,OAApB,CAAV,GAAyC7V,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQgX,UAAU,CAAC,SAAD,CAAlB,CAAjD,GAAkFhX,SAAS,CAAC,KAAD,CAApI,GAA8I,KAAK,CAAnJ;AACD;AACF,CAVD;;AAYA,IAAIqX,mBAAmB,GAAG,SAASA,mBAAT,CAA6B/P,IAA7B,EAAmCwP,GAAnC,EAAwCC,KAAxC,EAA+C;AACvE,SAAO;AACL3Q,IAAAA,GAAG,EAAE0Q,GAAG,CAAC1Q,GADJ;AAELI,IAAAA,IAAI,EAAEsQ,GAAG,CAACtQ,IAFL;AAGLF,IAAAA,KAAK,EAAEwQ,GAAG,CAACtQ,IAAJ,GAAWuQ,KAAK,CAACtQ,KAHnB;AAILF,IAAAA,MAAM,EAAEuQ,GAAG,CAAC1Q,GAAJ,GAAU2Q,KAAK,CAACrQ;AAJnB,GAAP;AAMD,CAPD;;AASA,IAAI4Q,gBAAgB,GAAI,UAAUhS,IAAV,EAAgB;AACtC,MAAI8O,QAAQ,GAAG9O,IAAI,CAAC8O,QAApB;AAAA,MACItB,QAAQ,GAAGxN,IAAI,CAACwN,QADpB;AAAA,MAEIpD,QAAQ,GAAGpK,IAAI,CAACoK,QAFpB;;AAIA,MAAI,CAAC0E,QAAQ,CAACjR,MAAd,EAAsB;AACpB,WAAO2P,QAAP;AACD;;AAED,MAAIyE,QAAQ,GAAGnD,QAAQ,CAACrO,GAAT,CAAa,UAAUyR,QAAV,EAAoB;AAC9C,QAAIC,GAAG,GAAG3E,QAAQ,CAAC0E,QAAQ,CAAC3M,UAAT,CAAoBC,EAArB,CAAlB;AACA,KAAC2M,GAAD,GAAOlW,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mDAAR,CAAjD,GAAgHA,SAAS,CAAC,KAAD,CAAhI,GAA0I,KAAK,CAA/I;AACA,QAAI0X,cAAc,GAAG5K,OAAO,CAAC2K,GAAG,CAACvR,OAAJ,CAAYqB,eAAb,CAA5B;AACA,QAAIqJ,SAAS,GAAG8G,cAAc,GAAGjB,iBAAiB,CAACgB,GAAD,CAApB,GAA4BA,GAA1D;AACA,QAAIE,SAAS,GAAG/G,SAAS,CAACwB,MAA1B;AACA,QAAIwF,SAAS,GAAGJ,QAAQ,CAACpF,MAAzB;AACA,QAAIyF,aAAa,GAAGjB,QAAQ,CAAChG,SAAD,CAA5B;AACA,QAAIkH,aAAa,GAAGlB,QAAQ,CAACY,QAAD,CAA5B;;AAEA,QAAIjW,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCoV,MAAAA,oBAAoB,CAACjG,SAAS,CAACwB,MAAX,EAAmBoF,QAAQ,CAACpF,MAA5B,CAApB;AACAyE,MAAAA,oBAAoB,CAACgB,aAAa,CAACvC,WAAf,EAA4BwC,aAAa,CAACxC,WAA1C,CAApB;AACA,UAAIyC,YAAY,GAAGF,aAAa,CAACvC,WAAd,CAA0B5H,SAA1B,CAAoChH,MAApC,KAA+CoR,aAAa,CAACxC,WAAd,CAA0B5H,SAA1B,CAAoChH,MAAnF,IAA6FmR,aAAa,CAACvC,WAAd,CAA0B5H,SAA1B,CAAoCjH,KAApC,KAA8CqR,aAAa,CAACxC,WAAd,CAA0B5H,SAA1B,CAAoCjH,KAAlM;AACA,OAACsR,YAAD,GAAgBxW,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wHAAR,CAAjD,GAAqLA,SAAS,CAAC,KAAD,CAA9M,GAAwN,KAAK,CAA7N;AACD;;AAED,QAAIoS,MAAM,GAAGxR,SAAS,CAAC;AACrB8M,MAAAA,SAAS,EAAE2J,mBAAmB,CAACzG,SAAS,CAACtJ,IAAX,EAAiBqQ,SAAS,CAACjK,SAA3B,EAAsCkK,SAAS,CAAClK,SAAhD,CADT;AAErBwJ,MAAAA,MAAM,EAAES,SAAS,CAACT,MAFG;AAGrBC,MAAAA,MAAM,EAAEQ,SAAS,CAACR,MAHG;AAIrBC,MAAAA,OAAO,EAAEO,SAAS,CAACP;AAJE,KAAD,CAAtB;AAMA,QAAIzR,OAAO,GAAG;AACZyM,MAAAA,MAAM,EAAEyF,aAAa,CAACvC,WADV;AAEZvN,MAAAA,IAAI,EAAEpH,UAAU,CAACkX,aAAa,CAACvC,WAAf,EAA4B5F,QAAQ,CAACxI,MAAT,CAAgBwB,OAA5C,CAFJ;AAGZd,MAAAA,iBAAiB,EAAEiQ,aAAa,CAACjQ,iBAHrB;AAIZyN,MAAAA,UAAU,EAAEyC,aAAa,CAACzC,UAJd;AAKZnO,MAAAA,MAAM,EAAE2Q,aAAa,CAAC3Q,MAAd,CAAqBwB;AALjB,KAAd;AAOA,QAAIsP,eAAe,GAAG7C,qBAAqB,CAAC;AAC1CtK,MAAAA,UAAU,EAAE2M,QAAQ,CAAC3M,UADqB;AAE1C/B,MAAAA,SAAS,EAAE0O,QAAQ,CAAC1O,SAFsB;AAG1CwF,MAAAA,gBAAgB,EAAEkJ,QAAQ,CAAClJ,gBAHe;AAI1C8G,MAAAA,aAAa,EAAEoC,QAAQ,CAACpC,aAJkB;AAK1CjJ,MAAAA,SAAS,EAAEqL,QAAQ,CAAClQ,IAAT,CAAc6E,SALiB;AAM1CiG,MAAAA,MAAM,EAAEA,MANkC;AAO1CrK,MAAAA,IAAI,EAAEpH,UAAU,CAACyR,MAAD,EAAS1C,QAAQ,CAACxI,MAAT,CAAgBwB,OAAzB,CAP0B;AAQ1C/C,MAAAA,OAAO,EAAEA;AARiC,KAAD,CAA3C;AAUA,QAAIqC,QAAQ,GAAGK,eAAe,CAAC2P,eAAD,EAAkBF,aAAa,CAAC5Q,MAAd,CAAqB0B,OAAvC,CAA9B;AACA,WAAOZ,QAAP;AACD,GA1Cc,CAAf;;AA4CA,MAAI7B,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKwT,QAAL,EAAepI,cAAc,CAAC6M,QAAD,CAA7B,CAArB;;AAEA,SAAOpR,MAAP;AACD,CAxDD;;AA0DA,IAAI8R,0BAA0B,GAAI,UAAUpO,MAAV,EAAkB;AAClD,MAAIoD,SAAS,GAAGpD,MAAM,CAAC0E,QAAP,CAAgBtB,SAAhC;;AAEA,MAAI,CAACA,SAAS,CAAC9J,MAAf,EAAuB;AACrB,WAAO0G,MAAP;AACD;;AAED,MAAIqO,gBAAgB,GAAGjL,SAAS,CAAClH,GAAV,CAAc,UAAUqB,YAAV,EAAwB;AAC3D,QAAI,CAACA,YAAY,CAACuI,SAAlB,EAA6B;AAC3B,aAAOvI,YAAP;AACD;;AAED,QAAI,CAACA,YAAY,CAACgJ,aAAlB,EAAiC;AAC/B,aAAOhJ,YAAP;AACD;;AAED,WAAO9H,QAAQ,CAAC,EAAD,EAAK8H,YAAL,EAAmB;AAChCgJ,MAAAA,aAAa,EAAE;AADiB,KAAnB,CAAf;AAGD,GAZsB,CAAvB;;AAcA,MAAIjK,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKuK,MAAL,EAAa;AAChC0E,IAAAA,QAAQ,EAAEjP,QAAQ,CAAC,EAAD,EAAKuK,MAAM,CAAC0E,QAAZ,EAAsB;AACtCtB,MAAAA,SAAS,EAAEiL,gBAD2B;AAEtCnS,MAAAA,GAAG,EAAEyK,kBAAkB,CAAC0H,gBAAD;AAFe,KAAtB;AADc,GAAb,CAArB;;AAOA,SAAO/R,MAAP;AACD,CA7BD;;AA+BA,IAAIgS,iBAAiB,GAAI,UAAUxN,UAAV,EAAsBqJ,OAAtB,EAA+B;AACtD,MAAIvM,SAAJ;;AAEA,SAAOnI,QAAQ,CAAC,EAAD,EAAKqL,UAAL,GAAkBlD,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAACuM,OAAO,CAACnJ,UAAR,CAAmBC,EAApB,CAAT,GAAmCkJ,OAAnD,EAA4DvM,SAA9E,EAAf;AACD,CAJD;;AAMA,IAAI2Q,sBAAsB,GAAG,SAASA,sBAAT,CAAgC9S,IAAhC,EAAsC;AACjE,MAAI6I,cAAc,GAAG7I,IAAI,CAAC6I,cAA1B;AAAA,MACItE,MAAM,GAAGvE,IAAI,CAACuE,MADlB;AAAA,MAEIc,UAAU,GAAGrF,IAAI,CAACqF,UAFtB;AAGA,MAAI0N,IAAI,GAAGzO,iBAAiB,CAACuE,cAAD,CAA5B;AACA,MAAIjF,GAAG,GAAGU,iBAAiB,CAACC,MAAD,CAA3B;;AAEA,MAAI,CAACwO,IAAL,EAAW;AACT,WAAO1N,UAAP;AACD;;AAED,MAAI0N,IAAI,KAAKnP,GAAb,EAAkB;AAChB,WAAOyB,UAAP;AACD;;AAED,MAAI2N,aAAa,GAAG3N,UAAU,CAAC0N,IAAD,CAA9B;;AAEA,MAAI,CAACC,aAAa,CAACpS,OAAd,CAAsBqB,eAA3B,EAA4C;AAC1C,WAAOoD,UAAP;AACD;;AAED,MAAIqJ,OAAO,GAAGyC,iBAAiB,CAAC6B,aAAD,CAA/B;AACA,SAAOH,iBAAiB,CAACxN,UAAD,EAAaqJ,OAAb,CAAxB;AACD,CAvBD;;AAyBA,IAAIuE,qBAAqB,GAAI,UAAUtK,KAAV,EAAiB;AAC5C,MAAIpC,SAAS,GAAGoC,KAAK,CAACpC,SAAtB;AAAA,MACIb,UAAU,GAAGiD,KAAK,CAACjD,UADvB;AAAA,MAEIL,UAAU,GAAGsD,KAAK,CAACtD,UAFvB;AAAA,MAGIwD,cAAc,GAAGF,KAAK,CAACE,cAH3B;AAAA,MAIItE,MAAM,GAAGoE,KAAK,CAACpE,MAJnB;AAKA,MAAI2O,OAAO,GAAGJ,sBAAsB,CAAC;AACnCjK,IAAAA,cAAc,EAAEA,cADmB;AAEnCtE,IAAAA,MAAM,EAAEA,MAF2B;AAGnCc,IAAAA,UAAU,EAAEA;AAHuB,GAAD,CAApC;AAKA,MAAI8N,MAAM,GAAG7O,iBAAiB,CAACC,MAAD,CAA9B;;AAEA,MAAI,CAAC4O,MAAL,EAAa;AACX,WAAOD,OAAP;AACD;;AAED,MAAIlQ,SAAS,GAAGqC,UAAU,CAAC8N,MAAD,CAA1B;;AAEA,MAAIjD,QAAQ,CAAC3J,SAAD,EAAYvD,SAAZ,CAAZ,EAAoC;AAClC,WAAOkQ,OAAP;AACD;;AAED,MAAIlQ,SAAS,CAACpC,OAAV,CAAkBqB,eAAtB,EAAuC;AACrC,WAAOiR,OAAP;AACD;;AAED,MAAIE,OAAO,GAAGvC,cAAc,CAAC7N,SAAD,EAAYuD,SAAZ,EAAuBb,UAAvB,CAA5B;AACA,SAAOmN,iBAAiB,CAACK,OAAD,EAAUE,OAAV,CAAxB;AACD,CA7BD;;AA+BA,IAAIC,UAAU,GAAG,4BAAjB;;AACA,IAAIC,oBAAoB,GAAI,UAAUtT,IAAV,EAAgB;AAC1C,MAAImC,SAAJ,EAAeoR,SAAf;;AAEA,MAAIC,KAAK,GAAGxT,IAAI,CAACwT,KAAjB;AAAA,MACIC,SAAS,GAAGzT,IAAI,CAACyT,SADrB;AAEA/P,EAAAA,KAAK,CAAC2P,UAAD,CAAL;AACA,MAAIzE,iBAAiB,GAAGoD,gBAAgB,CAAC;AACvClD,IAAAA,QAAQ,EAAE2E,SAAS,CAAC3E,QADmB;AAEvCtB,IAAAA,QAAQ,EAAEgG,KAAK,CAACE,UAAN,CAAiBrO,UAFY;AAGvC+E,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ;AAHuB,GAAD,CAAxC;AAKA,MAAI1E,UAAU,GAAGyJ,gBAAgB,CAAC;AAChCP,IAAAA,iBAAiB,EAAEA,iBADa;AAEhCQ,IAAAA,UAAU,EAAEoE,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAFL;AAGhCgI,IAAAA,QAAQ,EAAEgG,KAAK,CAACE,UAAN,CAAiBhO,UAHK;AAIhCgI,IAAAA,SAAS,EAAE+F,SAAS,CAAC/F,SAJW;AAKhCE,IAAAA,QAAQ,EAAE6F,SAAS,CAAC7F,QALY;AAMhCxD,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ;AANgB,GAAD,CAAjC;AAQA,MAAIuJ,QAAQ,GAAG;AACbpN,IAAAA,SAAS,EAAEb,UAAU,CAAC8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAA1B,CAAV,CAAwCD,UADtC;AAEbvC,IAAAA,SAAS,EAAE4L,iBAAiB,CAAC4E,KAAK,CAACG,QAAN,CAAe3Q,SAAf,CAAyBwC,EAA1B,CAAjB,CAA+CD;AAF7C,GAAf;AAIA,MAAIwI,QAAQ,GAAGyF,KAAK,CAACE,UAAN,CAAiBhO,UAAjB,CAA4BiO,QAAQ,CAACpN,SAAT,CAAmBf,EAA/C,CAAf;AACA,MAAIkJ,OAAO,GAAGhJ,UAAU,CAACiO,QAAQ,CAACpN,SAAT,CAAmBf,EAApB,CAAxB;AACA,MAAIH,UAAU,GAAG4N,qBAAqB,CAAC;AACrC1M,IAAAA,SAAS,EAAEmI,OAD0B;AAErChJ,IAAAA,UAAU,EAAEA,UAFyB;AAGrCL,IAAAA,UAAU,EAAEuJ,iBAHyB;AAIrC/F,IAAAA,cAAc,EAAE2K,KAAK,CAACjP,MAJe;AAKrCA,IAAAA,MAAM,EAAEiP,KAAK,CAACjP;AALuB,GAAD,CAAtC;AAOA,MAAImP,UAAU,GAAG;AACfhO,IAAAA,UAAU,EAAEA,UADG;AAEfL,IAAAA,UAAU,EAAEA;AAFG,GAAjB;;AAKA,MAAIuO,iBAAiB,GAAGpH,gBAAgB,CAAC;AACvCpJ,IAAAA,OAAO,EAAEoQ,KAAK,CAACpQ,OADwB;AAEvCE,IAAAA,OAAO,EAAEkQ,KAAK,CAAClQ,OAFwB;AAGvCqJ,IAAAA,wBAAwB,EAAEoB,QAAQ,CAACjB,MAAT,CAAgB1E,SAAhB,CAA0ByL,MAHb;AAIvCjH,IAAAA,wBAAwB,EAAE8B,OAAO,CAAC5B,MAAR,CAAe1E,SAAf,CAAyByL,MAJZ;AAKvCzJ,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ;AALuB,GAAD,CAAxC;AAAA,MAOIhH,OAAO,GAAGwQ,iBAAiB,CAACxQ,OAPhC;AAAA,MAQIE,OAAO,GAAGsQ,iBAAiB,CAACtQ,OARhC;;AAUA,MAAIwQ,cAAc,GAAG3H,aAAa,CAAC;AACjC5F,IAAAA,SAAS,EAAEmI,OADsB;AAEjCtC,IAAAA,IAAI,EAAEsH,UAAU,CAACrO,UAAX,CAAsBsO,QAAQ,CAAC3Q,SAAT,CAAmBwC,EAAzC,CAF2B;AAGjCE,IAAAA,UAAU,EAAEgO,UAAU,CAAChO,UAHU;AAIjC0E,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ;AAJiB,GAAD,CAAlC;AAAA,MAMI2J,UAAU,GAAGD,cAAc,CAACvP,MANhC;AAAA,MAOIgD,MAAM,GAAGuM,cAAc,CAACvM,MAP5B;;AASA,MAAIhD,MAAM,GAAGoO,0BAA0B,CAAC7G,aAAa,CAAC;AACpDC,IAAAA,mBAAmB,EAAEzI,OAAO,CAACb,IAAR,CAAauK,eADkB;AAEpDzG,IAAAA,SAAS,EAAEmI,OAFyC;AAGpDhJ,IAAAA,UAAU,EAAEgO,UAAU,CAAChO,UAH6B;AAIpDL,IAAAA,UAAU,EAAEqO,UAAU,CAACrO,UAJ6B;AAKpDwD,IAAAA,cAAc,EAAEkL,UALoC;AAMpD3J,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ,QANoC;AAOpDrB,IAAAA,aAAa,EAAEyK,KAAK,CAACzK,aAP+B;AAQpDxB,IAAAA,MAAM,EAAEA;AAR4C,GAAD,CAAd,CAAvC;AAUA,MAAIyM,UAAU,GAAGxM,OAAO,CAACgM,KAAK,CAACS,YAAN,KAAuB,MAAvB,IAAiC,CAAC3P,iBAAiB,CAACC,MAAD,CAApD,CAAxB;AACA,GAAC,CAACyP,UAAF,GAAe/X,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qGAAR,CAAjD,GAAkKA,SAAS,CAAC,KAAD,CAA1L,GAAoM,KAAK,CAAzM;AACAoJ,EAAAA,MAAM,CAACuP,UAAD,CAAN;;AAEA,MAAIa,aAAa,GAAGla,QAAQ,CAAC;AAC3Bma,IAAAA,KAAK,EAAE;AADoB,GAAD,EAEzBX,KAFyB,GAEjBrR,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAAC,OAAD,CAAT,GAAqB,UAArC,EAAiDA,SAAS,CAACwR,QAAV,GAAqBA,QAAtE,EAAgFxR,SAAS,CAACmB,OAAV,GAAoBA,OAApG,EAA6GnB,SAAS,CAACiB,OAAV,GAAoBA,OAAjI,EAA0IjB,SAAS,CAACoC,MAAV,GAAmBA,MAA7J,EAAqKpC,SAAS,CAACuR,UAAV,GAAuBA,UAA5L,EAAwMvR,SAAS,CAACoF,MAAV,GAAmBA,MAA3N,EAAmOpF,SAAS,CAACiS,YAAV,GAAyBL,UAA5P,EAAwQ5R,SAAS,CAAC0I,kBAAV,GAA+B,KAAvS,EAA8S1I,SAF7R,EAA5B;;AAIA,MAAIqR,KAAK,CAACW,KAAN,KAAgB,YAApB,EAAkC;AAChC,WAAOD,aAAP;AACD;;AAED,MAAIG,WAAW,GAAGra,QAAQ,CAAC;AACzBma,IAAAA,KAAK,EAAE;AADkB,GAAD,EAEvBD,aAFuB,GAEPX,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAAC,OAAD,CAAT,GAAqB,cAArC,EAAqDA,SAAS,CAACe,MAAV,GAAmBd,KAAK,CAACc,MAA9E,EAAsFf,SAAS,CAACgB,SAAV,GAAsB,KAA5G,EAAmHhB,SAF5G,EAA1B;;AAIA,SAAOc,WAAP;AACD,CAnFD;;AAqFA,IAAIG,OAAO,GAAG;AACZ5N,EAAAA,QAAQ,EAAE,MADE;AAEZO,EAAAA,UAAU,EAAE;AAFA,CAAd;AAIA,IAAIsN,QAAQ,GAAG;AACb7N,EAAAA,QAAQ,EAAE,IADG;AAEbO,EAAAA,UAAU,EAAE;AAFC,CAAf;;AAKA,IAAIuN,iBAAiB,GAAI,UAAU1U,IAAV,EAAgB;AACvC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACImM,YAAY,GAAG3U,IAAI,CAAC2U,YADxB;AAAA,MAEIpO,SAAS,GAAGvG,IAAI,CAACuG,SAFrB;AAAA,MAGI9B,WAAW,GAAGzE,IAAI,CAACyE,WAHvB;AAAA,MAIImQ,yBAAyB,GAAG5U,IAAI,CAACiM,iBAJrC;AAAA,MAKIpD,cAAc,GAAG7I,IAAI,CAAC6I,cAL1B;;AAOA,MAAI,CAACpE,WAAW,CAACuE,gBAAjB,EAAmC;AACjC,WAAO,IAAP;AACD;;AAED,MAAIH,cAAc,CAACrE,KAAnB,EAA0B;AACxB,WAAO,IAAP;AACD;;AAED,MAAIqQ,QAAQ,GAAGhM,cAAc,CAACpE,WAA9B;AACA,GAACoQ,QAAD,GAAY5Y,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sDAAR,CAAjD,GAAmHA,SAAS,CAAC,KAAD,CAAxI,GAAkJ,KAAK,CAAvJ;AACA,MAAIoa,YAAY,GAAGD,QAAQ,CAAC3P,KAA5B;;AAEA,MAAI6P,wBAAwB,GAAG,YAAY;AACzC,QAAIC,OAAO,GAAGJ,yBAAyB,CAACrI,KAA1B,EAAd;;AAEA,QAAIoI,YAAJ,EAAkB;AAChBK,MAAAA,OAAO,CAACzG,MAAR,CAAehI,SAAS,CAAChB,UAAV,CAAqBL,KAApC,EAA2C,CAA3C;AACD;;AAED8P,IAAAA,OAAO,CAACzG,MAAR,CAAesG,QAAQ,CAAC3P,KAAxB,EAA+B,CAA/B,EAAkCqB,SAAlC;AACA,WAAOyO,OAAP;AACD,GAT8B,EAA/B;;AAWA,MAAIC,WAAW,GAAGzM,eAAe,GAAGsM,YAAY,GAAG,CAAlB,GAAsBA,YAAY,GAAG,CAAtE;;AAEA,MAAIG,WAAW,GAAG,CAAlB,EAAqB;AACnB,WAAO,IAAP;AACD;;AAED,MAAIA,WAAW,GAAGF,wBAAwB,CAAClX,MAAzB,GAAkC,CAApD,EAAuD;AACrD,WAAO,IAAP;AACD;;AAED,MAAIyC,MAAM,GAAGyU,wBAAwB,CAACE,WAAD,CAArC;AACA,IAAE3U,MAAM,KAAKiG,SAAb,IAA0BtK,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0BAAR,CAAjD,GAAuFA,SAAS,CAAC,KAAD,CAA1H,GAAoI,KAAK,CAAzI;AACA,MAAI8J,KAAK,GAAG;AACVyD,IAAAA,WAAW,EAAEO,eAAe,GAAGgM,OAAH,GAAaC,QAD/B;AAEV9P,IAAAA,OAAO,EAAE;AACP2C,MAAAA,WAAW,EAAEhH,MAAM,CAACiF,UAAP,CAAkBC,EADxB;AAEPd,MAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC;AAF7B;AAFC,GAAZ;AAOA,MAAIjB,MAAM,GAAG;AACX0E,IAAAA,QAAQ,EAAEJ,cAAc,CAACI,QADd;AAEXxE,IAAAA,WAAW,EAAE,IAFF;AAGXD,IAAAA,KAAK,EAAEA;AAHI,GAAb;AAKA,SAAOD,MAAP;AACD,CAxDD;;AA0DA,IAAI2Q,UAAU,GAAG,SAASA,UAAT,CAAoB5V,GAApB,EAAyBqI,SAAzB,EAAoC;AACnD,MAAIoJ,KAAK,GAAG;AACVzJ,IAAAA,WAAW,EAAEhI,GAAG,CAACiG,UAAJ,CAAeC,EADlB;AAEV6E,IAAAA,SAAS,EAAE,IAFD;AAGVS,IAAAA,aAAa,EAAE;AAHL,GAAZ;AAKA,SAAO,CAACiG,KAAD,EAAQ7S,MAAR,CAAeyJ,SAAf,CAAP;AACD,CAPD;;AAQA,IAAIwN,aAAa,GAAG,SAASA,aAAT,CAAuBxN,SAAvB,EAAkC;AACpD,SAAOA,SAAS,CAAC4E,KAAV,CAAgB,CAAhB,CAAP;AACD,CAFD;;AAIA,IAAI6I,WAAW,GAAI,UAAUpV,IAAV,EAAgB;AACjC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACImM,YAAY,GAAG3U,IAAI,CAAC2U,YADxB;AAAA,MAEIpO,SAAS,GAAGvG,IAAI,CAACuG,SAFrB;AAAA,MAGI8O,aAAa,GAAGrV,IAAI,CAACiM,iBAHzB;AAAA,MAII4I,QAAQ,GAAG7U,IAAI,CAAC6U,QAJpB;AAKA,MAAI5I,iBAAiB,GAAGoJ,aAAa,CAAC9I,KAAd,EAAxB;AACA,MAAIuI,YAAY,GAAGD,QAAQ,CAAC3P,KAA5B;AACA,MAAIoQ,eAAe,GAAG,CAACX,YAAvB;;AAEA,MAAIW,eAAJ,EAAqB;AACnBrJ,IAAAA,iBAAiB,CAACsC,MAAlB,CAAyBsG,QAAQ,CAAC3P,KAAlC,EAAyC,CAAzC,EAA4CqB,SAA5C;AACD;;AAED,MAAIgP,aAAa,GAAG/M,eAAe,GAAGsM,YAAY,GAAG,CAAlB,GAAsBA,YAAY,GAAG,CAAxE;;AAEA,MAAIS,aAAa,GAAG,CAApB,EAAuB;AACrB,WAAO,IAAP;AACD;;AAED,MAAIA,aAAa,GAAGtJ,iBAAiB,CAACpO,MAAlB,GAA2B,CAA/C,EAAkD;AAChD,WAAO,IAAP;AACD;;AAED,SAAO;AACL0X,IAAAA,aAAa,EAAEA,aADV;AAELC,IAAAA,kBAAkB,EAAE;AAFf,GAAP;AAID,CA5BD;;AA8BA,IAAIC,WAAW,GAAI,UAAUzV,IAAV,EAAgB;AACjC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACI/D,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEIoE,cAAc,GAAG7I,IAAI,CAAC6I,cAF1B;AAAA,MAGInD,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAIIlB,KAAK,GAAGxE,IAAI,CAACwE,KAJjB;AAAA,MAKI+C,MAAM,GAAGvH,IAAI,CAACuH,MALlB;;AAOA,MAAI,CAAC9C,WAAW,CAACuE,gBAAjB,EAAmC;AACjC,WAAO,IAAP;AACD;;AAED,MAAIC,QAAQ,GAAGJ,cAAc,CAACI,QAA9B;AACA,MAAIyM,SAAS,GAAGlR,KAAK,CAACG,OAAN,CAAc2C,WAA9B;AACA,MAAI3C,OAAO,GAAGe,UAAU,CAACgQ,SAAD,CAAxB;AACA,MAAIC,YAAY,GAAGhR,OAAO,CAACY,UAAR,CAAmBL,KAAtC;AACA,MAAI0Q,mBAAmB,GAAGvO,iBAAiB,CAACqO,SAAD,EAAYnO,MAAZ,CAA3C;;AAEA,MAAIqO,mBAAJ,EAAyB;AACvB,QAAIC,qBAAqB,GAAG,CAAC5M,QAAQ,CAACxI,GAAT,CAAaiV,SAAb,CAA7B;;AAEA,QAAIG,qBAAJ,EAA2B;AACzB,UAAIrN,eAAJ,EAAqB;AACnB,eAAO;AACL+M,UAAAA,aAAa,EAAEI,YADV;AAELH,UAAAA,kBAAkB,EAAE;AAFf,SAAP;AAID;;AAED,aAAO;AACLD,QAAAA,aAAa,EAAEI,YAAY,GAAG,CADzB;AAELH,QAAAA,kBAAkB,EAAE;AAFf,OAAP;AAID;;AAED,QAAIhN,eAAJ,EAAqB;AACnB,aAAO;AACL+M,QAAAA,aAAa,EAAEI,YADV;AAELH,QAAAA,kBAAkB,EAAE;AAFf,OAAP;AAID;;AAED,WAAO;AACLD,MAAAA,aAAa,EAAEI,YAAY,GAAG,CADzB;AAELH,MAAAA,kBAAkB,EAAE;AAFf,KAAP;AAID;;AAED,MAAI1N,WAAW,GAAGN,OAAO,CAACyB,QAAQ,CAACxI,GAAT,CAAaiV,SAAb,CAAD,CAAzB;;AAEA,MAAI5N,WAAJ,EAAiB;AACf,QAAIU,eAAJ,EAAqB;AACnB,aAAO;AACL+M,QAAAA,aAAa,EAAEI,YAAY,GAAG,CADzB;AAELH,QAAAA,kBAAkB,EAAE;AAFf,OAAP;AAID;;AAED,WAAO;AACLD,MAAAA,aAAa,EAAEI,YADV;AAELH,MAAAA,kBAAkB,EAAE;AAFf,KAAP;AAID;;AAED,MAAIhN,eAAJ,EAAqB;AACnB,WAAO;AACL+M,MAAAA,aAAa,EAAEI,YAAY,GAAG,CADzB;AAELH,MAAAA,kBAAkB,EAAE;AAFf,KAAP;AAID;;AAED,SAAO;AACLD,IAAAA,aAAa,EAAEI,YADV;AAELH,IAAAA,kBAAkB,EAAE;AAFf,GAAP;AAID,CA3ED;;AA6EA,IAAIM,eAAe,GAAI,UAAU9V,IAAV,EAAgB;AACrC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACImM,YAAY,GAAG3U,IAAI,CAAC2U,YADxB;AAAA,MAEIpO,SAAS,GAAGvG,IAAI,CAACuG,SAFrB;AAAA,MAGIb,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAIIjB,WAAW,GAAGzE,IAAI,CAACyE,WAJvB;AAAA,MAKIwH,iBAAiB,GAAGjM,IAAI,CAACiM,iBAL7B;AAAA,MAMIpD,cAAc,GAAG7I,IAAI,CAAC6I,cAN1B;AAAA,MAOItB,MAAM,GAAGvH,IAAI,CAACuH,MAPlB;;AASA,MAAIwO,WAAW,GAAG,YAAY;AAC5B,QAAIlN,cAAc,CAACpE,WAAnB,EAAgC;AAC9B,aAAO2Q,WAAW,CAAC;AACjB5M,QAAAA,eAAe,EAAEA,eADA;AAEjBmM,QAAAA,YAAY,EAAEA,YAFG;AAGjBpO,QAAAA,SAAS,EAAEA,SAHM;AAIjBsO,QAAAA,QAAQ,EAAEhM,cAAc,CAACpE,WAJR;AAKjBwH,QAAAA,iBAAiB,EAAEA;AALF,OAAD,CAAlB;AAOD;;AAED,QAAIpD,cAAc,CAACrE,KAAnB,EAA0B;AACxB,aAAOiR,WAAW,CAAC;AACjBjN,QAAAA,eAAe,EAAEA,eADA;AAEjB/D,QAAAA,WAAW,EAAEA,WAFI;AAGjBoE,QAAAA,cAAc,EAAEA,cAHC;AAIjBnD,QAAAA,UAAU,EAAEA,UAJK;AAKjBlB,QAAAA,KAAK,EAAEqE,cAAc,CAACrE,KALL;AAMjB+C,QAAAA,MAAM,EAAEA;AANS,OAAD,CAAlB;AAQD;;AACD,WAAO,IAAP;AACD,GAtBiB,EAAlB;;AAwBA,MAAIwO,WAAW,IAAI,IAAnB,EAAyB;AACvB,WAAO,IAAP;AACD;;AAED,MAAIR,aAAa,GAAGQ,WAAW,CAACR,aAAhC;AAAA,MACIC,kBAAkB,GAAGO,WAAW,CAACP,kBADrC;AAEA,MAAI3N,WAAW,GAAGsD,cAAc,CAAC1G,WAAW,CAACzC,IAAb,EAAmBuE,SAAS,CAAC8B,UAA7B,CAAhC;;AAEA,MAAIV,SAAS,GAAG,YAAY;AAC1B,QAAIqO,aAAa,GAAGnN,cAAc,CAACI,QAAf,CAAwBtB,SAA5C;;AAEA,QAAI,CAAC6N,kBAAL,EAAyB;AACvB,aAAOQ,aAAP;AACD;;AAED,QAAIxN,eAAJ,EAAqB;AACnB,aAAO2M,aAAa,CAACa,aAAD,CAApB;AACD;;AAED,QAAIC,gBAAgB,GAAGtK,uBAAuB,CAACpF,SAAD,EAAY0F,iBAAZ,CAA9C;AACA,QAAIiK,eAAe,GAAGD,gBAAgB,CAACV,aAAD,CAAtC;AACA,WAAOL,UAAU,CAACgB,eAAD,EAAkBF,aAAlB,CAAjB;AACD,GAde,EAAhB;;AAgBA,SAAO;AACL/M,IAAAA,QAAQ,EAAE;AACRpB,MAAAA,WAAW,EAAEA,WADL;AAERF,MAAAA,SAAS,EAAEA,SAFH;AAGRlH,MAAAA,GAAG,EAAEyK,kBAAkB,CAACvD,SAAD;AAHf,KADL;AAMLlD,IAAAA,WAAW,EAAE;AACXC,MAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC,EADzB;AAEXN,MAAAA,KAAK,EAAEqQ;AAFI,KANR;AAUL/Q,IAAAA,KAAK,EAAE;AAVF,GAAP;AAYD,CAtED;;AAwEA,IAAI2R,aAAa,GAAI,UAAUnW,IAAV,EAAgB;AACnC,MAAI2E,OAAO,GAAG3E,IAAI,CAAC2E,OAAnB;AAAA,MACI4C,MAAM,GAAGvH,IAAI,CAACuH,MADlB;AAAA,MAEI0B,QAAQ,GAAGjJ,IAAI,CAACiJ,QAFpB;AAAA,MAGIvD,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAIA,MAAIkC,WAAW,GAAGjD,OAAO,CAAC2C,WAA1B;AACA,MAAIuM,MAAM,GAAGnO,UAAU,CAACkC,WAAD,CAAV,CAAwBnF,IAAxB,CAA6B2F,SAA7B,CAAuCyL,MAApD;AACA,MAAIxL,UAAU,GAAGX,2BAA2B,CAAC;AAC3CC,IAAAA,SAAS,EAAEsB,QAAQ,CAACxI,GADuB;AAE3C8G,IAAAA,MAAM,EAAEA,MAFmC;AAG3CK,IAAAA,WAAW,EAAEA,WAH8B;AAI3CC,IAAAA,WAAW,EAAEoB,QAAQ,CAACpB;AAJqB,GAAD,CAA5C;AAMA,SAAOvI,GAAG,CAACuU,MAAD,EAASxL,UAAT,CAAV;AACD,CAdD;;AAgBA,IAAI+N,kCAAkC,GAAG,SAASA,kCAAT,CAA4CpU,IAA5C,EAAkDqU,GAAlD,EAAuD;AAC9F,SAAOA,GAAG,CAACzE,MAAJ,CAAW5P,IAAI,CAAC0B,KAAhB,IAAyB2S,GAAG,CAACjO,SAAJ,CAAcpG,IAAI,CAAC+E,IAAnB,IAA2B,CAA3D;AACD,CAFD;;AAIA,IAAIuP,gCAAgC,GAAG,SAASA,gCAAT,CAA0CtU,IAA1C,EAAgDqU,GAAhD,EAAqD;AAC1F,SAAOA,GAAG,CAACzE,MAAJ,CAAW5P,IAAI,CAACI,GAAhB,IAAuBiU,GAAG,CAACjO,SAAJ,CAAcpG,IAAI,CAAC+E,IAAnB,IAA2B,CAAzD;AACD,CAFD;;AAIA,IAAIwP,2BAA2B,GAAG,SAASA,2BAAT,CAAqCvU,IAArC,EAA2C1B,MAA3C,EAAmDkW,QAAnD,EAA6D;AAC7F,SAAOlW,MAAM,CAAC0B,IAAI,CAACgF,cAAN,CAAN,GAA8BwP,QAAQ,CAAC5E,MAAT,CAAgB5P,IAAI,CAACgF,cAArB,CAA9B,GAAqEwP,QAAQ,CAACpO,SAAT,CAAmBpG,IAAI,CAACkF,aAAxB,IAAyC,CAArH;AACD,CAFD;;AAIA,IAAIuP,OAAO,GAAG,SAASA,OAAT,CAAiBzW,IAAjB,EAAuB;AACnC,MAAIgC,IAAI,GAAGhC,IAAI,CAACgC,IAAhB;AAAA,MACI0U,cAAc,GAAG1W,IAAI,CAAC0W,cAD1B;AAAA,MAEIF,QAAQ,GAAGxW,IAAI,CAACwW,QAFpB;AAGA,SAAO3W,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAY4W,cAAc,CAAC/T,SAAf,CAAyBX,IAAI,CAACI,GAA9B,IAAqCgU,kCAAkC,CAACpU,IAAD,EAAOwU,QAAP,CAAnF,EAAqGD,2BAA2B,CAACvU,IAAD,EAAO0U,cAAc,CAAC/T,SAAtB,EAAiC6T,QAAjC,CAAhI,CAAZ;AACD,CALD;;AAMA,IAAIG,QAAQ,GAAG,SAASA,QAAT,CAAkBhO,KAAlB,EAAyB;AACtC,MAAI3G,IAAI,GAAG2G,KAAK,CAAC3G,IAAjB;AAAA,MACI0U,cAAc,GAAG/N,KAAK,CAAC+N,cAD3B;AAAA,MAEIF,QAAQ,GAAG7N,KAAK,CAAC6N,QAFrB;AAGA,SAAO3W,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAY4W,cAAc,CAAC/T,SAAf,CAAyBX,IAAI,CAAC0B,KAA9B,IAAuC4S,gCAAgC,CAACtU,IAAD,EAAOwU,QAAP,CAAnF,EAAqGD,2BAA2B,CAACvU,IAAD,EAAO0U,cAAc,CAAC/T,SAAtB,EAAiC6T,QAAjC,CAAhI,CAAZ;AACD,CALD;;AAMA,IAAII,WAAW,GAAG,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AAC5C,MAAI7U,IAAI,GAAG6U,KAAK,CAAC7U,IAAjB;AAAA,MACI8U,QAAQ,GAAGD,KAAK,CAACC,QADrB;AAAA,MAEIN,QAAQ,GAAGK,KAAK,CAACL,QAFrB;AAGA,SAAO3W,KAAK,CAACmC,IAAI,CAAClC,IAAN,EAAYgX,QAAQ,CAACxG,UAAT,CAAoBtO,IAAI,CAAC0B,KAAzB,IAAkC0S,kCAAkC,CAACpU,IAAD,EAAOwU,QAAP,CAAhF,EAAkGD,2BAA2B,CAACvU,IAAD,EAAO8U,QAAQ,CAACxG,UAAhB,EAA4BkG,QAA5B,CAA7H,CAAZ;AACD,CALD;;AAOA,IAAIO,cAAc,GAAI,UAAU/W,IAAV,EAAgB;AACpC,MAAIiJ,QAAQ,GAAGjJ,IAAI,CAACiJ,QAApB;AAAA,MACI1C,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEIb,UAAU,GAAG1F,IAAI,CAAC0F,UAFtB;AAAA,MAGI1C,SAAS,GAAGhD,IAAI,CAACgD,SAHrB;AAAA,MAIIuE,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAKA,MAAI0E,iBAAiB,GAAG5F,4BAA4B,CAACrD,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BE,UAA1B,CAApD;AACA,MAAIsR,aAAa,GAAGzQ,SAAS,CAAC9D,IAA9B;AACA,MAAIT,IAAI,GAAGgB,SAAS,CAAChB,IAArB;;AAEA,MAAI,CAACiK,iBAAiB,CAACpO,MAAvB,EAA+B;AAC7B,WAAO+Y,WAAW,CAAC;AACjB5U,MAAAA,IAAI,EAAEA,IADW;AAEjB8U,MAAAA,QAAQ,EAAE9T,SAAS,CAACP,IAFH;AAGjB+T,MAAAA,QAAQ,EAAEQ;AAHO,KAAD,CAAlB;AAKD;;AAED,MAAIrP,SAAS,GAAGsB,QAAQ,CAACtB,SAAzB;AAAA,MACIE,WAAW,GAAGoB,QAAQ,CAACpB,WAD3B;;AAGA,MAAIF,SAAS,CAAC9J,MAAd,EAAsB;AACpB,QAAIoZ,YAAY,GAAGvR,UAAU,CAACiC,SAAS,CAAC,CAAD,CAAT,CAAaL,WAAd,CAA7B;;AAEA,QAAID,iBAAiB,CAAC4P,YAAY,CAAC1R,UAAb,CAAwBC,EAAzB,EAA6B+B,MAA7B,CAArB,EAA2D;AACzD,aAAOoP,QAAQ,CAAC;AACd3U,QAAAA,IAAI,EAAEA,IADQ;AAEd0U,QAAAA,cAAc,EAAEO,YAAY,CAACxU,IAFf;AAGd+T,QAAAA,QAAQ,EAAEQ;AAHI,OAAD,CAAf;AAKD;;AAED,QAAIE,gBAAgB,GAAG9b,MAAM,CAAC6b,YAAY,CAACxU,IAAd,EAAoBoF,WAAW,CAACjI,KAAhC,CAA7B;AACA,WAAO+W,QAAQ,CAAC;AACd3U,MAAAA,IAAI,EAAEA,IADQ;AAEd0U,MAAAA,cAAc,EAAEQ,gBAFF;AAGdV,MAAAA,QAAQ,EAAEQ;AAHI,KAAD,CAAf;AAKD;;AAED,MAAIjE,IAAI,GAAG9G,iBAAiB,CAACA,iBAAiB,CAACpO,MAAlB,GAA2B,CAA5B,CAA5B;;AAEA,MAAIkV,IAAI,CAACxN,UAAL,CAAgBC,EAAhB,KAAuBe,SAAS,CAAChB,UAAV,CAAqBC,EAAhD,EAAoD;AAClD,WAAOwR,aAAa,CAAC5O,SAAd,CAAwByL,MAA/B;AACD;;AAED,MAAIxM,iBAAiB,CAAC0L,IAAI,CAACxN,UAAL,CAAgBC,EAAjB,EAAqB+B,MAArB,CAArB,EAAmD;AACjD,QAAI9E,IAAI,GAAGrH,MAAM,CAAC2X,IAAI,CAACtQ,IAAN,EAAY9C,MAAM,CAAC4H,MAAM,CAACM,WAAP,CAAmBjI,KAApB,CAAlB,CAAjB;AACA,WAAO6W,OAAO,CAAC;AACbzU,MAAAA,IAAI,EAAEA,IADO;AAEb0U,MAAAA,cAAc,EAAEjU,IAFH;AAGb+T,MAAAA,QAAQ,EAAEQ;AAHG,KAAD,CAAd;AAKD;;AAED,SAAOP,OAAO,CAAC;AACbzU,IAAAA,IAAI,EAAEA,IADO;AAEb0U,IAAAA,cAAc,EAAE3D,IAAI,CAACtQ,IAFR;AAGb+T,IAAAA,QAAQ,EAAEQ;AAHG,GAAD,CAAd;AAKD,CA5DD;;AA8DA,IAAIzM,yBAAyB,GAAI,UAAUvH,SAAV,EAAqBpD,KAArB,EAA4B;AAC3D,MAAIe,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAOf,KAAP;AACD;;AAED,SAAON,GAAG,CAACM,KAAD,EAAQe,KAAK,CAACiB,MAAN,CAAaC,IAAb,CAAkBC,YAA1B,CAAV;AACD,CARD;;AAUA,IAAIqV,qCAAqC,GAAG,SAASA,qCAAT,CAA+CnX,IAA/C,EAAqD;AAC/F,MAAIuE,MAAM,GAAGvE,IAAI,CAACuE,MAAlB;AAAA,MACIgC,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEIvD,SAAS,GAAGhD,IAAI,CAACgD,SAFrB;AAAA,MAGI0C,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAII6B,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAKA,MAAI/C,KAAK,GAAGD,MAAM,CAACC,KAAnB;AACA,MAAIC,WAAW,GAAGF,MAAM,CAACE,WAAzB;AACA,MAAIsJ,QAAQ,GAAGxH,SAAS,CAAC9D,IAAV,CAAe2F,SAAf,CAAyByL,MAAxC;;AAEA,MAAI,CAAC7Q,SAAL,EAAgB;AACd,WAAO+K,QAAP;AACD;;AAED,MAAItJ,WAAJ,EAAiB;AACf,WAAOsS,cAAc,CAAC;AACpB9N,MAAAA,QAAQ,EAAE1E,MAAM,CAAC0E,QADG;AAEpB1C,MAAAA,SAAS,EAAEA,SAFS;AAGpBb,MAAAA,UAAU,EAAEA,UAHQ;AAIpB1C,MAAAA,SAAS,EAAEA,SAJS;AAKpBuE,MAAAA,MAAM,EAAEA;AALY,KAAD,CAArB;AAOD;;AAED,MAAI/C,KAAJ,EAAW;AACT,WAAO2R,aAAa,CAAC;AACnBlN,MAAAA,QAAQ,EAAE1E,MAAM,CAAC0E,QADE;AAEnBtE,MAAAA,OAAO,EAAEH,KAAK,CAACG,OAFI;AAGnBe,MAAAA,UAAU,EAAEA,UAHO;AAInB6B,MAAAA,MAAM,EAAEA;AAJW,KAAD,CAApB;AAMD;;AAED,SAAOwG,QAAP;AACD,CAlCD;;AAoCA,IAAIqJ,gCAAgC,GAAI,UAAUtZ,IAAV,EAAgB;AACtD,MAAIuZ,mBAAmB,GAAGF,qCAAqC,CAACrZ,IAAD,CAA/D;AACA,MAAIkF,SAAS,GAAGlF,IAAI,CAACkF,SAArB;AACA,MAAIkU,gBAAgB,GAAGlU,SAAS,GAAGuH,yBAAyB,CAACvH,SAAD,EAAYqU,mBAAZ,CAA5B,GAA+DA,mBAA/F;AACA,SAAOH,gBAAP;AACD,CALD;;AAOA,IAAII,cAAc,GAAI,UAAUlN,QAAV,EAAoBnH,SAApB,EAA+B;AACnD,MAAIpB,IAAI,GAAGpC,QAAQ,CAACwD,SAAD,EAAYmH,QAAQ,CAACxI,MAAT,CAAgBwB,OAA5B,CAAnB;AACA,MAAItB,YAAY,GAAGnC,MAAM,CAACkC,IAAD,CAAzB;AACA,MAAIlB,KAAK,GAAGzF,OAAO,CAAC;AAClB4F,IAAAA,GAAG,EAAEmC,SAAS,CAAC5D,CADG;AAElB4B,IAAAA,MAAM,EAAEgC,SAAS,CAAC5D,CAAV,GAAc+K,QAAQ,CAACzJ,KAAT,CAAeS,MAFnB;AAGlBF,IAAAA,IAAI,EAAE+B,SAAS,CAAC7D,CAHE;AAIlB4B,IAAAA,KAAK,EAAEiC,SAAS,CAAC7D,CAAV,GAAcgL,QAAQ,CAACzJ,KAAT,CAAeQ;AAJlB,GAAD,CAAnB;AAMA,MAAIuN,OAAO,GAAG;AACZ/N,IAAAA,KAAK,EAAEA,KADK;AAEZiB,IAAAA,MAAM,EAAE;AACNwB,MAAAA,OAAO,EAAEgH,QAAQ,CAACxI,MAAT,CAAgBwB,OADnB;AAENrC,MAAAA,GAAG,EAAEqJ,QAAQ,CAACxI,MAAT,CAAgBb,GAFf;AAGNuC,MAAAA,OAAO,EAAEL,SAHH;AAINpB,MAAAA,IAAI,EAAE;AACJtF,QAAAA,KAAK,EAAEsF,IADH;AAEJC,QAAAA,YAAY,EAAEA;AAFV;AAJA;AAFI,GAAd;AAYA,SAAO4M,OAAP;AACD,CAtBD;;AAwBA,IAAI6I,mBAAmB,GAAI,UAAUhT,MAAV,EAAkBoD,SAAlB,EAA6B;AACtD,SAAO3N,QAAQ,CAAC,EAAD,EAAKuK,MAAL,EAAa;AAC1B0E,IAAAA,QAAQ,EAAEjP,QAAQ,CAAC,EAAD,EAAKuK,MAAM,CAAC0E,QAAZ,EAAsB;AACtCtB,MAAAA,SAAS,EAAEA,SAD2B;AAEtClH,MAAAA,GAAG,EAAEyK,kBAAkB,CAACvD,SAAD;AAFe,KAAtB;AADQ,GAAb,CAAf;AAMD,CAPD;;AASA,IAAI6P,qBAAqB,GAAI,UAAUxX,IAAV,EAAgB;AAC3C,MAAIuE,MAAM,GAAGvE,IAAI,CAACuE,MAAlB;AAAA,MACI6F,QAAQ,GAAGpK,IAAI,CAACoK,QADpB;AAAA,MAEI3F,WAAW,GAAGzE,IAAI,CAACyE,WAFvB;AAAA,MAGIiB,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAII+R,eAAe,GAAGzX,IAAI,CAACyX,eAJ3B;AAAA,MAKIlQ,MAAM,GAAGvH,IAAI,CAACuH,MALlB;AAMA,MAAII,SAAS,GAAGpD,MAAM,CAAC0E,QAAP,CAAgBtB,SAAhC;AACA,MAAI+P,gBAAgB,GAAGJ,cAAc,CAAClN,QAAD,EAAW9K,GAAG,CAAC8K,QAAQ,CAACxI,MAAT,CAAgB0B,OAAjB,EAA0BmU,eAA1B,CAAd,CAArC;AACA,MAAIE,iBAAiB,GAAGlT,WAAW,CAAC9D,KAAZ,GAAoBoC,eAAe,CAAC0B,WAAD,EAAcnF,GAAG,CAACmF,WAAW,CAAC9D,KAAZ,CAAkBiB,MAAlB,CAAyB0B,OAA1B,EAAmCmU,eAAnC,CAAjB,CAAnC,GAA2GhT,WAAnI;AACA,MAAIiK,OAAO,GAAG/G,SAAS,CAAClH,GAAV,CAAc,UAAUmX,KAAV,EAAiB;AAC3C,QAAIA,KAAK,CAACvN,SAAV,EAAqB;AACnB,aAAOuN,KAAP;AACD;;AAED,QAAIrR,SAAS,GAAGb,UAAU,CAACkS,KAAK,CAACtQ,WAAP,CAA1B;AACA,QAAIuQ,oBAAoB,GAAG5M,eAAe,CAAC;AACzC1E,MAAAA,SAAS,EAAEA,SAD8B;AAEzC9B,MAAAA,WAAW,EAAEA,WAF4B;AAGzCoE,MAAAA,cAAc,EAAEtE,MAHyB;AAIzC6F,MAAAA,QAAQ,EAAEsN,gBAAgB,CAAC/W,KAJc;AAKzC4G,MAAAA,MAAM,EAAEA,MALiC;AAMzCsD,MAAAA,kBAAkB,EAAE;AANqB,KAAD,CAA1C;;AASA,QAAIgN,oBAAoB,CAACxN,SAAzB,EAAoC;AAClC,aAAOwN,oBAAP;AACD;;AAED,QAAIC,qBAAqB,GAAG7M,eAAe,CAAC;AAC1C1E,MAAAA,SAAS,EAAEA,SAD+B;AAE1C9B,MAAAA,WAAW,EAAEkT,iBAF6B;AAG1C9O,MAAAA,cAAc,EAAEtE,MAH0B;AAI1C6F,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJuB;AAK1C4G,MAAAA,MAAM,EAAEA,MALkC;AAM1CsD,MAAAA,kBAAkB,EAAE;AANsB,KAAD,CAA3C;;AASA,QAAIiN,qBAAqB,CAACzN,SAA1B,EAAqC;AACnC,aAAOyN,qBAAP;AACD;;AAED,WAAOF,KAAP;AACD,GAjCa,CAAd;AAkCA,SAAOL,mBAAmB,CAAChT,MAAD,EAASmK,OAAT,CAA1B;AACD,CA7CD;;AA+CA,IAAIqJ,wBAAwB,GAAI,UAAU3N,QAAV,EAAoBxK,KAApB,EAA2B;AACzD,SAAON,GAAG,CAAC8K,QAAQ,CAACxI,MAAT,CAAgBC,IAAhB,CAAqBC,YAAtB,EAAoClC,KAApC,CAAV;AACD,CAFD;;AAIA,IAAIoY,gCAAgC,GAAI,UAAUhY,IAAV,EAAgB;AACtD,MAAI+L,mBAAmB,GAAG/L,IAAI,CAAC+L,mBAA/B;AAAA,MACIxF,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEI6D,QAAQ,GAAGpK,IAAI,CAACoK,QAFpB;AAGA,MAAI6N,uBAAuB,GAAGF,wBAAwB,CAAC3N,QAAD,EAAW2B,mBAAX,CAAtD;AACA,MAAI3Q,MAAM,GAAGqE,QAAQ,CAACwY,uBAAD,EAA0B1R,SAAS,CAAC9D,IAAV,CAAe2F,SAAf,CAAyByL,MAAnD,CAArB;AACA,SAAOvU,GAAG,CAACiH,SAAS,CAACuG,MAAV,CAAiB1E,SAAjB,CAA2ByL,MAA5B,EAAoCzY,MAApC,CAAV;AACD,CAPD;;AASA,IAAI8c,6BAA6B,GAAI,UAAUlY,IAAV,EAAgB;AACnD,MAAIuG,SAAS,GAAGvG,IAAI,CAACuG,SAArB;AAAA,MACI9B,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEI0T,sBAAsB,GAAGnY,IAAI,CAACmY,sBAFlC;AAAA,MAGI/N,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAAA,MAIIG,yBAAyB,GAAGvK,IAAI,CAACuK,yBAJrC;AAAA,MAKI6N,mBAAmB,GAAGpY,IAAI,CAACqY,cAL/B;AAAA,MAMIA,cAAc,GAAGD,mBAAmB,KAAK,KAAK,CAA7B,GAAiC,KAAjC,GAAyCA,mBAN9D;AAOA,MAAIE,YAAY,GAAG7Y,QAAQ,CAAC0Y,sBAAD,EAAyB5R,SAAS,CAAC9D,IAAV,CAAe2F,SAAf,CAAyByL,MAAlD,CAA3B;AACA,MAAIhG,OAAO,GAAGrM,gBAAgB,CAAC+E,SAAS,CAAC9D,IAAV,CAAe2F,SAAhB,EAA2BkQ,YAA3B,CAA9B;AACA,MAAIxa,IAAI,GAAG;AACTwC,IAAAA,MAAM,EAAEuN,OADC;AAETpJ,IAAAA,WAAW,EAAEA,WAFJ;AAGT8F,IAAAA,yBAAyB,EAAEA,yBAHlB;AAITH,IAAAA,QAAQ,EAAEA;AAJD,GAAX;AAMA,SAAOiO,cAAc,GAAG1N,sBAAsB,CAAC7M,IAAD,CAAzB,GAAkC4M,gBAAgB,CAAC5M,IAAD,CAAvE;AACD,CAjBD;;AAmBA,IAAIya,eAAe,GAAI,UAAUvY,IAAV,EAAgB;AACrC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACIjC,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEI9B,WAAW,GAAGzE,IAAI,CAACyE,WAFvB;AAAA,MAGIiB,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAIImD,cAAc,GAAG7I,IAAI,CAAC6I,cAJ1B;AAAA,MAKIuB,QAAQ,GAAGpK,IAAI,CAACoK,QALpB;AAAA,MAMIoO,2BAA2B,GAAGxY,IAAI,CAACwY,2BANvC;AAAA,MAOIC,uBAAuB,GAAGzY,IAAI,CAACyY,uBAPnC;AAAA,MAQIlR,MAAM,GAAGvH,IAAI,CAACuH,MARlB;;AAUA,MAAI,CAAC9C,WAAW,CAACjB,SAAjB,EAA4B;AAC1B,WAAO,IAAP;AACD;;AAED,MAAIyI,iBAAiB,GAAG5F,4BAA4B,CAAC5B,WAAW,CAACc,UAAZ,CAAuBC,EAAxB,EAA4BE,UAA5B,CAApD;AACA,MAAIiP,YAAY,GAAGzE,QAAQ,CAAC3J,SAAD,EAAY9B,WAAZ,CAA3B;AACA,MAAIF,MAAM,GAAGmQ,iBAAiB,CAAC;AAC7BC,IAAAA,YAAY,EAAEA,YADe;AAE7BnM,IAAAA,eAAe,EAAEA,eAFY;AAG7BjC,IAAAA,SAAS,EAAEA,SAHkB;AAI7B9B,IAAAA,WAAW,EAAEA,WAJgB;AAK7BwH,IAAAA,iBAAiB,EAAEA,iBALU;AAM7BpD,IAAAA,cAAc,EAAEA;AANa,GAAD,CAAjB,IAOPiN,eAAe,CAAC;AACpBtN,IAAAA,eAAe,EAAEA,eADG;AAEpBmM,IAAAA,YAAY,EAAEA,YAFM;AAGpBpO,IAAAA,SAAS,EAAEA,SAHS;AAIpBb,IAAAA,UAAU,EAAEA,UAJQ;AAKpBjB,IAAAA,WAAW,EAAEA,WALO;AAMpBwH,IAAAA,iBAAiB,EAAEA,iBANC;AAOpBpD,IAAAA,cAAc,EAAEA,cAPI;AAQpBtB,IAAAA,MAAM,EAAEA;AARY,GAAD,CAPrB;;AAkBA,MAAI,CAAChD,MAAL,EAAa;AACX,WAAO,IAAP;AACD;;AAED,MAAIwH,mBAAmB,GAAGqL,gCAAgC,CAAC;AACzD7S,IAAAA,MAAM,EAAEA,MADiD;AAEzDgC,IAAAA,SAAS,EAAEA,SAF8C;AAGzDvD,IAAAA,SAAS,EAAEyB,WAH8C;AAIzDiB,IAAAA,UAAU,EAAEA,UAJ6C;AAKzD6B,IAAAA,MAAM,EAAEA;AALiD,GAAD,CAA1D;AAOA,MAAImR,sBAAsB,GAAGR,6BAA6B,CAAC;AACzD3R,IAAAA,SAAS,EAAEA,SAD8C;AAEzD9B,IAAAA,WAAW,EAAEA,WAF4C;AAGzD0T,IAAAA,sBAAsB,EAAEpM,mBAHiC;AAIzD3B,IAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJsC;AAKzD4J,IAAAA,yBAAyB,EAAE,KAL8B;AAMzD8N,IAAAA,cAAc,EAAE;AANyC,GAAD,CAA1D;;AASA,MAAIK,sBAAJ,EAA4B;AAC1B,QAAIC,eAAe,GAAGX,gCAAgC,CAAC;AACrDjM,MAAAA,mBAAmB,EAAEA,mBADgC;AAErDxF,MAAAA,SAAS,EAAEA,SAF0C;AAGrD6D,MAAAA,QAAQ,EAAEA;AAH2C,KAAD,CAAtD;AAKA,WAAO;AACLuO,MAAAA,eAAe,EAAEA,eADZ;AAELpU,MAAAA,MAAM,EAAEA,MAFH;AAGLqU,MAAAA,iBAAiB,EAAE;AAHd,KAAP;AAKD;;AAED,MAAI3Y,QAAQ,GAAGR,QAAQ,CAACsM,mBAAD,EAAsByM,2BAAtB,CAAvB;AACA,MAAIK,QAAQ,GAAGrB,qBAAqB,CAAC;AACnCjT,IAAAA,MAAM,EAAEA,MAD2B;AAEnC6F,IAAAA,QAAQ,EAAEA,QAFyB;AAGnC3F,IAAAA,WAAW,EAAEA,WAHsB;AAInCiB,IAAAA,UAAU,EAAEA,UAJuB;AAKnC+R,IAAAA,eAAe,EAAExX,QALkB;AAMnCsH,IAAAA,MAAM,EAAEA;AAN2B,GAAD,CAApC;AAQA,SAAO;AACLoR,IAAAA,eAAe,EAAEF,uBADZ;AAELlU,IAAAA,MAAM,EAAEsU,QAFH;AAGLD,IAAAA,iBAAiB,EAAE3Y;AAHd,GAAP;AAKD,CAlFD;;AAoFA,IAAI6Y,cAAc,GAAG,SAASA,cAAT,CAAwB9V,SAAxB,EAAmC;AACtD,MAAI+V,IAAI,GAAG/V,SAAS,CAACpC,OAAV,CAAkBkC,MAA7B;AACA,GAACiW,IAAD,GAAQ9c,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wCAAR,CAAjD,GAAqGA,SAAS,CAAC,KAAD,CAAtH,GAAgI,KAAK,CAArI;AACA,SAAOqe,IAAP;AACD,CAJD;;AAMA,IAAIC,yBAAyB,GAAI,UAAUhZ,IAAV,EAAgB;AAC/C,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACIuD,mBAAmB,GAAG/L,IAAI,CAAC+L,mBAD/B;AAAA,MAEIkN,MAAM,GAAGjZ,IAAI,CAACiZ,MAFlB;AAAA,MAGI5T,UAAU,GAAGrF,IAAI,CAACqF,UAHtB;AAAA,MAII+E,QAAQ,GAAGpK,IAAI,CAACoK,QAJpB;AAKA,MAAItH,MAAM,GAAGmW,MAAM,CAACrY,OAAP,CAAekC,MAA5B;;AAEA,MAAI,CAACA,MAAL,EAAa;AACX,WAAO,IAAP;AACD;;AAED,MAAId,IAAI,GAAGiX,MAAM,CAACjX,IAAlB;AACA,MAAIkX,sBAAsB,GAAGrT,QAAQ,CAAC/C,MAAM,CAACd,IAAI,CAAC0B,KAAN,CAAP,EAAqBZ,MAAM,CAACd,IAAI,CAACI,GAAN,CAA3B,CAArC;AACA,MAAI+W,UAAU,GAAGxT,eAAe,CAACN,UAAD,CAAf,CAA4BiB,MAA5B,CAAmC,UAAUtD,SAAV,EAAqB;AACvE,WAAOA,SAAS,KAAKiW,MAArB;AACD,GAFgB,EAEd3S,MAFc,CAEP,UAAUtD,SAAV,EAAqB;AAC7B,WAAOA,SAAS,CAACQ,SAAjB;AACD,GAJgB,EAId8C,MAJc,CAIP,UAAUtD,SAAV,EAAqB;AAC7B,WAAOwE,OAAO,CAACxE,SAAS,CAACpC,OAAV,CAAkBkC,MAAnB,CAAd;AACD,GANgB,EAMdwD,MANc,CAMP,UAAUtD,SAAV,EAAqB;AAC7B,WAAOqG,8BAA8B,CAACe,QAAQ,CAACzJ,KAAV,CAA9B,CAA+CmY,cAAc,CAAC9V,SAAD,CAA7D,CAAP;AACD,GARgB,EAQdsD,MARc,CAQP,UAAUtD,SAAV,EAAqB;AAC7B,QAAIoW,cAAc,GAAGN,cAAc,CAAC9V,SAAD,CAAnC;;AAEA,QAAIwF,eAAJ,EAAqB;AACnB,aAAO1F,MAAM,CAACd,IAAI,CAACiF,YAAN,CAAN,GAA4BmS,cAAc,CAACpX,IAAI,CAACiF,YAAN,CAAjD;AACD;;AAED,WAAOmS,cAAc,CAACpX,IAAI,CAACgF,cAAN,CAAd,GAAsClE,MAAM,CAACd,IAAI,CAACgF,cAAN,CAAnD;AACD,GAhBgB,EAgBdV,MAhBc,CAgBP,UAAUtD,SAAV,EAAqB;AAC7B,QAAIoW,cAAc,GAAGN,cAAc,CAAC9V,SAAD,CAAnC;AACA,QAAIqW,2BAA2B,GAAGxT,QAAQ,CAACuT,cAAc,CAACpX,IAAI,CAAC0B,KAAN,CAAf,EAA6B0V,cAAc,CAACpX,IAAI,CAACI,GAAN,CAA3C,CAA1C;AACA,WAAO8W,sBAAsB,CAACE,cAAc,CAACpX,IAAI,CAAC0B,KAAN,CAAf,CAAtB,IAAsDwV,sBAAsB,CAACE,cAAc,CAACpX,IAAI,CAACI,GAAN,CAAf,CAA5E,IAA0GiX,2BAA2B,CAACvW,MAAM,CAACd,IAAI,CAAC0B,KAAN,CAAP,CAArI,IAA6J2V,2BAA2B,CAACvW,MAAM,CAACd,IAAI,CAACI,GAAN,CAAP,CAA/L;AACD,GApBgB,EAoBdoE,IApBc,CAoBT,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,QAAIpF,KAAK,GAAGwX,cAAc,CAACrS,CAAD,CAAd,CAAkBzE,IAAI,CAACgF,cAAvB,CAAZ;AACA,QAAIzF,MAAM,GAAGuX,cAAc,CAACpS,CAAD,CAAd,CAAkB1E,IAAI,CAACgF,cAAvB,CAAb;;AAEA,QAAIwB,eAAJ,EAAqB;AACnB,aAAOlH,KAAK,GAAGC,MAAf;AACD;;AAED,WAAOA,MAAM,GAAGD,KAAhB;AACD,GA7BgB,EA6BdgF,MA7Bc,CA6BP,UAAUtD,SAAV,EAAqBkC,KAArB,EAA4BoU,KAA5B,EAAmC;AAC3C,WAAOR,cAAc,CAAC9V,SAAD,CAAd,CAA0BhB,IAAI,CAACgF,cAA/B,MAAmD8R,cAAc,CAACQ,KAAK,CAAC,CAAD,CAAN,CAAd,CAAyBtX,IAAI,CAACgF,cAA9B,CAA1D;AACD,GA/BgB,CAAjB;;AAiCA,MAAI,CAACmS,UAAU,CAACtb,MAAhB,EAAwB;AACtB,WAAO,IAAP;AACD;;AAED,MAAIsb,UAAU,CAACtb,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,WAAOsb,UAAU,CAAC,CAAD,CAAjB;AACD;;AAED,MAAII,QAAQ,GAAGJ,UAAU,CAAC7S,MAAX,CAAkB,UAAUtD,SAAV,EAAqB;AACpD,QAAIwW,iBAAiB,GAAG3T,QAAQ,CAACiT,cAAc,CAAC9V,SAAD,CAAd,CAA0BhB,IAAI,CAAC0B,KAA/B,CAAD,EAAwCoV,cAAc,CAAC9V,SAAD,CAAd,CAA0BhB,IAAI,CAACI,GAA/B,CAAxC,CAAhC;AACA,WAAOoX,iBAAiB,CAACzN,mBAAmB,CAAC/J,IAAI,CAAClC,IAAN,CAApB,CAAxB;AACD,GAHc,CAAf;;AAKA,MAAIyZ,QAAQ,CAAC1b,MAAT,KAAoB,CAAxB,EAA2B;AACzB,WAAO0b,QAAQ,CAAC,CAAD,CAAf;AACD;;AAED,MAAIA,QAAQ,CAAC1b,MAAT,GAAkB,CAAtB,EAAyB;AACvB,WAAO0b,QAAQ,CAAC/S,IAAT,CAAc,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACnC,aAAOoS,cAAc,CAACrS,CAAD,CAAd,CAAkBzE,IAAI,CAAC0B,KAAvB,IAAgCoV,cAAc,CAACpS,CAAD,CAAd,CAAkB1E,IAAI,CAAC0B,KAAvB,CAAvC;AACD,KAFM,EAEJ,CAFI,CAAP;AAGD;;AAED,SAAOyV,UAAU,CAAC3S,IAAX,CAAgB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACrC,QAAIpF,KAAK,GAAGjB,OAAO,CAAC0L,mBAAD,EAAsBrK,UAAU,CAACoX,cAAc,CAACrS,CAAD,CAAf,CAAhC,CAAnB;AACA,QAAIlF,MAAM,GAAGlB,OAAO,CAAC0L,mBAAD,EAAsBrK,UAAU,CAACoX,cAAc,CAACpS,CAAD,CAAf,CAAhC,CAApB;;AAEA,QAAIpF,KAAK,KAAKC,MAAd,EAAsB;AACpB,aAAOD,KAAK,GAAGC,MAAf;AACD;;AAED,WAAOuX,cAAc,CAACrS,CAAD,CAAd,CAAkBzE,IAAI,CAAC0B,KAAvB,IAAgCoV,cAAc,CAACpS,CAAD,CAAd,CAAkB1E,IAAI,CAAC0B,KAAvB,CAAvC;AACD,GATM,EASJ,CATI,CAAP;AAUD,CAhFD;;AAkFA,IAAI+V,6BAA6B,GAAG,SAASA,6BAAT,CAAuClT,SAAvC,EAAkDgB,MAAlD,EAA0D;AAC5F,MAAIwG,QAAQ,GAAGxH,SAAS,CAAC9D,IAAV,CAAe2F,SAAf,CAAyByL,MAAxC;AACA,SAAOxM,iBAAiB,CAACd,SAAS,CAAChB,UAAV,CAAqBC,EAAtB,EAA0B+B,MAA1B,CAAjB,GAAqD9H,QAAQ,CAACsO,QAAD,EAAWxG,MAAM,CAACM,WAAP,CAAmBjI,KAA9B,CAA7D,GAAoGmO,QAA3G;AACD,CAHD;;AAIA,IAAI2L,uBAAuB,GAAG,SAASA,uBAAT,CAAiCnT,SAAjC,EAA4CgB,MAA5C,EAAoD;AAChF,MAAIwG,QAAQ,GAAGxH,SAAS,CAAC9D,IAAV,CAAe2F,SAA9B;AACA,SAAOf,iBAAiB,CAACd,SAAS,CAAChB,UAAV,CAAqBC,EAAtB,EAA0B+B,MAA1B,CAAjB,GAAqD/F,gBAAgB,CAACuM,QAAD,EAAWpO,MAAM,CAAC4H,MAAM,CAACM,WAAP,CAAmBjI,KAApB,CAAjB,CAArE,GAAoHmO,QAA3H;AACD,CAHD;;AAKA,IAAI4L,mBAAmB,GAAI,UAAU3Z,IAAV,EAAgB;AACzC,MAAI+L,mBAAmB,GAAG/L,IAAI,CAAC+L,mBAA/B;AAAA,MACI3B,QAAQ,GAAGpK,IAAI,CAACoK,QADpB;AAAA,MAEI3F,WAAW,GAAGzE,IAAI,CAACyE,WAFvB;AAAA,MAGIwH,iBAAiB,GAAGjM,IAAI,CAACiM,iBAH7B;AAAA,MAII1E,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAKA,MAAIqS,MAAM,GAAG3N,iBAAiB,CAAC3F,MAAlB,CAAyB,UAAUC,SAAV,EAAqB;AACzD,WAAOmE,gBAAgB,CAAC;AACtBpK,MAAAA,MAAM,EAAEoZ,uBAAuB,CAACnT,SAAD,EAAYgB,MAAZ,CADT;AAEtB9C,MAAAA,WAAW,EAAEA,WAFS;AAGtB2F,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAHG;AAItB4J,MAAAA,yBAAyB,EAAE;AAJL,KAAD,CAAvB;AAMD,GAPY,EAOV/D,IAPU,CAOL,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,QAAImT,WAAW,GAAG5Z,QAAQ,CAAC8L,mBAAD,EAAsBxB,yBAAyB,CAAC9F,WAAD,EAAcgV,6BAA6B,CAAChT,CAAD,EAAIc,MAAJ,CAA3C,CAA/C,CAA1B;AACA,QAAIuS,WAAW,GAAG7Z,QAAQ,CAAC8L,mBAAD,EAAsBxB,yBAAyB,CAAC9F,WAAD,EAAcgV,6BAA6B,CAAC/S,CAAD,EAAIa,MAAJ,CAA3C,CAA/C,CAA1B;;AAEA,QAAIsS,WAAW,GAAGC,WAAlB,EAA+B;AAC7B,aAAO,CAAC,CAAR;AACD;;AAED,QAAIA,WAAW,GAAGD,WAAlB,EAA+B;AAC7B,aAAO,CAAP;AACD;;AAED,WAAOpT,CAAC,CAAClB,UAAF,CAAaL,KAAb,GAAqBwB,CAAC,CAACnB,UAAF,CAAaL,KAAzC;AACD,GApBY,CAAb;AAqBA,SAAO0U,MAAM,CAAC,CAAD,CAAN,IAAa,IAApB;AACD,CA5BD;;AA8BA,IAAIG,kBAAkB,GAAI,UAAU/Z,IAAV,EAAgB;AACxC,MAAIwY,2BAA2B,GAAGxY,IAAI,CAACwY,2BAAvC;AAAA,MACI9B,cAAc,GAAG1W,IAAI,CAAC0W,cAD1B;AAAA,MAEIzK,iBAAiB,GAAGjM,IAAI,CAACiM,iBAF7B;AAAA,MAGI1F,SAAS,GAAGvG,IAAI,CAACuG,SAHrB;AAAA,MAIIb,UAAU,GAAG1F,IAAI,CAAC0F,UAJtB;AAAA,MAKIjB,WAAW,GAAGzE,IAAI,CAACyE,WALvB;AAAA,MAMIoE,cAAc,GAAG7I,IAAI,CAAC6I,cAN1B;AAAA,MAOIuB,QAAQ,GAAGpK,IAAI,CAACoK,QAPpB;AAAA,MAQI7C,MAAM,GAAGvH,IAAI,CAACuH,MARlB;;AAUA,MAAI,CAACmP,cAAL,EAAqB;AACnB,QAAIzK,iBAAiB,CAACpO,MAAtB,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAED,QAAImc,QAAQ,GAAG;AACb/Q,MAAAA,QAAQ,EAAEwC,UADG;AAEbhH,MAAAA,WAAW,EAAE;AACXC,QAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC,EADzB;AAEXN,QAAAA,KAAK,EAAE;AAFI,OAFA;AAMbV,MAAAA,KAAK,EAAE;AANM,KAAf;AAQA,QAAIyV,2BAA2B,GAAG7C,gCAAgC,CAAC;AACjE7S,MAAAA,MAAM,EAAEyV,QADyD;AAEjEzT,MAAAA,SAAS,EAAEA,SAFsD;AAGjEvD,MAAAA,SAAS,EAAEyB,WAHsD;AAIjEiB,MAAAA,UAAU,EAAEA,UAJqD;AAKjE6B,MAAAA,MAAM,EAAEA;AALyD,KAAD,CAAlE;AAOA,QAAItF,eAAe,GAAGiO,QAAQ,CAAC3J,SAAD,EAAY9B,WAAZ,CAAR,GAAmCA,WAAnC,GAAiDoM,cAAc,CAACpM,WAAD,EAAc8B,SAAd,EAAyBb,UAAzB,CAArF;AACA,QAAIgT,sBAAsB,GAAGR,6BAA6B,CAAC;AACzD3R,MAAAA,SAAS,EAAEA,SAD8C;AAEzD9B,MAAAA,WAAW,EAAExC,eAF4C;AAGzDkW,MAAAA,sBAAsB,EAAE8B,2BAHiC;AAIzD7P,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJsC;AAKzD4J,MAAAA,yBAAyB,EAAE,KAL8B;AAMzD8N,MAAAA,cAAc,EAAE;AANyC,KAAD,CAA1D;AAQA,WAAOK,sBAAsB,GAAGsB,QAAH,GAAc,IAA3C;AACD;;AAED,MAAIE,mBAAmB,GAAG1S,OAAO,CAACgR,2BAA2B,CAAC/T,WAAW,CAACzC,IAAZ,CAAiBlC,IAAlB,CAA3B,GAAqD4W,cAAc,CAACjU,IAAf,CAAoB2F,SAApB,CAA8ByL,MAA9B,CAAqCpP,WAAW,CAACzC,IAAZ,CAAiBlC,IAAtD,CAAtD,CAAjC;AACA,MAAImV,WAAW,GAAGhJ,iBAAiB,CAAC1O,OAAlB,CAA0BmZ,cAA1B,CAAlB;AACA,IAAEzB,WAAW,KAAK,CAAC,CAAnB,IAAwBhZ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4BAAR,CAAjD,GAAyFA,SAAS,CAAC,KAAD,CAA1H,GAAoI,KAAK,CAAzI;;AAEA,MAAI6a,aAAa,GAAG,YAAY;AAC9B,QAAImB,cAAc,CAACnR,UAAf,CAA0BC,EAA1B,KAAiCe,SAAS,CAAChB,UAAV,CAAqBC,EAA1D,EAA8D;AAC5D,aAAOyP,WAAP;AACD;;AAED,QAAIiF,mBAAJ,EAAyB;AACvB,aAAOjF,WAAP;AACD;;AAED,WAAOA,WAAW,GAAG,CAArB;AACD,GAVmB,EAApB;;AAYA,MAAItN,SAAS,GAAGgE,uBAAuB,CAACpF,SAAD,EAAY0F,iBAAZ,CAAvB,CAAsDM,KAAtD,CAA4DgJ,aAA5D,EAA2E9U,GAA3E,CAA+E,UAAU6K,SAAV,EAAqB;AAClH,WAAOL,eAAe,CAAC;AACrB1E,MAAAA,SAAS,EAAE+E,SADU;AAErB7G,MAAAA,WAAW,EAAEA,WAFQ;AAGrB2F,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAHE;AAIrBkI,MAAAA,cAAc,EAAEA,cAJK;AAKrBtB,MAAAA,MAAM,EAAEA;AALa,KAAD,CAAtB;AAOD,GARe,CAAhB;AASA,MAAIM,WAAW,GAAGsD,cAAc,CAAC1G,WAAW,CAACzC,IAAb,EAAmBuE,SAAS,CAAC8B,UAA7B,CAAhC;AACA,MAAI9D,MAAM,GAAG;AACX0E,IAAAA,QAAQ,EAAE;AACRpB,MAAAA,WAAW,EAAEA,WADL;AAERF,MAAAA,SAAS,EAAEA,SAFH;AAGRlH,MAAAA,GAAG,EAAEyK,kBAAkB,CAACvD,SAAD;AAHf,KADC;AAMXlD,IAAAA,WAAW,EAAE;AACXC,MAAAA,WAAW,EAAED,WAAW,CAACc,UAAZ,CAAuBC,EADzB;AAEXN,MAAAA,KAAK,EAAEqQ;AAFI,KANF;AAUX/Q,IAAAA,KAAK,EAAE;AAVI,GAAb;AAYA,SAAOD,MAAP;AACD,CAlFD;;AAoFA,IAAI4V,aAAa,GAAI,UAAUna,IAAV,EAAgB;AACnC,MAAIwI,eAAe,GAAGxI,IAAI,CAACwI,eAA3B;AAAA,MACIgQ,2BAA2B,GAAGxY,IAAI,CAACwY,2BADvC;AAAA,MAEIjS,SAAS,GAAGvG,IAAI,CAACuG,SAFrB;AAAA,MAGI4M,MAAM,GAAGnT,IAAI,CAACmT,MAHlB;AAAA,MAIIzN,UAAU,GAAG1F,IAAI,CAAC0F,UAJtB;AAAA,MAKIL,UAAU,GAAGrF,IAAI,CAACqF,UALtB;AAAA,MAMIwD,cAAc,GAAG7I,IAAI,CAAC6I,cAN1B;AAAA,MAOIuB,QAAQ,GAAGpK,IAAI,CAACoK,QAPpB;AAAA,MAQI7C,MAAM,GAAGvH,IAAI,CAACuH,MARlB;AASA,MAAI9C,WAAW,GAAGuU,yBAAyB,CAAC;AAC1CxQ,IAAAA,eAAe,EAAEA,eADyB;AAE1CuD,IAAAA,mBAAmB,EAAEyM,2BAFqB;AAG1CS,IAAAA,MAAM,EAAE9F,MAHkC;AAI1C9N,IAAAA,UAAU,EAAEA,UAJ8B;AAK1C+E,IAAAA,QAAQ,EAAEA;AALgC,GAAD,CAA3C;;AAQA,MAAI,CAAC3F,WAAL,EAAkB;AAChB,WAAO,IAAP;AACD;;AAED,MAAIwH,iBAAiB,GAAG5F,4BAA4B,CAAC5B,WAAW,CAACc,UAAZ,CAAuBC,EAAxB,EAA4BE,UAA5B,CAApD;AACA,MAAIgR,cAAc,GAAGiD,mBAAmB,CAAC;AACvC5N,IAAAA,mBAAmB,EAAEyM,2BADkB;AAEvCpO,IAAAA,QAAQ,EAAEA,QAF6B;AAGvC3F,IAAAA,WAAW,EAAEA,WAH0B;AAIvCwH,IAAAA,iBAAiB,EAAEA,iBAJoB;AAKvC1E,IAAAA,MAAM,EAAEA;AAL+B,GAAD,CAAxC;AAOA,MAAIhD,MAAM,GAAGwV,kBAAkB,CAAC;AAC9BvB,IAAAA,2BAA2B,EAAEA,2BADC;AAE9B/T,IAAAA,WAAW,EAAEA,WAFiB;AAG9B8B,IAAAA,SAAS,EAAEA,SAHmB;AAI9Bb,IAAAA,UAAU,EAAEA,UAJkB;AAK9BgR,IAAAA,cAAc,EAAEA,cALc;AAM9BzK,IAAAA,iBAAiB,EAAEA,iBANW;AAO9BpD,IAAAA,cAAc,EAAEA,cAPc;AAQ9BuB,IAAAA,QAAQ,EAAEA,QARoB;AAS9B7C,IAAAA,MAAM,EAAEA;AATsB,GAAD,CAA/B;;AAYA,MAAI,CAAChD,MAAL,EAAa;AACX,WAAO,IAAP;AACD;;AAED,MAAIwH,mBAAmB,GAAGqL,gCAAgC,CAAC;AACzD7S,IAAAA,MAAM,EAAEA,MADiD;AAEzDgC,IAAAA,SAAS,EAAEA,SAF8C;AAGzDvD,IAAAA,SAAS,EAAEyB,WAH8C;AAIzDiB,IAAAA,UAAU,EAAEA,UAJ6C;AAKzD6B,IAAAA,MAAM,EAAEA;AALiD,GAAD,CAA1D;AAOA,MAAIoR,eAAe,GAAGX,gCAAgC,CAAC;AACrDjM,IAAAA,mBAAmB,EAAEA,mBADgC;AAErDxF,IAAAA,SAAS,EAAEA,SAF0C;AAGrD6D,IAAAA,QAAQ,EAAEA;AAH2C,GAAD,CAAtD;AAKA,SAAO;AACLuO,IAAAA,eAAe,EAAEA,eADZ;AAELpU,IAAAA,MAAM,EAAEA,MAFH;AAGLqU,IAAAA,iBAAiB,EAAE;AAHd,GAAP;AAKD,CA/DD;;AAiEA,IAAIwB,kBAAkB,GAAG,SAASjU,gBAAT,CAA0B5B,MAA1B,EAAkCc,UAAlC,EAA8C;AACrE,MAAIG,EAAE,GAAGlB,iBAAiB,CAACC,MAAD,CAA1B;AACA,SAAOiB,EAAE,GAAGH,UAAU,CAACG,EAAD,CAAb,GAAoB,IAA7B;AACD,CAHD;;AAKA,IAAI6U,eAAe,GAAI,UAAUra,IAAV,EAAgB;AACrC,MAAIwT,KAAK,GAAGxT,IAAI,CAACwT,KAAjB;AAAA,MACI8G,IAAI,GAAGta,IAAI,CAACsa,IADhB;AAEA,MAAIC,cAAc,GAAGH,kBAAkB,CAAC5G,KAAK,CAACjP,MAAP,EAAeiP,KAAK,CAACE,UAAN,CAAiBrO,UAAhC,CAAvC;AACA,MAAImV,yBAAyB,GAAGhT,OAAO,CAAC+S,cAAD,CAAvC;AACA,MAAInO,IAAI,GAAGoH,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4BmO,KAAK,CAACG,QAAN,CAAe3Q,SAAf,CAAyBwC,EAArD,CAAX;AACA,MAAI2N,MAAM,GAAGoH,cAAc,IAAInO,IAA/B;AACA,MAAIvF,SAAS,GAAGsM,MAAM,CAACnR,IAAP,CAAY6E,SAA5B;AACA,MAAI4T,kBAAkB,GAAG5T,SAAS,KAAK,UAAd,KAA6ByT,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,WAA5D,KAA4EzT,SAAS,KAAK,YAAd,KAA+ByT,IAAI,KAAK,WAAT,IAAwBA,IAAI,KAAK,YAAhE,CAArG;;AAEA,MAAIG,kBAAkB,IAAI,CAACD,yBAA3B,EAAsD;AACpD,WAAO,IAAP;AACD;;AAED,MAAIhS,eAAe,GAAG8R,IAAI,KAAK,WAAT,IAAwBA,IAAI,KAAK,YAAvD;AACA,MAAI/T,SAAS,GAAGiN,KAAK,CAACE,UAAN,CAAiBhO,UAAjB,CAA4B8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAArD,CAAhB;AACA,MAAIgT,2BAA2B,GAAGhF,KAAK,CAAClQ,OAAN,CAAcb,IAAd,CAAmBuK,eAArD;AACA,MAAI0N,iBAAiB,GAAGlH,KAAK,CAACE,UAA9B;AAAA,MACIhO,UAAU,GAAGgV,iBAAiB,CAAChV,UADnC;AAAA,MAEIL,UAAU,GAAGqV,iBAAiB,CAACrV,UAFnC;AAGA,SAAOoV,kBAAkB,GAAGlC,eAAe,CAAC;AAC1C/P,IAAAA,eAAe,EAAEA,eADyB;AAE1CgQ,IAAAA,2BAA2B,EAAEA,2BAFa;AAG1CjS,IAAAA,SAAS,EAAEA,SAH+B;AAI1C9B,IAAAA,WAAW,EAAE0O,MAJ6B;AAK1CzN,IAAAA,UAAU,EAAEA,UAL8B;AAM1C0E,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ,QAN0B;AAO1CqO,IAAAA,uBAAuB,EAAEjF,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqBC,SAPJ;AAQ1ClE,IAAAA,cAAc,EAAE2K,KAAK,CAACjP,MARoB;AAS1CgD,IAAAA,MAAM,EAAEiM,KAAK,CAACjM;AAT4B,GAAD,CAAlB,GAUpB4S,aAAa,CAAC;AACjB3R,IAAAA,eAAe,EAAEA,eADA;AAEjBgQ,IAAAA,2BAA2B,EAAEA,2BAFZ;AAGjBjS,IAAAA,SAAS,EAAEA,SAHM;AAIjB4M,IAAAA,MAAM,EAAEA,MAJS;AAKjBzN,IAAAA,UAAU,EAAEA,UALK;AAMjBL,IAAAA,UAAU,EAAEA,UANK;AAOjBwD,IAAAA,cAAc,EAAE2K,KAAK,CAACjP,MAPL;AAQjB6F,IAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ,QARC;AASjB7C,IAAAA,MAAM,EAAEiM,KAAK,CAACjM;AATG,GAAD,CAVlB;AAqBD,CAzCD;;AA2CA,SAASoT,iBAAT,CAA2BnH,KAA3B,EAAkC;AAChC,SAAOA,KAAK,CAACW,KAAN,KAAgB,UAAhB,IAA8BX,KAAK,CAACW,KAAN,KAAgB,YAArD;AACD;;AAED,IAAIyG,WAAW,GAAG,SAASA,WAAT,CAAqB7W,QAArB,EAA+BlC,IAA/B,EAAqC;AACrD,MAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,WAAOkC,QAAP;AACD;;AAED,SAAOlC,IAAI,GAAG,CAAP,GAAW,MAAX,GAAoB,IAA3B;AACD,CAND;;AAQA,IAAIgZ,aAAa,GAAG,SAASA,aAAT,CAAuB9W,QAAvB,EAAiClC,IAAjC,EAAuC;AACzD,MAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,WAAOkC,QAAP;AACD;;AAED,SAAOlC,IAAI,GAAG,CAAP,GAAW,OAAX,GAAqB,MAA5B;AACD,CAND;;AAQA,IAAIiZ,gBAAgB,GAAI,UAAU/W,QAAV,EAAoBgX,sBAApB,EAA4C5C,sBAA5C,EAAoE;AAC1F,MAAItW,IAAI,GAAGpC,QAAQ,CAAC0Y,sBAAD,EAAyB4C,sBAAzB,CAAnB;AACA,SAAO;AACL5T,IAAAA,UAAU,EAAE0T,aAAa,CAAC9W,QAAQ,CAACoD,UAAV,EAAsBtF,IAAI,CAACzC,CAA3B,CADpB;AAELwH,IAAAA,QAAQ,EAAEgU,WAAW,CAAC7W,QAAQ,CAAC6C,QAAV,EAAoB/E,IAAI,CAACxC,CAAzB;AAFhB,GAAP;AAID,CAND;;AAQA,IAAI2b,MAAM,GAAI,UAAUhb,IAAV,EAAgB;AAC5B,MAAIwT,KAAK,GAAGxT,IAAI,CAACwT,KAAjB;AAAA,MACIyH,qBAAqB,GAAGjb,IAAI,CAAC2Y,eADjC;AAAA,MAEIuC,gBAAgB,GAAGlb,IAAI,CAAC0T,UAF5B;AAAA,MAGIyH,cAAc,GAAGnb,IAAI,CAACoK,QAH1B;AAAA,MAIIgR,YAAY,GAAGpb,IAAI,CAACuE,MAJxB;AAAA,MAKIqU,iBAAiB,GAAG5Y,IAAI,CAAC4Y,iBAL7B;AAMA,MAAIxO,QAAQ,GAAG+Q,cAAc,IAAI3H,KAAK,CAACpJ,QAAvC;AACA,MAAIiR,mBAAmB,GAAGjR,QAAQ,CAACxI,MAAT,CAAgB0B,OAA1C;AACA,MAAIoQ,UAAU,GAAGwH,gBAAgB,IAAI1H,KAAK,CAACE,UAA3C;AACA,MAAIiF,eAAe,GAAGsC,qBAAqB,IAAIzH,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqBC,SAApE;AACA,MAAI3R,MAAM,GAAGqE,QAAQ,CAACkZ,eAAD,EAAkBnF,KAAK,CAACpQ,OAAN,CAAc0J,MAAd,CAAqBC,SAAvC,CAArB;AACA,MAAID,MAAM,GAAG;AACX1R,IAAAA,MAAM,EAAEA,MADG;AAEX2R,IAAAA,SAAS,EAAE4L,eAFA;AAGX3L,IAAAA,eAAe,EAAE1N,GAAG,CAACkU,KAAK,CAACpQ,OAAN,CAAc0J,MAAd,CAAqBE,eAAtB,EAAuC5R,MAAvC;AAHT,GAAb;AAKA,MAAIqH,IAAI,GAAG;AACTsK,IAAAA,SAAS,EAAEzN,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmBsO,mBAAnB,CADL;AAETrO,IAAAA,eAAe,EAAE1N,GAAG,CAACwN,MAAM,CAACE,eAAR,EAAyBqO,mBAAzB;AAFX,GAAX;AAIA,MAAI/X,OAAO,GAAG;AACZwJ,IAAAA,MAAM,EAAEA,MADI;AAEZrK,IAAAA,IAAI,EAAEA;AAFM,GAAd;AAIA,MAAIsG,aAAa,GAAG+R,gBAAgB,CAACtH,KAAK,CAACzK,aAAP,EAAsByK,KAAK,CAAClQ,OAAN,CAAcb,IAAd,CAAmBuK,eAAzC,EAA0D1J,OAAO,CAACb,IAAR,CAAauK,eAAvE,CAApC;;AAEA,MAAIwG,KAAK,CAACW,KAAN,KAAgB,YAApB,EAAkC;AAChC,WAAOna,QAAQ,CAAC;AACdma,MAAAA,KAAK,EAAE;AADO,KAAD,EAEZX,KAFY,EAEL;AACRE,MAAAA,UAAU,EAAEA,UADJ;AAERtJ,MAAAA,QAAQ,EAAEA,QAFF;AAGR9G,MAAAA,OAAO,EAAEA,OAHD;AAIRyF,MAAAA,aAAa,EAAEA;AAJP,KAFK,CAAf;AAQD;;AAED,MAAIxC,SAAS,GAAGmN,UAAU,CAAChO,UAAX,CAAsB8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAA/C,CAAhB;AACA,MAAI8V,SAAS,GAAGF,YAAY,IAAItP,aAAa,CAAC;AAC5CC,IAAAA,mBAAmB,EAAEtJ,IAAI,CAACuK,eADkB;AAE5CzG,IAAAA,SAAS,EAAEA,SAFiC;AAG5Cb,IAAAA,UAAU,EAAEgO,UAAU,CAAChO,UAHqB;AAI5CL,IAAAA,UAAU,EAAEqO,UAAU,CAACrO,UAJqB;AAK5CwD,IAAAA,cAAc,EAAE2K,KAAK,CAACjP,MALsB;AAM5C6F,IAAAA,QAAQ,EAAEA,QANkC;AAO5CrB,IAAAA,aAAa,EAAEA,aAP6B;AAQ5CxB,IAAAA,MAAM,EAAEiM,KAAK,CAACjM;AAR8B,GAAD,CAA7C;AAUA,MAAIgU,uBAAuB,GAAGtI,qBAAqB,CAAC;AAClD1M,IAAAA,SAAS,EAAEA,SADuC;AAElDhC,IAAAA,MAAM,EAAE+W,SAF0C;AAGlDzS,IAAAA,cAAc,EAAE2K,KAAK,CAACjP,MAH4B;AAIlDmB,IAAAA,UAAU,EAAEgO,UAAU,CAAChO,UAJ2B;AAKlDL,IAAAA,UAAU,EAAEqO,UAAU,CAACrO;AAL2B,GAAD,CAAnD;;AAQA,MAAIxE,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKwZ,KAAL,EAAY;AAC/BlQ,IAAAA,OAAO,EAAEA,OADsB;AAE/ByF,IAAAA,aAAa,EAAEA,aAFgB;AAG/B2K,IAAAA,UAAU,EAAE;AACVhO,MAAAA,UAAU,EAAEgO,UAAU,CAAChO,UADb;AAEVL,MAAAA,UAAU,EAAEkW;AAFF,KAHmB;AAO/BhX,IAAAA,MAAM,EAAE+W,SAPuB;AAQ/BlR,IAAAA,QAAQ,EAAEA,QARqB;AAS/BwO,IAAAA,iBAAiB,EAAEA,iBAAiB,IAAI,IATT;AAU/B/N,IAAAA,kBAAkB,EAAE+N,iBAAiB,GAAG,KAAH,GAAW;AAVjB,GAAZ,CAArB;;AAaA,SAAO/X,MAAP;AACD,CAvED;;AAyEA,IAAI2a,SAAS,GAAI,UAAUxb,IAAV,EAAgB;AAC/B,MAAIuE,MAAM,GAAGvE,IAAI,CAACuE,MAAlB;AAAA,MACI6F,QAAQ,GAAGpK,IAAI,CAACoK,QADpB;AAAA,MAEI3F,WAAW,GAAGzE,IAAI,CAACyE,WAFvB;AAAA,MAGIiB,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAII6B,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAAA,MAKIsD,kBAAkB,GAAG7K,IAAI,CAAC6K,kBAL9B;AAMA,MAAI6D,OAAO,GAAGnK,MAAM,CAAC0E,QAAP,CAAgBtB,SAAhB,CAA0BlH,GAA1B,CAA8B,UAAUmX,KAAV,EAAiB;AAC3D,WAAO3M,eAAe,CAAC;AACrB1E,MAAAA,SAAS,EAAEb,UAAU,CAACkS,KAAK,CAACtQ,WAAP,CADA;AAErB7C,MAAAA,WAAW,EAAEA,WAFQ;AAGrBoE,MAAAA,cAAc,EAAEtE,MAHK;AAIrB6F,MAAAA,QAAQ,EAAEA,QAAQ,CAACzJ,KAJE;AAKrB4G,MAAAA,MAAM,EAAEA,MALa;AAMrBsD,MAAAA,kBAAkB,EAAEA;AANC,KAAD,CAAtB;AAQD,GATa,CAAd;AAUA,SAAO0M,mBAAmB,CAAChT,MAAD,EAASmK,OAAT,CAA1B;AACD,CAlBD;;AAoBA,IAAI+M,wBAAwB,GAAI,UAAUzb,IAAV,EAAgB;AAC9C,MAAIuE,MAAM,GAAGvE,IAAI,CAACuE,MAAlB;AAAA,MACIgC,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEIvD,SAAS,GAAGhD,IAAI,CAACgD,SAFrB;AAAA,MAGI0C,UAAU,GAAG1F,IAAI,CAAC0F,UAHtB;AAAA,MAII0E,QAAQ,GAAGpK,IAAI,CAACoK,QAJpB;AAAA,MAKI7C,MAAM,GAAGvH,IAAI,CAACuH,MALlB;AAMA,MAAIwE,mBAAmB,GAAGqL,gCAAgC,CAAC;AACzD7S,IAAAA,MAAM,EAAEA,MADiD;AAEzDgC,IAAAA,SAAS,EAAEA,SAF8C;AAGzDb,IAAAA,UAAU,EAAEA,UAH6C;AAIzD1C,IAAAA,SAAS,EAAEA,SAJ8C;AAKzDuE,IAAAA,MAAM,EAAEA;AALiD,GAAD,CAA1D;AAOA,SAAOyQ,gCAAgC,CAAC;AACtCjM,IAAAA,mBAAmB,EAAEA,mBADiB;AAEtCxF,IAAAA,SAAS,EAAEA,SAF2B;AAGtC6D,IAAAA,QAAQ,EAAEA;AAH4B,GAAD,CAAvC;AAKD,CAnBD;;AAqBA,IAAIsR,WAAW,GAAI,UAAU1b,IAAV,EAAgB;AACjC,MAAIwT,KAAK,GAAGxT,IAAI,CAACwT,KAAjB;AAAA,MACI0H,gBAAgB,GAAGlb,IAAI,CAAC0T,UAD5B;AAAA,MAEIyH,cAAc,GAAGnb,IAAI,CAACoK,QAF1B;AAGA,IAAEoJ,KAAK,CAACS,YAAN,KAAuB,MAAzB,IAAmChY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,CAAjD,GAA2DA,SAAS,CAAC,KAAD,CAAvG,GAAiH,KAAK,CAAtH;AACA,MAAIihB,oBAAoB,GAAGnI,KAAK,CAACjP,MAAjC;AACA,MAAI6F,QAAQ,GAAG+Q,cAAc,IAAI3H,KAAK,CAACpJ,QAAvC;AACA,MAAIsJ,UAAU,GAAGwH,gBAAgB,IAAI1H,KAAK,CAACE,UAA3C;AACA,MAAIhO,UAAU,GAAGgO,UAAU,CAAChO,UAA5B;AAAA,MACIL,UAAU,GAAGqO,UAAU,CAACrO,UAD5B;AAEA,MAAIkB,SAAS,GAAGb,UAAU,CAAC8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAA1B,CAA1B;AACA,MAAI2N,MAAM,GAAG7O,iBAAiB,CAACqX,oBAAD,CAA9B;AACA,GAACxI,MAAD,GAAUlX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kDAAR,CAAjD,GAA+GA,SAAS,CAAC,KAAD,CAAlI,GAA4I,KAAK,CAAjJ;AACA,MAAI+J,WAAW,GAAGY,UAAU,CAAC8N,MAAD,CAA5B;AACA,MAAI5O,MAAM,GAAGiX,SAAS,CAAC;AACrBjX,IAAAA,MAAM,EAAEoX,oBADa;AAErBvR,IAAAA,QAAQ,EAAEA,QAFW;AAGrB3F,IAAAA,WAAW,EAAEA,WAHQ;AAIrBiB,IAAAA,UAAU,EAAEA,UAJS;AAKrB6B,IAAAA,MAAM,EAAEiM,KAAK,CAACjM;AALO,GAAD,CAAtB;AAOA,MAAIoR,eAAe,GAAG8C,wBAAwB,CAAC;AAC7ClX,IAAAA,MAAM,EAAEA,MADqC;AAE7CgC,IAAAA,SAAS,EAAEA,SAFkC;AAG7CvD,IAAAA,SAAS,EAAEyB,WAHkC;AAI7CiB,IAAAA,UAAU,EAAEA,UAJiC;AAK7C0E,IAAAA,QAAQ,EAAEA,QALmC;AAM7C7C,IAAAA,MAAM,EAAEiM,KAAK,CAACjM;AAN+B,GAAD,CAA9C;AAQA,SAAOyT,MAAM,CAAC;AACZzW,IAAAA,MAAM,EAAEA,MADI;AAEZoU,IAAAA,eAAe,EAAEA,eAFL;AAGZnF,IAAAA,KAAK,EAAEA,KAHK;AAIZE,IAAAA,UAAU,EAAEA,UAJA;AAKZtJ,IAAAA,QAAQ,EAAEA;AALE,GAAD,CAAb;AAOD,CApCD;;AAsCA,IAAIwR,iBAAiB,GAAI,UAAUlI,UAAV,EAAsBhF,OAAtB,EAA+B;AACtD,SAAO;AACLhJ,IAAAA,UAAU,EAAEgO,UAAU,CAAChO,UADlB;AAELL,IAAAA,UAAU,EAAEwN,iBAAiB,CAACa,UAAU,CAACrO,UAAZ,EAAwBqJ,OAAxB;AAFxB,GAAP;AAID,CALD;;AAOA,IAAImN,UAAU,GAAG,SAASA,UAAT,CAAoBrI,KAApB,EAA2B;AAC1C,SAAOA,KAAK,CAACS,YAAN,KAAuB,MAA9B;AACD,CAFD;;AAIA,IAAI6H,mBAAmB,GAAG,SAASA,mBAAT,CAA6BtI,KAA7B,EAAoC9E,OAApC,EAA6CqN,iBAA7C,EAAgE;AACxF,MAAIrI,UAAU,GAAGkI,iBAAiB,CAACpI,KAAK,CAACE,UAAP,EAAmBhF,OAAnB,CAAlC;;AAEA,MAAI,CAACmN,UAAU,CAACrI,KAAD,CAAX,IAAsBuI,iBAA1B,EAA6C;AAC3C,WAAOf,MAAM,CAAC;AACZxH,MAAAA,KAAK,EAAEA,KADK;AAEZE,MAAAA,UAAU,EAAEA;AAFA,KAAD,CAAb;AAID;;AAED,SAAOgI,WAAW,CAAC;AACjBlI,IAAAA,KAAK,EAAEA,KADU;AAEjBE,IAAAA,UAAU,EAAEA;AAFK,GAAD,CAAlB;AAID,CAdD;;AAgBA,IAAIsI,IAAI,GAAG;AACT7H,EAAAA,KAAK,EAAE,MADE;AAET8H,EAAAA,SAAS,EAAE,IAFF;AAGTC,EAAAA,WAAW,EAAE;AAHJ,CAAX;;AAKA,IAAIC,OAAO,GAAI,UAAU3I,KAAV,EAAiB4I,MAAjB,EAAyB;AACtC,MAAI5I,KAAK,KAAK,KAAK,CAAnB,EAAsB;AACpBA,IAAAA,KAAK,GAAGwI,IAAR;AACD;;AAED,MAAII,MAAM,CAAC9B,IAAP,KAAgB,OAApB,EAA6B;AAC3B,WAAOtgB,QAAQ,CAAC,EAAD,EAAKgiB,IAAL,EAAW;AACxBE,MAAAA,WAAW,EAAEE,MAAM,CAACC,OAAP,CAAeH;AADJ,KAAX,CAAf;AAGD;;AAED,MAAIE,MAAM,CAAC9B,IAAP,KAAgB,iBAApB,EAAuC;AACrC,MAAE9G,KAAK,CAACW,KAAN,KAAgB,MAAlB,IAA4BlY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,8CAAR,CAAjD,GAA2GA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACA,QAAI4hB,eAAe,GAAGF,MAAM,CAACC,OAA7B;AAAA,QACI1I,QAAQ,GAAG2I,eAAe,CAAC3I,QAD/B;AAAA,QAEIgF,eAAe,GAAG2D,eAAe,CAAC3D,eAFtC;AAAA,QAGIvO,QAAQ,GAAGkS,eAAe,CAAClS,QAH/B;AAAA,QAIIsJ,UAAU,GAAG4I,eAAe,CAAC5I,UAJjC;AAAA,QAKIO,YAAY,GAAGqI,eAAe,CAACrI,YALnC;AAMA,QAAI1N,SAAS,GAAGmN,UAAU,CAAChO,UAAX,CAAsBiO,QAAQ,CAACpN,SAAT,CAAmBf,EAAzC,CAAhB;AACA,QAAI4G,IAAI,GAAGsH,UAAU,CAACrO,UAAX,CAAsBsO,QAAQ,CAAC3Q,SAAT,CAAmBwC,EAAzC,CAAX;AACA,QAAIsH,MAAM,GAAG;AACXC,MAAAA,SAAS,EAAE4L,eADA;AAEX3L,MAAAA,eAAe,EAAEzG,SAAS,CAACuG,MAAV,CAAiB1E,SAAjB,CAA2ByL,MAFjC;AAGXzY,MAAAA,MAAM,EAAE+D;AAHG,KAAb;AAKA,QAAIiE,OAAO,GAAG;AACZ0J,MAAAA,MAAM,EAAEA,MADI;AAEZrK,MAAAA,IAAI,EAAE;AACJsK,QAAAA,SAAS,EAAEzN,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmB3C,QAAQ,CAACxI,MAAT,CAAgBwB,OAAnC,CADV;AAEJ4J,QAAAA,eAAe,EAAE1N,GAAG,CAACwN,MAAM,CAACC,SAAR,EAAmB3C,QAAQ,CAACxI,MAAT,CAAgBwB,OAAnC;AAFhB;AAFM,KAAd;AAOA,QAAImZ,qBAAqB,GAAG5W,eAAe,CAAC+N,UAAU,CAACrO,UAAZ,CAAf,CAAuCmX,KAAvC,CAA6C,UAAU3Q,IAAV,EAAgB;AACvF,aAAO,CAACA,IAAI,CAACiE,aAAb;AACD,KAF2B,CAA5B;;AAIA,QAAIgE,cAAc,GAAG3H,aAAa,CAAC;AACjC5F,MAAAA,SAAS,EAAEA,SADsB;AAEjC6F,MAAAA,IAAI,EAAEA,IAF2B;AAGjC1G,MAAAA,UAAU,EAAEgO,UAAU,CAAChO,UAHU;AAIjC0E,MAAAA,QAAQ,EAAEA;AAJuB,KAAD,CAAlC;AAAA,QAMI7F,MAAM,GAAGuP,cAAc,CAACvP,MAN5B;AAAA,QAOIgD,MAAM,GAAGuM,cAAc,CAACvM,MAP5B;;AASA,QAAI1G,MAAM,GAAG;AACXsT,MAAAA,KAAK,EAAE,UADI;AAEXsI,MAAAA,UAAU,EAAE,IAFD;AAGX9I,MAAAA,QAAQ,EAAEA,QAHC;AAIXM,MAAAA,YAAY,EAAEA,YAJH;AAKXP,MAAAA,UAAU,EAAEA,UALD;AAMXtQ,MAAAA,OAAO,EAAEA,OANE;AAOXE,MAAAA,OAAO,EAAEF,OAPE;AAQXmZ,MAAAA,qBAAqB,EAAEA,qBARZ;AASXhY,MAAAA,MAAM,EAAEA,MATG;AAUXgD,MAAAA,MAAM,EAAEA,MAVG;AAWX6M,MAAAA,YAAY,EAAE7P,MAXH;AAYX6F,MAAAA,QAAQ,EAAEA,QAZC;AAaXrB,MAAAA,aAAa,EAAEyL,OAbJ;AAcXoE,MAAAA,iBAAiB,EAAE,IAdR;AAeX/N,MAAAA,kBAAkB,EAAE;AAfT,KAAb;AAiBA,WAAOhK,MAAP;AACD;;AAED,MAAIub,MAAM,CAAC9B,IAAP,KAAgB,qBAApB,EAA2C;AACzC,QAAInY,SAAJ;;AAEA,QAAIqR,KAAK,CAACW,KAAN,KAAgB,YAAhB,IAAgCX,KAAK,CAACW,KAAN,KAAgB,cAApD,EAAoE;AAClE,aAAOX,KAAP;AACD;;AAED,MAAEA,KAAK,CAACW,KAAN,KAAgB,UAAlB,IAAgClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wCAAwC8Y,KAAK,CAACW,KAAtD,CAAjD,GAAgHzZ,SAAS,CAAC,KAAD,CAAzJ,GAAmK,KAAK,CAAxK;;AAEA,QAAIgiB,OAAO,GAAG1iB,QAAQ,CAAC;AACrBma,MAAAA,KAAK,EAAE;AADc,KAAD,EAEnBX,KAFmB,GAEXrR,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAAC,OAAD,CAAT,GAAqB,YAArC,EAAmDA,SAFxC,EAAtB;;AAIA,WAAOua,OAAP;AACD;;AAED,MAAIN,MAAM,CAAC9B,IAAP,KAAgB,wBAApB,EAA8C;AAC5C,MAAE9G,KAAK,CAACW,KAAN,KAAgB,YAAhB,IAAgCX,KAAK,CAACW,KAAN,KAAgB,cAAlD,IAAoElY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gBAAgB0hB,MAAM,CAAC9B,IAAvB,GAA8B,qBAA9B,GAAsD9G,KAAK,CAACW,KAApE,CAAjD,GAA8HzZ,SAAS,CAAC,KAAD,CAA3M,GAAqN,KAAK,CAA1N;AACA,WAAO4Y,oBAAoB,CAAC;AAC1BE,MAAAA,KAAK,EAAEA,KADmB;AAE1BC,MAAAA,SAAS,EAAE2I,MAAM,CAACC;AAFQ,KAAD,CAA3B;AAID;;AAED,MAAID,MAAM,CAAC9B,IAAP,KAAgB,MAApB,EAA4B;AAC1B,QAAI9G,KAAK,CAACW,KAAN,KAAgB,cAApB,EAAoC;AAClC,aAAOX,KAAP;AACD;;AAED,KAACmH,iBAAiB,CAACnH,KAAD,CAAlB,GAA4BvX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ0hB,MAAM,CAAC9B,IAAP,GAAc,0BAAd,GAA2C9G,KAAK,CAACW,KAAzD,CAAjD,GAAmHzZ,SAAS,CAAC,KAAD,CAAxJ,GAAkK,KAAK,CAAvK;AACA,QAAIiiB,gBAAgB,GAAGP,MAAM,CAACC,OAAP,CAAevP,MAAtC;;AAEA,QAAIpN,OAAO,CAACid,gBAAD,EAAmBnJ,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqBC,SAAxC,CAAX,EAA+D;AAC7D,aAAOyG,KAAP;AACD;;AAED,WAAOwH,MAAM,CAAC;AACZxH,MAAAA,KAAK,EAAEA,KADK;AAEZmF,MAAAA,eAAe,EAAEgE,gBAFL;AAGZpY,MAAAA,MAAM,EAAEsX,UAAU,CAACrI,KAAD,CAAV,GAAoBA,KAAK,CAACjP,MAA1B,GAAmC;AAH/B,KAAD,CAAb;AAKD;;AAED,MAAI6X,MAAM,CAAC9B,IAAP,KAAgB,yBAApB,EAA+C;AAC7C,QAAI9G,KAAK,CAACW,KAAN,KAAgB,cAApB,EAAoC;AAClC,aAAOX,KAAP;AACD;;AAED,QAAIA,KAAK,CAACW,KAAN,KAAgB,YAApB,EAAkC;AAChC,aAAOX,KAAP;AACD;;AAED,KAACmH,iBAAiB,CAACnH,KAAD,CAAlB,GAA4BvX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ0hB,MAAM,CAAC9B,IAAP,GAAc,0BAAd,GAA2C9G,KAAK,CAACW,KAAzD,CAAjD,GAAmHzZ,SAAS,CAAC,KAAD,CAAxJ,GAAkK,KAAK,CAAvK;AACA,QAAIkiB,gBAAgB,GAAGR,MAAM,CAACC,OAA9B;AAAA,QACI7W,EAAE,GAAGoX,gBAAgB,CAACpX,EAD1B;AAAA,QAEIpK,MAAM,GAAGwhB,gBAAgB,CAACxhB,MAF9B;AAGA,QAAIkF,MAAM,GAAGkT,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4BG,EAA5B,CAAb;;AAEA,QAAI,CAAClF,MAAL,EAAa;AACX,aAAOkT,KAAP;AACD;;AAED,QAAI9Q,QAAQ,GAAGK,eAAe,CAACzC,MAAD,EAASlF,MAAT,CAA9B;AACA,WAAO0gB,mBAAmB,CAACtI,KAAD,EAAQ9Q,QAAR,EAAkB,KAAlB,CAA1B;AACD;;AAED,MAAI0Z,MAAM,CAAC9B,IAAP,KAAgB,6BAApB,EAAmD;AACjD,QAAI9G,KAAK,CAACW,KAAN,KAAgB,cAApB,EAAoC;AAClC,aAAOX,KAAP;AACD;;AAED,KAACmH,iBAAiB,CAACnH,KAAD,CAAlB,GAA4BvX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gDAAgD8Y,KAAK,CAACW,KAA9D,CAAjD,GAAwHzZ,SAAS,CAAC,KAAD,CAA7J,GAAuK,KAAK,CAA5K;AACA,QAAImiB,gBAAgB,GAAGT,MAAM,CAACC,OAA9B;AAAA,QACIS,GAAG,GAAGD,gBAAgB,CAACrX,EAD3B;AAAA,QAEIhC,SAAS,GAAGqZ,gBAAgB,CAACrZ,SAFjC;AAGA,QAAIuZ,OAAO,GAAGvJ,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4ByX,GAA5B,CAAd;AACA,KAACC,OAAD,GAAW9gB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+BAA+BoiB,GAA/B,GAAqC,+BAA7C,CAAjD,GAAiIpiB,SAAS,CAAC,KAAD,CAArJ,GAA+J,KAAK,CAApK;AACA,MAAEqiB,OAAO,CAACvZ,SAAR,KAAsBA,SAAxB,IAAqCvH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0CAA0CsiB,MAAM,CAACxZ,SAAD,CAAhD,GAA8D,4BAA9D,GAA6FwZ,MAAM,CAACD,OAAO,CAACvZ,SAAT,CAA3G,CAAjD,GAAmL9I,SAAS,CAAC,KAAD,CAAjO,GAA2O,KAAK,CAAhP;;AAEA,QAAIgU,OAAO,GAAG1U,QAAQ,CAAC,EAAD,EAAK+iB,OAAL,EAAc;AAClCvZ,MAAAA,SAAS,EAAEA;AADuB,KAAd,CAAtB;;AAIA,WAAOsY,mBAAmB,CAACtI,KAAD,EAAQ9E,OAAR,EAAiB,IAAjB,CAA1B;AACD;;AAED,MAAI0N,MAAM,CAAC9B,IAAP,KAAgB,qCAApB,EAA2D;AACzD,QAAI9G,KAAK,CAACW,KAAN,KAAgB,cAApB,EAAoC;AAClC,aAAOX,KAAP;AACD;;AAED,KAACmH,iBAAiB,CAACnH,KAAD,CAAlB,GAA4BvX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gDAAgD8Y,KAAK,CAACW,KAA9D,CAAjD,GAAwHzZ,SAAS,CAAC,KAAD,CAA7J,GAAuK,KAAK,CAA5K;AACA,QAAIuiB,gBAAgB,GAAGb,MAAM,CAACC,OAA9B;AAAA,QACIa,IAAI,GAAGD,gBAAgB,CAACzX,EAD5B;AAAA,QAEIwD,gBAAgB,GAAGiU,gBAAgB,CAACjU,gBAFxC;AAGA,QAAImU,QAAQ,GAAG3J,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4B6X,IAA5B,CAAf;AACA,KAACC,QAAD,GAAYlhB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+BAA+BwiB,IAA/B,GAAsC,wCAA9C,CAAjD,GAA2IxiB,SAAS,CAAC,KAAD,CAAhK,GAA0K,KAAK,CAA/K;AACA,MAAEyiB,QAAQ,CAACnU,gBAAT,KAA8BA,gBAAhC,IAAoD/M,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iDAAiDsiB,MAAM,CAAChU,gBAAD,CAAvD,GAA4E,4BAA5E,GAA2GgU,MAAM,CAACG,QAAQ,CAACnU,gBAAV,CAAzH,CAAjD,GAAyMtO,SAAS,CAAC,KAAD,CAAtQ,GAAgR,KAAK,CAArR;;AAEA,QAAI0iB,QAAQ,GAAGpjB,QAAQ,CAAC,EAAD,EAAKmjB,QAAL,EAAe;AACpCnU,MAAAA,gBAAgB,EAAEA;AADkB,KAAf,CAAvB;;AAIA,WAAO8S,mBAAmB,CAACtI,KAAD,EAAQ4J,QAAR,EAAkB,IAAlB,CAA1B;AACD;;AAED,MAAIhB,MAAM,CAAC9B,IAAP,KAAgB,uBAApB,EAA6C;AAC3C,QAAI9G,KAAK,CAACW,KAAN,KAAgB,cAAhB,IAAkCX,KAAK,CAACW,KAAN,KAAgB,gBAAtD,EAAwE;AACtE,aAAOX,KAAP;AACD;;AAED,KAACmH,iBAAiB,CAACnH,KAAD,CAAlB,GAA4BvX,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAoC8Y,KAAK,CAACW,KAAlD,CAAjD,GAA4GzZ,SAAS,CAAC,KAAD,CAAjJ,GAA2J,KAAK,CAAhK;AACA,KAAC8Y,KAAK,CAAC+I,qBAAP,GAA+BtgB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4EAAR,CAAjD,GAAyIA,SAAS,CAAC,KAAD,CAAjL,GAA2L,KAAK,CAAhM;AACA,QAAIuI,SAAS,GAAGmZ,MAAM,CAACC,OAAP,CAAepZ,SAA/B;;AAEA,QAAIvD,OAAO,CAAC8T,KAAK,CAACpJ,QAAN,CAAexI,MAAf,CAAsB0B,OAAvB,EAAgCL,SAAhC,CAAX,EAAuD;AACrD,aAAOuQ,KAAP;AACD;;AAED,QAAI6J,SAAS,GAAG/F,cAAc,CAAC9D,KAAK,CAACpJ,QAAP,EAAiBnH,SAAjB,CAA9B;;AAEA,QAAI4Y,UAAU,CAACrI,KAAD,CAAd,EAAuB;AACrB,aAAOkI,WAAW,CAAC;AACjBlI,QAAAA,KAAK,EAAEA,KADU;AAEjBpJ,QAAAA,QAAQ,EAAEiT;AAFO,OAAD,CAAlB;AAID;;AAED,WAAOrC,MAAM,CAAC;AACZxH,MAAAA,KAAK,EAAEA,KADK;AAEZpJ,MAAAA,QAAQ,EAAEiT;AAFE,KAAD,CAAb;AAID;;AAED,MAAIjB,MAAM,CAAC9B,IAAP,KAAgB,4BAApB,EAAkD;AAChD,QAAI,CAACK,iBAAiB,CAACnH,KAAD,CAAtB,EAA+B;AAC7B,aAAOA,KAAP;AACD;;AAED,QAAI7D,SAAS,GAAGyM,MAAM,CAACC,OAAP,CAAe1M,SAA/B;;AAEA,QAAIjQ,OAAO,CAACiQ,SAAD,EAAY6D,KAAK,CAACpJ,QAAN,CAAexI,MAAf,CAAsBb,GAAlC,CAAX,EAAmD;AACjD,aAAOyS,KAAP;AACD;;AAED,QAAI5C,aAAa,GAAG5W,QAAQ,CAAC,EAAD,EAAKwZ,KAAK,CAACpJ,QAAX,EAAqB;AAC/CxI,MAAAA,MAAM,EAAE5H,QAAQ,CAAC,EAAD,EAAKwZ,KAAK,CAACpJ,QAAN,CAAexI,MAApB,EAA4B;AAC1Cb,QAAAA,GAAG,EAAE4O;AADqC,OAA5B;AAD+B,KAArB,CAA5B;;AAMA,WAAO3V,QAAQ,CAAC;AACdma,MAAAA,KAAK,EAAE;AADO,KAAD,EAEZX,KAFY,EAEL;AACRpJ,MAAAA,QAAQ,EAAEwG;AADF,KAFK,CAAf;AAKD;;AAED,MAAIwL,MAAM,CAAC9B,IAAP,KAAgB,SAAhB,IAA6B8B,MAAM,CAAC9B,IAAP,KAAgB,WAA7C,IAA4D8B,MAAM,CAAC9B,IAAP,KAAgB,WAA5E,IAA2F8B,MAAM,CAAC9B,IAAP,KAAgB,YAA/G,EAA6H;AAC3H,QAAI9G,KAAK,CAACW,KAAN,KAAgB,YAAhB,IAAgCX,KAAK,CAACW,KAAN,KAAgB,cAApD,EAAoE;AAClE,aAAOX,KAAP;AACD;;AAED,MAAEA,KAAK,CAACW,KAAN,KAAgB,UAAlB,IAAgClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ0hB,MAAM,CAAC9B,IAAP,GAAc,uCAAtB,CAAjD,GAAkH5f,SAAS,CAAC,KAAD,CAA3J,GAAqK,KAAK,CAA1K;;AAEA,QAAI4iB,QAAQ,GAAGjD,eAAe,CAAC;AAC7B7G,MAAAA,KAAK,EAAEA,KADsB;AAE7B8G,MAAAA,IAAI,EAAE8B,MAAM,CAAC9B;AAFgB,KAAD,CAA9B;;AAKA,QAAI,CAACgD,QAAL,EAAe;AACb,aAAO9J,KAAP;AACD;;AAED,WAAOwH,MAAM,CAAC;AACZxH,MAAAA,KAAK,EAAEA,KADK;AAEZjP,MAAAA,MAAM,EAAE+Y,QAAQ,CAAC/Y,MAFL;AAGZoU,MAAAA,eAAe,EAAE2E,QAAQ,CAAC3E,eAHd;AAIZC,MAAAA,iBAAiB,EAAE0E,QAAQ,CAAC1E;AAJhB,KAAD,CAAb;AAMD;;AAED,MAAIwD,MAAM,CAAC9B,IAAP,KAAgB,cAApB,EAAoC;AAClC,QAAI/G,SAAJ;;AAEA,QAAIe,MAAM,GAAG8H,MAAM,CAACC,OAAP,CAAe/H,MAA5B;AACA,MAAEd,KAAK,CAACW,KAAN,KAAgB,YAAlB,IAAkClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qEAAR,CAAjD,GAAkIA,SAAS,CAAC,KAAD,CAA7K,GAAuL,KAAK,CAA5L;;AAEA,QAAI6iB,QAAQ,GAAGvjB,QAAQ,CAAC;AACtBma,MAAAA,KAAK,EAAE;AADe,KAAD,EAEpBX,KAFoB,GAEZD,SAAS,GAAG,EAAZ,EAAgBA,SAAS,CAAC,OAAD,CAAT,GAAqB,cAArC,EAAqDA,SAAS,CAACgB,SAAV,GAAsB,IAA3E,EAAiFhB,SAAS,CAACe,MAAV,GAAmBA,MAApG,EAA4Gf,SAFhG,EAAvB;;AAIA,WAAOgK,QAAP;AACD;;AAED,MAAInB,MAAM,CAAC9B,IAAP,KAAgB,cAApB,EAAoC;AAClC,QAAIkD,gBAAgB,GAAGpB,MAAM,CAACC,OAA9B;AAAA,QACIJ,SAAS,GAAGuB,gBAAgB,CAACvB,SADjC;AAAA,QAEIwB,YAAY,GAAGD,gBAAgB,CAACC,YAFpC;AAAA,QAGIC,mBAAmB,GAAGF,gBAAgB,CAACE,mBAH3C;AAIA,MAAElK,KAAK,CAACW,KAAN,KAAgB,UAAhB,IAA8BX,KAAK,CAACW,KAAN,KAAgB,cAAhD,IAAkElY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAoC8Y,KAAK,CAACW,KAAlD,CAAjD,GAA4GzZ,SAAS,CAAC,KAAD,CAAvL,GAAiM,KAAK,CAAtM;AACA,QAAIijB,QAAQ,GAAG;AACbxJ,MAAAA,KAAK,EAAE,gBADM;AAEbT,MAAAA,UAAU,EAAEF,KAAK,CAACE,UAFL;AAGbuI,MAAAA,SAAS,EAAEA,SAHE;AAIbwB,MAAAA,YAAY,EAAEA,YAJD;AAKbC,MAAAA,mBAAmB,EAAEA;AALR,KAAf;AAOA,WAAOC,QAAP;AACD;;AAED,MAAIvB,MAAM,CAAC9B,IAAP,KAAgB,eAApB,EAAqC;AACnC,QAAIsD,gBAAgB,GAAGxB,MAAM,CAACC,OAA9B;AAAA,QACIwB,UAAU,GAAGD,gBAAgB,CAAC3B,SADlC;AAAA,QAEIC,WAAW,GAAG0B,gBAAgB,CAAC1B,WAFnC;AAGA,WAAO;AACL/H,MAAAA,KAAK,EAAE,MADF;AAEL8H,MAAAA,SAAS,EAAE4B,UAFN;AAGL3B,MAAAA,WAAW,EAAEA;AAHR,KAAP;AAKD;;AAED,SAAO1I,KAAP;AACD,CAjSD;;AAmSA,IAAIsK,IAAI,GAAG,SAASA,IAAT,CAAchgB,IAAd,EAAoB;AAC7B,SAAO;AACLwc,IAAAA,IAAI,EAAE,MADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIigB,cAAc,GAAG,SAASA,cAAT,CAAwBjgB,IAAxB,EAA8B;AACjD,SAAO;AACLwc,IAAAA,IAAI,EAAE,iBADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIkgB,sBAAsB,GAAG,SAAS1K,oBAAT,CAA8BxV,IAA9B,EAAoC;AAC/D,SAAO;AACLwc,IAAAA,IAAI,EAAE,wBADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAImgB,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrD,SAAO;AACL3D,IAAAA,IAAI,EAAE,qBADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAMA,IAAI6B,qBAAqB,GAAG,SAASA,qBAAT,CAA+BpgB,IAA/B,EAAqC;AAC/D,SAAO;AACLwc,IAAAA,IAAI,EAAE,yBADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIqgB,wBAAwB,GAAG,SAASA,wBAAT,CAAkCrgB,IAAlC,EAAwC;AACrE,SAAO;AACLwc,IAAAA,IAAI,EAAE,6BADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIsgB,+BAA+B,GAAG,SAASA,+BAAT,CAAyCtgB,IAAzC,EAA+C;AACnF,SAAO;AACLwc,IAAAA,IAAI,EAAE,qCADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIugB,IAAI,GAAG,SAASA,IAAT,CAAcvgB,IAAd,EAAoB;AAC7B,SAAO;AACLwc,IAAAA,IAAI,EAAE,MADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIwgB,kBAAkB,GAAG,SAASA,kBAAT,CAA4BxgB,IAA5B,EAAkC;AACzD,SAAO;AACLwc,IAAAA,IAAI,EAAE,uBADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIygB,uBAAuB,GAAG,SAASA,uBAAT,CAAiCzgB,IAAjC,EAAuC;AACnE,SAAO;AACLwc,IAAAA,IAAI,EAAE,4BADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAI0gB,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,SAAO;AACLlE,IAAAA,IAAI,EAAE,SADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIoC,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,SAAO;AACLnE,IAAAA,IAAI,EAAE,WADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIqC,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,SAAO;AACLpE,IAAAA,IAAI,EAAE,YADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIsC,QAAQ,GAAG,SAASA,QAAT,GAAoB;AACjC,SAAO;AACLrE,IAAAA,IAAI,EAAE,WADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIuC,OAAO,GAAG,SAAStiB,KAAT,CAAewB,IAAf,EAAqB;AACjC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnBA,IAAAA,IAAI,GAAG;AACLoe,MAAAA,WAAW,EAAE;AADR,KAAP;AAGD;;AAED,SAAO;AACL5B,IAAAA,IAAI,EAAE,OADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CAXD;;AAYA,IAAI+gB,WAAW,GAAG,SAASA,WAAT,CAAqB/gB,IAArB,EAA2B;AAC3C,SAAO;AACLwc,IAAAA,IAAI,EAAE,cADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIghB,YAAY,GAAG,SAASA,YAAT,CAAsBhhB,IAAtB,EAA4B;AAC7C,SAAO;AACLwc,IAAAA,IAAI,EAAE,eADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIihB,IAAI,GAAG,SAASA,IAAT,CAAcjhB,IAAd,EAAoB;AAC7B,SAAO;AACLwc,IAAAA,IAAI,EAAE,MADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIuW,WAAW,GAAG,SAASA,WAAT,CAAqBvW,IAArB,EAA2B;AAC3C,SAAO;AACLwc,IAAAA,IAAI,EAAE,cADD;AAEL+B,IAAAA,OAAO,EAAEve;AAFJ,GAAP;AAID,CALD;;AAMA,IAAIkhB,qBAAqB,GAAG,SAASA,qBAAT,GAAiC;AAC3D,SAAO;AACL1E,IAAAA,IAAI,EAAE,yBADD;AAEL+B,IAAAA,OAAO,EAAE;AAFJ,GAAP;AAID,CALD;;AAOA,IAAI4C,MAAM,GAAI,UAAUC,OAAV,EAAmB;AAC/B,SAAO,UAAUlf,IAAV,EAAgB;AACrB,QAAImf,QAAQ,GAAGnf,IAAI,CAACmf,QAApB;AAAA,QACIC,QAAQ,GAAGpf,IAAI,CAACof,QADpB;AAEA,WAAO,UAAUC,IAAV,EAAgB;AACrB,aAAO,UAAUjD,MAAV,EAAkB;AACvB,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,MAApB,EAA4B;AAC1B+E,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA;AACD;;AAED,YAAIE,eAAe,GAAGF,MAAM,CAACC,OAA7B;AAAA,YACI7W,EAAE,GAAG8W,eAAe,CAAC9W,EADzB;AAAA,YAEImT,eAAe,GAAG2D,eAAe,CAAC3D,eAFtC;AAAA,YAGI1E,YAAY,GAAGqI,eAAe,CAACrI,YAHnC;AAIA,YAAI7Q,OAAO,GAAG+b,QAAQ,EAAtB;;AAEA,YAAI/b,OAAO,CAAC+Q,KAAR,KAAkB,gBAAtB,EAAwC;AACtCiL,UAAAA,QAAQ,CAACN,YAAY,CAAC;AACpB7C,YAAAA,SAAS,EAAE7Y,OAAO,CAAC6Y,SADC;AAEpBC,YAAAA,WAAW,EAAE;AAFO,WAAD,CAAb,CAAR;AAID;;AAED,UAAEiD,QAAQ,GAAGhL,KAAX,KAAqB,MAAvB,IAAiClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iCAAR,CAAjD,GAA8FA,SAAS,CAAC,KAAD,CAAxI,GAAkJ,KAAK,CAAvJ;AACA,YAAI4kB,aAAa,GAAG;AAClBC,UAAAA,wBAAwB,EAAEtL,YAAY,KAAK;AADzB,SAApB;AAGA,YAAIuL,OAAO,GAAG;AACZlY,UAAAA,WAAW,EAAE9B,EADD;AAEZ8Z,UAAAA,aAAa,EAAEA;AAFH,SAAd;;AAKA,YAAIG,qBAAqB,GAAGP,OAAO,CAACQ,eAAR,CAAwBF,OAAxB,CAA5B;AAAA,YACI7L,QAAQ,GAAG8L,qBAAqB,CAAC9L,QADrC;AAAA,YAEID,UAAU,GAAG+L,qBAAqB,CAAC/L,UAFvC;AAAA,YAGItJ,QAAQ,GAAGqV,qBAAqB,CAACrV,QAHrC;;AAKAgV,QAAAA,QAAQ,CAACrB,cAAc,CAAC;AACtBpK,UAAAA,QAAQ,EAAEA,QADY;AAEtBD,UAAAA,UAAU,EAAEA,UAFU;AAGtBiF,UAAAA,eAAe,EAAEA,eAHK;AAItB1E,UAAAA,YAAY,EAAEA,YAJQ;AAKtB7J,UAAAA,QAAQ,EAAEA;AALY,SAAD,CAAf,CAAR;AAOD,OAxCD;AAyCD,KA1CD;AA2CD,GA9CD;AA+CD,CAhDD;;AAkDA,IAAIlG,KAAK,GAAI,UAAUgb,OAAV,EAAmB;AAC9B,SAAO,YAAY;AACjB,WAAO,UAAUG,IAAV,EAAgB;AACrB,aAAO,UAAUjD,MAAV,EAAkB;AACvB,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,iBAApB,EAAuC;AACrC4E,UAAAA,OAAO,CAAChQ,QAAR;AACD;;AAED,YAAIkN,MAAM,CAAC9B,IAAP,KAAgB,cAApB,EAAoC;AAClC4E,UAAAA,OAAO,CAACS,QAAR,CAAiBvD,MAAM,CAACC,OAAP,CAAeJ,SAAf,CAAyBpb,MAAzB,CAAgCyT,MAAjD;AACD;;AAED,YAAI8H,MAAM,CAAC9B,IAAP,KAAgB,OAAhB,IAA2B8B,MAAM,CAAC9B,IAAP,KAAgB,eAA/C,EAAgE;AAC9D4E,UAAAA,OAAO,CAACU,OAAR;AACD;;AAEDP,QAAAA,IAAI,CAACjD,MAAD,CAAJ;AACD,OAdD;AAeD,KAhBD;AAiBD,GAlBD;AAmBD,CApBD;;AAsBA,IAAIyD,MAAM,GAAG;AACXC,EAAAA,WAAW,EAAE,4BADF;AAEXf,EAAAA,IAAI,EAAE;AAFK,CAAb;AAIA,IAAIpa,OAAO,GAAG;AACZob,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IAAI,EAAE,CADC;AAEPiB,IAAAA,SAAS,EAAE;AAFJ,GADG;AAKZC,EAAAA,KAAK,EAAE;AACLlB,IAAAA,IAAI,EAAE;AADD;AALK,CAAd;AASA,IAAImB,OAAO,GAAG;AACZJ,EAAAA,WAAW,EAAE,GADD;AAEZK,EAAAA,WAAW,EAAE,IAFD;AAGZC,EAAAA,WAAW,EAAE;AAHD,CAAd;AAKA,IAAIC,iBAAiB,GAAGH,OAAO,CAACJ,WAAR,GAAsB,IAAtB,GAA6BD,MAAM,CAACC,WAA5D;AACA,IAAIQ,WAAW,GAAG;AAChBC,EAAAA,KAAK,EAAE,aAAaF,iBADJ;AAEhBG,EAAAA,IAAI,EAAE,eAAeH,iBAAf,GAAmC,YAAnC,GAAkDA,iBAFxC;AAGhBtB,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc0B,QAAd,EAAwB;AAC5B,QAAIC,MAAM,GAAGD,QAAQ,GAAG,IAAX,GAAkBZ,MAAM,CAACd,IAAtC;AACA,WAAO,eAAe2B,MAAf,GAAwB,YAAxB,GAAuCA,MAA9C;AACD,GANe;AAOhBZ,EAAAA,WAAW,EAAE,eAAeO,iBAPZ;AAQhB/S,EAAAA,WAAW,EAAE,YAAY+S,iBAAZ,GAAgC,UAAhC,GAA6CA,iBAA7C,GAAiE,WAAjE,GAA+EA;AAR5E,CAAlB;;AAWA,IAAIM,MAAM,GAAG,SAASA,MAAT,CAAgBvlB,MAAhB,EAAwB;AACnC,SAAOsE,OAAO,CAACtE,MAAD,EAAS+D,MAAT,CAAP,GAA0B,IAA1B,GAAiC,eAAe/D,MAAM,CAACgE,CAAtB,GAA0B,MAA1B,GAAmChE,MAAM,CAACiE,CAA1C,GAA8C,KAAtF;AACD,CAFD;;AAIA,IAAIuhB,UAAU,GAAG;AACfD,EAAAA,MAAM,EAAEA,MADO;AAEf5B,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAc3jB,MAAd,EAAsBylB,WAAtB,EAAmC;AACvC,QAAIC,SAAS,GAAGH,MAAM,CAACvlB,MAAD,CAAtB;;AAEA,QAAI,CAAC0lB,SAAL,EAAgB;AACd,aAAO,IAAP;AACD;;AAED,QAAI,CAACD,WAAL,EAAkB;AAChB,aAAOC,SAAP;AACD;;AAED,WAAOA,SAAS,GAAG,SAAZ,GAAwBnc,OAAO,CAACsb,KAAR,CAAclB,IAAtC,GAA6C,GAApD;AACD;AAdc,CAAjB;AAiBA,IAAIoB,WAAW,GAAGD,OAAO,CAACC,WAA1B;AAAA,IACIC,WAAW,GAAGF,OAAO,CAACE,WAD1B;AAEA,IAAIW,aAAa,GAAGX,WAAW,GAAGD,WAAlC;AACA,IAAIa,qBAAqB,GAAG,IAA5B;AACA,IAAIC,kBAAkB,GAAG,GAAzB;;AACA,IAAIC,eAAe,GAAI,UAAUlhB,IAAV,EAAgB;AACrC,MAAIsD,OAAO,GAAGtD,IAAI,CAACsD,OAAnB;AAAA,MACImB,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEI6P,MAAM,GAAGtU,IAAI,CAACsU,MAFlB;AAGA,MAAI6M,UAAU,GAAGlhB,QAAQ,CAACqD,OAAD,EAAUmB,WAAV,CAAzB;;AAEA,MAAI0c,UAAU,IAAI,CAAlB,EAAqB;AACnB,WAAOhB,WAAP;AACD;;AAED,MAAIgB,UAAU,IAAIH,qBAAlB,EAAyC;AACvC,WAAOZ,WAAP;AACD;;AAED,MAAIgB,UAAU,GAAGD,UAAU,GAAGH,qBAA9B;AACA,MAAIP,QAAQ,GAAGN,WAAW,GAAGY,aAAa,GAAGK,UAA7C;AACA,MAAIC,YAAY,GAAG/M,MAAM,KAAK,QAAX,GAAsBmM,QAAQ,GAAGQ,kBAAjC,GAAsDR,QAAzE;AACA,SAAOa,MAAM,CAACD,YAAY,CAACpd,OAAb,CAAqB,CAArB,CAAD,CAAb;AACD,CAlBD;;AAoBA,IAAIsd,sBAAsB,GAAI,UAAUvhB,IAAV,EAAgB;AAC5C,MAAIuE,MAAM,GAAGvE,IAAI,CAACuE,MAAlB;AAAA,MACIgC,SAAS,GAAGvG,IAAI,CAACuG,SADrB;AAAA,MAEImN,UAAU,GAAG1T,IAAI,CAAC0T,UAFtB;AAAA,MAGItJ,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAAA,MAII7C,MAAM,GAAGvH,IAAI,CAACuH,MAJlB;AAKA,MAAI7B,UAAU,GAAGgO,UAAU,CAAChO,UAA5B;AAAA,MACIL,UAAU,GAAGqO,UAAU,CAACrO,UAD5B;AAEA,MAAIX,WAAW,GAAGJ,iBAAiB,CAACC,MAAD,CAAnC;AACA,MAAIE,WAAW,GAAGC,WAAW,GAAGW,UAAU,CAACX,WAAD,CAAb,GAA6B,IAA1D;AACA,MAAI0H,IAAI,GAAG/G,UAAU,CAACkB,SAAS,CAAChB,UAAV,CAAqBb,WAAtB,CAArB;AACA,MAAI8c,eAAe,GAAG/F,wBAAwB,CAAC;AAC7ClX,IAAAA,MAAM,EAAEA,MADqC;AAE7CgC,IAAAA,SAAS,EAAEA,SAFkC;AAG7Cb,IAAAA,UAAU,EAAEA,UAHiC;AAI7C6B,IAAAA,MAAM,EAAEA,MAJqC;AAK7CvE,IAAAA,SAAS,EAAEyB,WAAW,IAAI2H,IALmB;AAM7ChC,IAAAA,QAAQ,EAAEA;AANmC,GAAD,CAA9C;AAQA,MAAIhP,MAAM,GAAGqE,QAAQ,CAAC+hB,eAAD,EAAkBjb,SAAS,CAACuG,MAAV,CAAiB1E,SAAjB,CAA2ByL,MAA7C,CAArB;AACA,MAAIrP,KAAK,GAAGD,MAAM,CAACC,KAAnB;;AAEA,MAAIA,KAAK,IAAI6C,iBAAiB,CAAC7C,KAAK,CAACG,OAAN,CAAc2C,WAAf,EAA4BC,MAA5B,CAA9B,EAAmE;AACjE,WAAO9H,QAAQ,CAACrE,MAAD,EAASmM,MAAM,CAACM,WAAP,CAAmBjI,KAA5B,CAAf;AACD;;AAED,SAAOxE,MAAP;AACD,CA3BD;;AA6BA,IAAIqmB,aAAa,GAAI,UAAUzhB,IAAV,EAAgB;AACnC,MAAIsU,MAAM,GAAGtU,IAAI,CAACsU,MAAlB;AAAA,MACIoN,UAAU,GAAG1hB,IAAI,CAAC0hB,UADtB;AAAA,MAEItV,IAAI,GAAGpM,IAAI,CAACoM,IAFhB;AAAA,MAGIhC,QAAQ,GAAGpK,IAAI,CAACoK,QAHpB;AAAA,MAII1E,UAAU,GAAG1F,IAAI,CAAC0F,UAJtB;AAAA,MAKI0O,YAAY,GAAGpU,IAAI,CAACoU,YALxB;AAAA,MAMI7M,MAAM,GAAGvH,IAAI,CAACuH,MANlB;AAOA,MAAIoa,sBAAsB,GAAGrN,MAAM,KAAK,MAAX,IAAqB9M,OAAO,CAAClD,iBAAiB,CAACod,UAAD,CAAlB,CAAzD;;AAEA,MAAI,CAACC,sBAAL,EAA6B;AAC3B,QAAIpd,MAAM,GAAGiX,SAAS,CAAC;AACrBjX,MAAAA,MAAM,EAAE6P,YADa;AAErB3P,MAAAA,WAAW,EAAE2H,IAFQ;AAGrBhC,MAAAA,QAAQ,EAAEA,QAHW;AAIrB1E,MAAAA,UAAU,EAAEA,UAJS;AAKrB6B,MAAAA,MAAM,EAAEA,MALa;AAMrBsD,MAAAA,kBAAkB,EAAE;AANC,KAAD,CAAtB;AAQA,WAAO;AACLtG,MAAAA,MAAM,EAAEA,MADH;AAELod,MAAAA,sBAAsB,EAAEA;AAFnB,KAAP;AAID;;AAED,MAAID,UAAU,CAACjd,WAAf,EAA4B;AAC1B,WAAO;AACLF,MAAAA,MAAM,EAAEmd,UADH;AAELC,MAAAA,sBAAsB,EAAEA;AAFnB,KAAP;AAID;;AAED,MAAIC,eAAe,GAAG5nB,QAAQ,CAAC,EAAD,EAAK0nB,UAAL,EAAiB;AAC7CzY,IAAAA,QAAQ,EAAEwC;AADmC,GAAjB,CAA9B;;AAIA,SAAO;AACLlH,IAAAA,MAAM,EAAEqd,eADH;AAELD,IAAAA,sBAAsB,EAAEA;AAFnB,GAAP;AAID,CAxCD;;AA0CA,IAAIE,MAAM,GAAI,UAAU7hB,IAAV,EAAgB;AAC5B,MAAImf,QAAQ,GAAGnf,IAAI,CAACmf,QAApB;AAAA,MACIC,QAAQ,GAAGpf,IAAI,CAACof,QADpB;AAEA,SAAO,UAAUC,IAAV,EAAgB;AACrB,WAAO,UAAUjD,MAAV,EAAkB;AACvB,UAAIA,MAAM,CAAC9B,IAAP,KAAgB,MAApB,EAA4B;AAC1B+E,QAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA;AACD;;AAED,UAAI5I,KAAK,GAAG2L,QAAQ,EAApB;AACA,UAAI7K,MAAM,GAAG8H,MAAM,CAACC,OAAP,CAAe/H,MAA5B;;AAEA,UAAId,KAAK,CAACW,KAAN,KAAgB,YAApB,EAAkC;AAChCiL,QAAAA,QAAQ,CAAC/K,WAAW,CAAC;AACnBC,UAAAA,MAAM,EAAEA;AADW,SAAD,CAAZ,CAAR;AAGA;AACD;;AAED,UAAId,KAAK,CAACW,KAAN,KAAgB,MAApB,EAA4B;AAC1B;AACD;;AAED,UAAI2N,gBAAgB,GAAGtO,KAAK,CAACW,KAAN,KAAgB,cAAhB,IAAkCX,KAAK,CAACe,SAA/D;AACA,OAAC,CAACuN,gBAAF,GAAqB7lB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6DAAR,CAAjD,GAA0HA,SAAS,CAAC,KAAD,CAAxJ,GAAkK,KAAK,CAAvK;AACA,QAAE8Y,KAAK,CAACW,KAAN,KAAgB,UAAhB,IAA8BX,KAAK,CAACW,KAAN,KAAgB,cAAhD,IAAkElY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2BAA2B8Y,KAAK,CAACW,KAAzC,CAAjD,GAAmGzZ,SAAS,CAAC,KAAD,CAA9K,GAAwL,KAAK,CAA7L;AACA,UAAIiZ,QAAQ,GAAGH,KAAK,CAACG,QAArB;AACA,UAAID,UAAU,GAAGF,KAAK,CAACE,UAAvB;;AAEA,UAAIqO,cAAc,GAAGN,aAAa,CAAC;AACjCnN,QAAAA,MAAM,EAAEA,MADyB;AAEjCoN,QAAAA,UAAU,EAAElO,KAAK,CAACjP,MAFe;AAGjCgD,QAAAA,MAAM,EAAEiM,KAAK,CAACjM,MAHmB;AAIjC6M,QAAAA,YAAY,EAAEZ,KAAK,CAACY,YAJa;AAKjChI,QAAAA,IAAI,EAAEoH,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4BmO,KAAK,CAACG,QAAN,CAAe3Q,SAAf,CAAyBwC,EAArD,CAL2B;AAMjC4E,QAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ,QANiB;AAOjC1E,QAAAA,UAAU,EAAE8N,KAAK,CAACE,UAAN,CAAiBhO;AAPI,OAAD,CAAlC;AAAA,UASInB,MAAM,GAAGwd,cAAc,CAACxd,MAT5B;AAAA,UAUIod,sBAAsB,GAAGI,cAAc,CAACJ,sBAV5C;;AAYA,UAAIpb,SAAS,GAAGmN,UAAU,CAAChO,UAAX,CAAsB8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAA/C,CAAhB;AACA,UAAIf,WAAW,GAAGkd,sBAAsB,GAAGpd,MAAM,CAACE,WAAV,GAAwB,IAAhE;AACA,UAAIE,OAAO,GAAGgd,sBAAsB,IAAIpd,MAAM,CAACC,KAAjC,GAAyCD,MAAM,CAACC,KAAP,CAAaG,OAAtD,GAAgE,IAA9E;AACA,UAAIsU,MAAM,GAAG;AACX/T,QAAAA,KAAK,EAAEyO,QAAQ,CAACpN,SAAT,CAAmBrB,KADf;AAEXR,QAAAA,WAAW,EAAEiP,QAAQ,CAAC3Q,SAAT,CAAmBwC;AAFrB,OAAb;AAIA,UAAI3E,MAAM,GAAG;AACXyG,QAAAA,WAAW,EAAEf,SAAS,CAAChB,UAAV,CAAqBC,EADvB;AAEX8U,QAAAA,IAAI,EAAE/T,SAAS,CAAChB,UAAV,CAAqB+U,IAFhB;AAGXrB,QAAAA,MAAM,EAAEA,MAHG;AAIX3E,QAAAA,MAAM,EAAEA,MAJG;AAKX0N,QAAAA,IAAI,EAAExO,KAAK,CAACS,YALD;AAMXxP,QAAAA,WAAW,EAAEA,WANF;AAOXE,QAAAA,OAAO,EAAEA;AAPE,OAAb;AASA,UAAI+Y,mBAAmB,GAAG6D,sBAAsB,CAAC;AAC/Chd,QAAAA,MAAM,EAAEA,MADuC;AAE/CgC,QAAAA,SAAS,EAAEA,SAFoC;AAG/CmN,QAAAA,UAAU,EAAEA,UAHmC;AAI/CtJ,QAAAA,QAAQ,EAAEoJ,KAAK,CAACpJ,QAJ+B;AAK/C7C,QAAAA,MAAM,EAAEiM,KAAK,CAACjM;AALiC,OAAD,CAAhD;AAOA,UAAI0U,SAAS,GAAG;AACdtI,QAAAA,QAAQ,EAAEH,KAAK,CAACG,QADF;AAEd9S,QAAAA,MAAM,EAAEA,MAFM;AAGd0D,QAAAA,MAAM,EAAEA;AAHM,OAAhB;AAKA,UAAI0d,mBAAmB,GAAG,CAACviB,OAAO,CAAC8T,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqB1R,MAAtB,EAA8BsiB,mBAA9B,CAAR,IAA8DlW,OAAO,CAAC3G,MAAM,CAAC8D,OAAR,CAA/F;;AAEA,UAAI,CAACsd,mBAAL,EAA0B;AACxB7C,QAAAA,QAAQ,CAACN,YAAY,CAAC;AACpB7C,UAAAA,SAAS,EAAEA,SADS;AAEpBC,UAAAA,WAAW,EAAE;AAFO,SAAD,CAAb,CAAR;AAIA;AACD;;AAED,UAAIuB,YAAY,GAAGyD,eAAe,CAAC;AACjC5d,QAAAA,OAAO,EAAEkQ,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqB1R,MADG;AAEjCqJ,QAAAA,WAAW,EAAEiZ,mBAFoB;AAGjCpJ,QAAAA,MAAM,EAAEA;AAHyB,OAAD,CAAlC;AAKA,UAAIxW,IAAI,GAAG;AACT4f,QAAAA,mBAAmB,EAAEA,mBADZ;AAETD,QAAAA,YAAY,EAAEA,YAFL;AAGTxB,QAAAA,SAAS,EAAEA;AAHF,OAAX;AAKAmD,MAAAA,QAAQ,CAACP,WAAW,CAAC/gB,IAAD,CAAZ,CAAR;AACD,KAvFD;AAwFD,GAzFD;AA0FD,CA7FD;;AA+FA,IAAIokB,QAAQ,GAAG,SAASA,QAAT,CAAkBhd,KAAlB,EAAyB;AACtC,SAAOA,KAAK,GAAG,CAAf;AACD,CAFD;;AAIA,IAAIid,WAAW,GAAG,SAASA,WAAT,CAAqBze,KAArB,EAA4B;AAC5C,SAAO,6CAA6Cwe,QAAQ,CAACxe,KAAK,CAACuV,MAAN,CAAa/T,KAAd,CAArD,GAA4E,6EAAnF;AACD,CAFD;;AAIA,IAAIkd,YAAY,GAAG,SAASA,YAAT,CAAsBnJ,MAAtB,EAA8BxU,WAA9B,EAA2C;AAC5D,MAAIkQ,YAAY,GAAGsE,MAAM,CAACvU,WAAP,KAAuBD,WAAW,CAACC,WAAtD;AACA,MAAI2d,aAAa,GAAGH,QAAQ,CAACjJ,MAAM,CAAC/T,KAAR,CAA5B;AACA,MAAIod,WAAW,GAAGJ,QAAQ,CAACzd,WAAW,CAACS,KAAb,CAA1B;;AAEA,MAAIyP,YAAJ,EAAkB;AAChB,WAAO,mDAAmD0N,aAAnD,GAAmE,sBAAnE,GAA4FC,WAA5F,GAA0G,QAAjH;AACD;;AAED,SAAO,iDAAiDD,aAAjD,GAAiE,gBAAjE,GAAoFpJ,MAAM,CAACvU,WAA3F,GAAyG,gBAAzG,GAA4HD,WAAW,CAACC,WAAxI,GAAsJ,oBAAtJ,GAA6K4d,WAA7K,GAA2L,MAAlM;AACD,CAVD;;AAYA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqB/c,EAArB,EAAyByT,MAAzB,EAAiCtU,OAAjC,EAA0C;AAC1D,MAAI6d,UAAU,GAAGvJ,MAAM,CAACvU,WAAP,KAAuBC,OAAO,CAACD,WAAhD;;AAEA,MAAI8d,UAAJ,EAAgB;AACd,WAAO,sBAAsBhd,EAAtB,GAA2B,iCAA3B,GAA+Db,OAAO,CAAC2C,WAA9E;AACD;;AAED,SAAO,sBAAsB9B,EAAtB,GAA2B,kBAA3B,GAAgDyT,MAAM,CAACvU,WAAvD,GAAqE,iCAArE,GAAyGC,OAAO,CAAC2C,WAAjH,GAA+H,kBAA/H,GAAoJ3C,OAAO,CAACD,WAA5J,GAA0K,QAAjL;AACD,CARD;;AAUA,IAAI+d,YAAY,GAAG,SAASA,YAAT,CAAsBzH,MAAtB,EAA8B;AAC/C,MAAInG,QAAQ,GAAGmG,MAAM,CAACvW,WAAtB;;AAEA,MAAIoQ,QAAJ,EAAc;AACZ,WAAOuN,YAAY,CAACpH,MAAM,CAAC/B,MAAR,EAAgBpE,QAAhB,CAAnB;AACD;;AAED,MAAIlQ,OAAO,GAAGqW,MAAM,CAACrW,OAArB;;AAEA,MAAIA,OAAJ,EAAa;AACX,WAAO4d,WAAW,CAACvH,MAAM,CAAC1T,WAAR,EAAqB0T,MAAM,CAAC/B,MAA5B,EAAoCtU,OAApC,CAAlB;AACD;;AAED,SAAO,gDAAP;AACD,CAdD;;AAgBA,IAAI+d,eAAe,GAAG,SAASA,eAAT,CAAyBzJ,MAAzB,EAAiC;AACrD,SAAO,8DAA8DiJ,QAAQ,CAACjJ,MAAM,CAAC/T,KAAR,CAAtE,GAAuF,IAA9F;AACD,CAFD;;AAIA,IAAIyd,SAAS,GAAG,SAASA,SAAT,CAAmB9hB,MAAnB,EAA2B;AACzC,MAAIA,MAAM,CAACyT,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,WAAO,wCAAwCoO,eAAe,CAAC7hB,MAAM,CAACoY,MAAR,CAAvD,GAAyE,QAAhF;AACD;;AAED,MAAIpE,QAAQ,GAAGhU,MAAM,CAAC4D,WAAtB;AACA,MAAIE,OAAO,GAAG9D,MAAM,CAAC8D,OAArB;;AAEA,MAAIkQ,QAAJ,EAAc;AACZ,WAAO,+CAA+CuN,YAAY,CAACvhB,MAAM,CAACoY,MAAR,EAAgBpE,QAAhB,CAA3D,GAAuF,QAA9F;AACD;;AAED,MAAIlQ,OAAJ,EAAa;AACX,WAAO,+CAA+C4d,WAAW,CAAC1hB,MAAM,CAACyG,WAAR,EAAqBzG,MAAM,CAACoY,MAA5B,EAAoCtU,OAApC,CAA1D,GAAyG,QAAhH;AACD;;AAED,SAAO,sEAAsE+d,eAAe,CAAC7hB,MAAM,CAACoY,MAAR,CAArF,GAAuG,MAA9G;AACD,CAjBD;;AAmBA,IAAI2J,MAAM,GAAG;AACXT,EAAAA,WAAW,EAAEA,WADF;AAEXM,EAAAA,YAAY,EAAEA,YAFH;AAGXE,EAAAA,SAAS,EAAEA;AAHA,CAAb;;AAMA,IAAIE,mBAAmB,GAAI,UAAUC,QAAV,EAAoB;AAC7C,MAAIC,SAAS,GAAG,KAAhB;AACA,MAAIC,SAAS,GAAG,KAAhB;AACA,MAAIC,SAAS,GAAGC,UAAU,CAAC,YAAY;AACrCF,IAAAA,SAAS,GAAG,IAAZ;AACD,GAFyB,CAA1B;;AAIA,MAAIniB,MAAM,GAAG,SAASA,MAAT,CAAgBlE,OAAhB,EAAyB;AACpC,QAAIomB,SAAJ,EAAe;AACb9mB,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,6DAAD,CAA/C,GAAiH,KAAK,CAAtH;AACA;AACD;;AAED,QAAIkmB,SAAJ,EAAe;AACb/mB,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,qHAAD,CAA/C,GAAyK,KAAK,CAA9K;AACA;AACD;;AAEDimB,IAAAA,SAAS,GAAG,IAAZ;AACAD,IAAAA,QAAQ,CAACnmB,OAAD,CAAR;AACAwmB,IAAAA,YAAY,CAACF,SAAD,CAAZ;AACD,GAdD;;AAgBApiB,EAAAA,MAAM,CAACkiB,SAAP,GAAmB,YAAY;AAC7B,WAAOA,SAAP;AACD,GAFD;;AAIA,SAAOliB,MAAP;AACD,CA5BD;;AA8BA,IAAIuiB,eAAe,GAAI,YAAY;AACjC,MAAIC,OAAO,GAAG,EAAd;;AAEA,MAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBC,OAAjB,EAA0B;AACtC,QAAIre,KAAK,GAAGL,SAAS,CAACwe,OAAD,EAAU,UAAUxX,IAAV,EAAgB;AAC7C,aAAOA,IAAI,CAAC0X,OAAL,KAAiBA,OAAxB;AACD,KAFoB,CAArB;AAGA,MAAEre,KAAK,KAAK,CAAC,CAAb,IAAkBjJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sBAAR,CAAjD,GAAmFA,SAAS,CAAC,KAAD,CAA9G,GAAwH,KAAK,CAA7H;;AAEA,QAAI8oB,eAAe,GAAGH,OAAO,CAAC9U,MAAR,CAAerJ,KAAf,EAAsB,CAAtB,CAAtB;AAAA,QACI0S,KAAK,GAAG4L,eAAe,CAAC,CAAD,CAD3B;;AAGA5L,IAAAA,KAAK,CAAC6L,QAAN;AACD,GAVD;;AAYA,MAAInkB,GAAG,GAAG,SAASA,GAAT,CAAajB,EAAb,EAAiB;AACzB,QAAIklB,OAAO,GAAGL,UAAU,CAAC,YAAY;AACnC,aAAOI,OAAO,CAACC,OAAD,CAAd;AACD,KAFuB,CAAxB;AAGA,QAAI3L,KAAK,GAAG;AACV2L,MAAAA,OAAO,EAAEA,OADC;AAEVE,MAAAA,QAAQ,EAAEplB;AAFA,KAAZ;AAIAglB,IAAAA,OAAO,CAACK,IAAR,CAAa9L,KAAb;AACD,GATD;;AAWA,MAAI+L,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3B,QAAI,CAACN,OAAO,CAACxlB,MAAb,EAAqB;AACnB;AACD;;AAED,QAAImX,OAAO,GAAG,GAAG9W,MAAH,CAAUmlB,OAAV,CAAd;AACAA,IAAAA,OAAO,CAACxlB,MAAR,GAAiB,CAAjB;AACAmX,IAAAA,OAAO,CAAClH,OAAR,CAAgB,UAAU8J,KAAV,EAAiB;AAC/BuL,MAAAA,YAAY,CAACvL,KAAK,CAAC2L,OAAP,CAAZ;AACA3L,MAAAA,KAAK,CAAC6L,QAAN;AACD,KAHD;AAID,GAXD;;AAaA,SAAO;AACLnkB,IAAAA,GAAG,EAAEA,GADA;AAELqkB,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CA3CD;;AA6CA,IAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BtiB,KAA3B,EAAkCC,MAAlC,EAA0C;AAChE,MAAID,KAAK,IAAI,IAAT,IAAiBC,MAAM,IAAI,IAA/B,EAAqC;AACnC,WAAO,IAAP;AACD;;AAED,MAAID,KAAK,IAAI,IAAT,IAAiBC,MAAM,IAAI,IAA/B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,SAAOD,KAAK,CAACoD,WAAN,KAAsBnD,MAAM,CAACmD,WAA7B,IAA4CpD,KAAK,CAAC4D,KAAN,KAAgB3D,MAAM,CAAC2D,KAA1E;AACD,CAVD;;AAWA,IAAI2e,cAAc,GAAG,SAASA,cAAT,CAAwBviB,KAAxB,EAA+BC,MAA/B,EAAuC;AAC1D,MAAID,KAAK,IAAI,IAAT,IAAiBC,MAAM,IAAI,IAA/B,EAAqC;AACnC,WAAO,IAAP;AACD;;AAED,MAAID,KAAK,IAAI,IAAT,IAAiBC,MAAM,IAAI,IAA/B,EAAqC;AACnC,WAAO,KAAP;AACD;;AAED,SAAOD,KAAK,CAACgG,WAAN,KAAsB/F,MAAM,CAAC+F,WAA7B,IAA4ChG,KAAK,CAACoD,WAAN,KAAsBnD,MAAM,CAACmD,WAAhF;AACD,CAVD;;AAWA,IAAIof,eAAe,GAAG,SAASA,eAAT,CAAyBxiB,KAAzB,EAAgCC,MAAhC,EAAwC;AAC5D,MAAID,KAAK,KAAKC,MAAd,EAAsB;AACpB,WAAO,IAAP;AACD;;AAED,MAAIwiB,gBAAgB,GAAGziB,KAAK,CAACiF,SAAN,CAAgBf,EAAhB,KAAuBjE,MAAM,CAACgF,SAAP,CAAiBf,EAAxC,IAA8ClE,KAAK,CAACiF,SAAN,CAAgB7B,WAAhB,KAAgCnD,MAAM,CAACgF,SAAP,CAAiB7B,WAA/F,IAA8GpD,KAAK,CAACiF,SAAN,CAAgB+T,IAAhB,KAAyB/Y,MAAM,CAACgF,SAAP,CAAiB+T,IAAxJ,IAAgKhZ,KAAK,CAACiF,SAAN,CAAgBrB,KAAhB,KAA0B3D,MAAM,CAACgF,SAAP,CAAiBrB,KAAlO;AACA,MAAI8e,gBAAgB,GAAG1iB,KAAK,CAAC0B,SAAN,CAAgBwC,EAAhB,KAAuBjE,MAAM,CAACyB,SAAP,CAAiBwC,EAAxC,IAA8ClE,KAAK,CAAC0B,SAAN,CAAgBsX,IAAhB,KAAyB/Y,MAAM,CAACyB,SAAP,CAAiBsX,IAA/G;AACA,SAAOyJ,gBAAgB,IAAIC,gBAA3B;AACD,CARD;;AAUA,IAAIC,WAAW,GAAG,SAASA,WAAT,CAAqBtgB,GAArB,EAA0BtF,EAA1B,EAA8B;AAC9CqF,EAAAA,KAAK,CAACC,GAAD,CAAL;AACAtF,EAAAA,EAAE;AACFyF,EAAAA,MAAM,CAACH,GAAD,CAAN;AACD,CAJD;;AAMA,IAAIugB,YAAY,GAAG,SAASA,YAAT,CAAsBvQ,QAAtB,EAAgCqO,IAAhC,EAAsC;AACvD,SAAO;AACL1a,IAAAA,WAAW,EAAEqM,QAAQ,CAACpN,SAAT,CAAmBf,EAD3B;AAEL8U,IAAAA,IAAI,EAAE3G,QAAQ,CAAC3Q,SAAT,CAAmBsX,IAFpB;AAGLrB,IAAAA,MAAM,EAAE;AACNvU,MAAAA,WAAW,EAAEiP,QAAQ,CAAC3Q,SAAT,CAAmBwC,EAD1B;AAENN,MAAAA,KAAK,EAAEyO,QAAQ,CAACpN,SAAT,CAAmBrB;AAFpB,KAHH;AAOL8c,IAAAA,IAAI,EAAEA;AAPD,GAAP;AASD,CAVD;;AAYA,IAAIsB,OAAO,GAAG,SAASA,OAAT,CAAiBa,SAAjB,EAA4BC,IAA5B,EAAkCtB,QAAlC,EAA4CuB,iBAA5C,EAA+D;AAC3E,MAAI,CAACF,SAAL,EAAgB;AACdrB,IAAAA,QAAQ,CAACuB,iBAAiB,CAACD,IAAD,CAAlB,CAAR;AACA;AACD;;AAED,MAAIE,UAAU,GAAGzB,mBAAmB,CAACC,QAAD,CAApC;AACA,MAAI5Q,QAAQ,GAAG;AACb4Q,IAAAA,QAAQ,EAAEwB;AADG,GAAf;AAGAH,EAAAA,SAAS,CAACC,IAAD,EAAOlS,QAAP,CAAT;;AAEA,MAAI,CAACoS,UAAU,CAACvB,SAAX,EAAL,EAA6B;AAC3BD,IAAAA,QAAQ,CAACuB,iBAAiB,CAACD,IAAD,CAAlB,CAAR;AACD;AACF,CAfD;;AAiBA,IAAIG,YAAY,GAAI,UAAUC,aAAV,EAAyB1B,QAAzB,EAAmC;AACrD,MAAI2B,YAAY,GAAGrB,eAAe,EAAlC;AACA,MAAIlU,QAAQ,GAAG,IAAf;;AAEA,MAAIwV,WAAW,GAAG,SAASA,WAAT,CAAqB/Q,QAArB,EAA+BqO,IAA/B,EAAqC;AACrD,KAAC,CAAC9S,QAAF,GAAajT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0EAAR,CAAjD,GAAuIA,SAAS,CAAC,KAAD,CAA7J,GAAuK,KAAK,CAA5K;AACAupB,IAAAA,WAAW,CAAC,mBAAD,EAAsB,YAAY;AAC3C,UAAI5lB,EAAE,GAAGmmB,aAAa,GAAGG,iBAAzB;;AAEA,UAAItmB,EAAJ,EAAQ;AACNA,QAAAA,EAAE,CAAC6lB,YAAY,CAACvQ,QAAD,EAAWqO,IAAX,CAAb,CAAF;AACD;AACF,KANU,CAAX;AAOD,GATD;;AAWA,MAAIte,KAAK,GAAG,SAASA,KAAT,CAAeiQ,QAAf,EAAyBqO,IAAzB,EAA+B;AACzC,KAAC,CAAC9S,QAAF,GAAajT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0EAAR,CAAjD,GAAuIA,SAAS,CAAC,KAAD,CAA7J,GAAuK,KAAK,CAA5K;AACA,QAAI0pB,IAAI,GAAGF,YAAY,CAACvQ,QAAD,EAAWqO,IAAX,CAAvB;AACA9S,IAAAA,QAAQ,GAAG;AACT8S,MAAAA,IAAI,EAAEA,IADG;AAET4C,MAAAA,YAAY,EAAEjR,QAFL;AAGTkR,MAAAA,YAAY,EAAET,IAAI,CAACnL,MAHV;AAIT6L,MAAAA,WAAW,EAAE;AAJJ,KAAX;AAMAL,IAAAA,YAAY,CAACnlB,GAAb,CAAiB,YAAY;AAC3B2kB,MAAAA,WAAW,CAAC,aAAD,EAAgB,YAAY;AACrC,eAAOX,OAAO,CAACkB,aAAa,GAAGrC,WAAjB,EAA8BiC,IAA9B,EAAoCtB,QAApC,EAA8CF,MAAM,CAACT,WAArD,CAAd;AACD,OAFU,CAAX;AAGD,KAJD;AAKD,GAdD;;AAgBA,MAAInH,MAAM,GAAG,SAASA,MAAT,CAAgBrH,QAAhB,EAA0BpP,MAA1B,EAAkC;AAC7C,QAAIsQ,QAAQ,GAAGtQ,MAAM,CAACE,WAAtB;AACA,QAAIE,OAAO,GAAGJ,MAAM,CAACC,KAAP,GAAeD,MAAM,CAACC,KAAP,CAAaG,OAA5B,GAAsC,IAApD;AACA,KAACuK,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6DAAR,CAAjD,GAA0HA,SAAS,CAAC,KAAD,CAA/I,GAAyJ,KAAK,CAA9J;AACA,QAAIqqB,kBAAkB,GAAG,CAACjB,eAAe,CAACnQ,QAAD,EAAWzE,QAAQ,CAAC0V,YAApB,CAAzC;;AAEA,QAAIG,kBAAJ,EAAwB;AACtB7V,MAAAA,QAAQ,CAAC0V,YAAT,GAAwBjR,QAAxB;AACD;;AAED,QAAIqR,kBAAkB,GAAG,CAACpB,iBAAiB,CAAC1U,QAAQ,CAAC2V,YAAV,EAAwBhQ,QAAxB,CAA3C;;AAEA,QAAImQ,kBAAJ,EAAwB;AACtB9V,MAAAA,QAAQ,CAAC2V,YAAT,GAAwBhQ,QAAxB;AACD;;AAED,QAAIoQ,kBAAkB,GAAG,CAACpB,cAAc,CAAC3U,QAAQ,CAAC4V,WAAV,EAAuBngB,OAAvB,CAAxC;;AAEA,QAAIsgB,kBAAJ,EAAwB;AACtB/V,MAAAA,QAAQ,CAAC4V,WAAT,GAAuBngB,OAAvB;AACD;;AAED,QAAI,CAACogB,kBAAD,IAAuB,CAACC,kBAAxB,IAA8C,CAACC,kBAAnD,EAAuE;AACrE;AACD;;AAED,QAAIb,IAAI,GAAGpqB,QAAQ,CAAC,EAAD,EAAKkqB,YAAY,CAACvQ,QAAD,EAAWzE,QAAQ,CAAC8S,IAApB,CAAjB,EAA4C;AAC7Drd,MAAAA,OAAO,EAAEA,OADoD;AAE7DF,MAAAA,WAAW,EAAEoQ;AAFgD,KAA5C,CAAnB;;AAKA4P,IAAAA,YAAY,CAACnlB,GAAb,CAAiB,YAAY;AAC3B2kB,MAAAA,WAAW,CAAC,cAAD,EAAiB,YAAY;AACtC,eAAOX,OAAO,CAACkB,aAAa,GAAG/B,YAAjB,EAA+B2B,IAA/B,EAAqCtB,QAArC,EAA+CF,MAAM,CAACH,YAAtD,CAAd;AACD,OAFU,CAAX;AAGD,KAJD;AAKD,GApCD;;AAsCA,MAAIkB,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3B,KAACzU,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0CAAR,CAAjD,GAAuGA,SAAS,CAAC,KAAD,CAA5H,GAAsI,KAAK,CAA3I;AACA+pB,IAAAA,YAAY,CAACd,KAAb;AACD,GAHD;;AAKA,MAAI5E,IAAI,GAAG,SAASA,IAAT,CAAcle,MAAd,EAAsB;AAC/B,KAACqO,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6DAAR,CAAjD,GAA0HA,SAAS,CAAC,KAAD,CAA/I,GAAyJ,KAAK,CAA9J;AACAwU,IAAAA,QAAQ,GAAG,IAAX;AACA+U,IAAAA,WAAW,CAAC,WAAD,EAAc,YAAY;AACnC,aAAOX,OAAO,CAACkB,aAAa,GAAG7B,SAAjB,EAA4B9hB,MAA5B,EAAoCiiB,QAApC,EAA8CF,MAAM,CAACD,SAArD,CAAd;AACD,KAFU,CAAX;AAGD,GAND;;AAQA,MAAIuC,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3B,QAAI,CAAChW,QAAL,EAAe;AACb;AACD;;AAED,QAAIrO,MAAM,GAAG7G,QAAQ,CAAC,EAAD,EAAKkqB,YAAY,CAAChV,QAAQ,CAAC0V,YAAV,EAAwB1V,QAAQ,CAAC8S,IAAjC,CAAjB,EAAyD;AAC5Erd,MAAAA,OAAO,EAAE,IADmE;AAE5EF,MAAAA,WAAW,EAAE,IAF+D;AAG5E6P,MAAAA,MAAM,EAAE;AAHoE,KAAzD,CAArB;;AAMAyK,IAAAA,IAAI,CAACle,MAAD,CAAJ;AACD,GAZD;;AAcA,SAAO;AACL6jB,IAAAA,WAAW,EAAEA,WADR;AAELhhB,IAAAA,KAAK,EAAEA,KAFF;AAGLsX,IAAAA,MAAM,EAAEA,MAHH;AAIL2I,IAAAA,KAAK,EAAEA,KAJF;AAKL5E,IAAAA,IAAI,EAAEA,IALD;AAMLmG,IAAAA,KAAK,EAAEA;AANF,GAAP;AAQD,CAxGD;;AA0GA,IAAIC,UAAU,GAAI,UAAUX,aAAV,EAAyB1B,QAAzB,EAAmC;AACnD,MAAIsC,SAAS,GAAGb,YAAY,CAACC,aAAD,EAAgB1B,QAAhB,CAA5B;AACA,SAAO,UAAUuC,KAAV,EAAiB;AACtB,WAAO,UAAUhG,IAAV,EAAgB;AACrB,aAAO,UAAUjD,MAAV,EAAkB;AACvB,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,iBAApB,EAAuC;AACrC,cAAI3G,QAAQ,GAAGyI,MAAM,CAACC,OAAP,CAAe1I,QAA9B;AACAyR,UAAAA,SAAS,CAACV,WAAV,CAAsB/Q,QAAtB,EAAgCyI,MAAM,CAACC,OAAP,CAAepI,YAA/C;AACAoL,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACAgJ,UAAAA,SAAS,CAAC1hB,KAAV,CAAgBiQ,QAAhB,EAA0ByI,MAAM,CAACC,OAAP,CAAepI,YAAzC;AACA;AACD;;AAED,YAAImI,MAAM,CAAC9B,IAAP,KAAgB,eAApB,EAAqC;AACnC,cAAIzZ,MAAM,GAAGub,MAAM,CAACC,OAAP,CAAeJ,SAAf,CAAyBpb,MAAtC;AACAukB,UAAAA,SAAS,CAACzB,KAAV;AACAtE,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACAgJ,UAAAA,SAAS,CAACrG,IAAV,CAAele,MAAf;AACA;AACD;;AAEDwe,QAAAA,IAAI,CAACjD,MAAD,CAAJ;;AAEA,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,OAApB,EAA6B;AAC3B8K,UAAAA,SAAS,CAACF,KAAV;AACA;AACD;;AAED,YAAI1R,KAAK,GAAG6R,KAAK,CAAClG,QAAN,EAAZ;;AAEA,YAAI3L,KAAK,CAACW,KAAN,KAAgB,UAApB,EAAgC;AAC9BiR,UAAAA,SAAS,CAACpK,MAAV,CAAiBxH,KAAK,CAACG,QAAvB,EAAiCH,KAAK,CAACjP,MAAvC;AACD;AACF,OA7BD;AA8BD,KA/BD;AAgCD,GAjCD;AAkCD,CApCD;;AAsCA,IAAI+gB,mBAAmB,GAAI,UAAUD,KAAV,EAAiB;AAC1C,SAAO,UAAUhG,IAAV,EAAgB;AACrB,WAAO,UAAUjD,MAAV,EAAkB;AACvB,UAAIA,MAAM,CAAC9B,IAAP,KAAgB,yBAApB,EAA+C;AAC7C+E,QAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA;AACD;;AAED,UAAI5I,KAAK,GAAG6R,KAAK,CAAClG,QAAN,EAAZ;AACA,QAAE3L,KAAK,CAACW,KAAN,KAAgB,gBAAlB,IAAsClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0DAAR,CAAjD,GAAuHA,SAAS,CAAC,KAAD,CAAtK,GAAgL,KAAK,CAArL;AACA2qB,MAAAA,KAAK,CAACjG,QAAN,CAAeN,YAAY,CAAC;AAC1B7C,QAAAA,SAAS,EAAEzI,KAAK,CAACyI,SADS;AAE1BC,QAAAA,WAAW,EAAE;AAFa,OAAD,CAA3B;AAID,KAZD;AAaD,GAdD;AAeD,CAhBD;;AAkBA,IAAIqJ,uBAAuB,GAAI,UAAUrG,OAAV,EAAmB;AAChD,SAAO,YAAY;AACjB,WAAO,UAAUG,IAAV,EAAgB;AACrB,aAAO,UAAUjD,MAAV,EAAkB;AACvB,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,eAAhB,IAAmC8B,MAAM,CAAC9B,IAAP,KAAgB,OAAnD,IAA8D8B,MAAM,CAAC9B,IAAP,KAAgB,cAAlF,EAAkG;AAChG4E,UAAAA,OAAO,CAACsG,cAAR;AACD;;AAEDnG,QAAAA,IAAI,CAACjD,MAAD,CAAJ;AACD,OAND;AAOD,KARD;AASD,GAVD;AAWD,CAZD;;AAcA,IAAIqJ,SAAS,GAAG,SAASA,SAAT,CAAmBrJ,MAAnB,EAA2B;AACzC,SAAOA,MAAM,CAAC9B,IAAP,KAAgB,eAAhB,IAAmC8B,MAAM,CAAC9B,IAAP,KAAgB,cAAnD,IAAqE8B,MAAM,CAAC9B,IAAP,KAAgB,OAA5F;AACD,CAFD;;AAIA,IAAIoL,mBAAmB,GAAG,SAASA,mBAAT,CAA6BtJ,MAA7B,EAAqC;AAC7D,SAAOA,MAAM,CAAC9B,IAAP,KAAgB,qBAAvB;AACD,CAFD;;AAIA,IAAIqL,UAAU,GAAI,UAAUC,YAAV,EAAwB;AACxC,SAAO,UAAUP,KAAV,EAAiB;AACtB,WAAO,UAAUhG,IAAV,EAAgB;AACrB,aAAO,UAAUjD,MAAV,EAAkB;AACvB,YAAIqJ,SAAS,CAACrJ,MAAD,CAAb,EAAuB;AACrBwJ,UAAAA,YAAY,CAACC,IAAb;AACAxG,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA;AACD;;AAED,YAAIsJ,mBAAmB,CAACtJ,MAAD,CAAvB,EAAiC;AAC/BwJ,UAAAA,YAAY,CAACE,aAAb;AACAzG,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA;AACD;;AAED,YAAIA,MAAM,CAAC9B,IAAP,KAAgB,iBAApB,EAAuC;AACrC+E,UAAAA,IAAI,CAACjD,MAAD,CAAJ;AACA,cAAI5I,KAAK,GAAG6R,KAAK,CAAClG,QAAN,EAAZ;AACA,YAAE3L,KAAK,CAACW,KAAN,KAAgB,UAAlB,IAAgClY,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qDAAR,CAAjD,GAAkHA,SAAS,CAAC,KAAD,CAA3J,GAAqK,KAAK,CAA1K;AACAkrB,UAAAA,YAAY,CAACliB,KAAb,CAAmB8P,KAAnB;AACA;AACD;;AAED6L,QAAAA,IAAI,CAACjD,MAAD,CAAJ;AACAwJ,QAAAA,YAAY,CAAChkB,MAAb,CAAoByjB,KAAK,CAAClG,QAAN,EAApB;AACD,OAvBD;AAwBD,KAzBD;AA0BD,GA3BD;AA4BD,CA7BD;;AA+BA,IAAI4G,WAAW,GAAI,UAAUV,KAAV,EAAiB;AAClC,SAAO,UAAUhG,IAAV,EAAgB;AACrB,WAAO,UAAUjD,MAAV,EAAkB;AACvBiD,MAAAA,IAAI,CAACjD,MAAD,CAAJ;;AAEA,UAAIA,MAAM,CAAC9B,IAAP,KAAgB,wBAApB,EAA8C;AAC5C;AACD;;AAED,UAAI0L,eAAe,GAAGX,KAAK,CAAClG,QAAN,EAAtB;;AAEA,UAAI6G,eAAe,CAAC7R,KAAhB,KAA0B,cAA9B,EAA8C;AAC5C;AACD;;AAED,UAAI6R,eAAe,CAACzR,SAApB,EAA+B;AAC7B;AACD;;AAED8Q,MAAAA,KAAK,CAACjG,QAAN,CAAeL,IAAI,CAAC;AAClBzK,QAAAA,MAAM,EAAE0R,eAAe,CAAC1R;AADN,OAAD,CAAnB;AAGD,KApBD;AAqBD,GAtBD;AAuBD,CAxBD;;AA0BA,IAAI2R,gBAAgB,GAAGhqB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,OAAOa,MAAP,KAAkB,WAA3D,IAA0EA,MAAM,CAACkpB,oCAAjF,GAAwHlpB,MAAM,CAACkpB,oCAA/H,GAAsKprB,OAA7L;;AACA,IAAIH,WAAW,GAAI,UAAUqF,IAAV,EAAgB;AACjC,MAAImmB,gBAAgB,GAAGnmB,IAAI,CAACmmB,gBAA5B;AAAA,MACIC,YAAY,GAAGpmB,IAAI,CAAComB,YADxB;AAAA,MAEI5B,aAAa,GAAGxkB,IAAI,CAACwkB,aAFzB;AAAA,MAGI1B,QAAQ,GAAG9iB,IAAI,CAAC8iB,QAHpB;AAAA,MAII8C,YAAY,GAAG5lB,IAAI,CAAC4lB,YAJxB;AAKA,SAAOhrB,aAAa,CAACuhB,OAAD,EAAU8J,gBAAgB,CAACprB,eAAe,CAACqJ,KAAK,CAACkiB,YAAD,CAAN,EAAsBb,uBAAuB,CAACY,gBAAD,CAA7C,EAAiElH,MAAM,CAACkH,gBAAD,CAAvE,EAA2FtE,MAA3F,EAAmGyD,mBAAnG,EAAwHS,WAAxH,EAAqIJ,UAAU,CAACC,YAAD,CAA/I,EAA+JT,UAAU,CAACX,aAAD,EAAgB1B,QAAhB,CAAzK,CAAhB,CAA1B,CAApB;AACD,CAPD;;AASA,IAAIuD,OAAO,GAAG,SAAS/pB,KAAT,GAAiB;AAC7B,SAAO;AACLoR,IAAAA,SAAS,EAAE,EADN;AAELE,IAAAA,QAAQ,EAAE,EAFL;AAGLkB,IAAAA,QAAQ,EAAE;AAHL,GAAP;AAKD,CAND;;AAQA,IAAIwX,SAAS,GAAG,6BAAhB;;AACA,IAAIC,eAAe,GAAI,UAAUvmB,IAAV,EAAgB;AACrC,MAAIwmB,UAAU,GAAGxmB,IAAI,CAACwmB,UAAtB;AAAA,MACIC,SAAS,GAAGzmB,IAAI,CAACymB,SADrB;;AAGA,MAAIC,oBAAoB,GAAG,YAAY;AACrC,QAAIzqB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,aAAO,YAAY,CAAE,CAArB;AACD;;AAED,QAAIwqB,YAAY,GAAG,KAAnB;AACA,WAAO,YAAY;AACjB,UAAIA,YAAJ,EAAkB;AAChB;AACD;;AAEDA,MAAAA,YAAY,GAAG,IAAf;AACA1qB,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,mQAAD,CAA/C,GAAuT,KAAK,CAA5T;AACD,KAPD;AAQD,GAd0B,EAA3B;;AAgBA,MAAI8pB,OAAO,GAAGP,OAAO,EAArB;AACA,MAAIQ,OAAO,GAAG,IAAd;;AAEA,MAAIC,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/BJ,IAAAA,oBAAoB;;AAEpB,QAAIG,OAAJ,EAAa;AACX;AACD;;AAEDA,IAAAA,OAAO,GAAGE,qBAAqB,CAAC,YAAY;AAC1CF,MAAAA,OAAO,GAAG,IAAV;AACAJ,MAAAA,SAAS,CAACxI,kBAAV;AACA,UAAItK,QAAQ,GAAG8S,SAAS,CAACO,WAAV,EAAf;AACAtjB,MAAAA,KAAK,CAAC4iB,SAAD,CAAL;AACA,UAAIjD,OAAO,GAAGmD,UAAU,EAAxB;AACA,UAAIS,QAAQ,GAAGL,OAAf;AAAA,UACIlZ,SAAS,GAAGuZ,QAAQ,CAACvZ,SADzB;AAAA,UAEIE,QAAQ,GAAGqZ,QAAQ,CAACrZ,QAFxB;AAAA,UAGIkB,QAAQ,GAAGmY,QAAQ,CAACnY,QAHxB;;AAKA,UAAIiC,KAAK,GAAGpV,YAAY,CAAC+R,SAAD,CAAZ,CAAwBjN,GAAxB,CAA4B,UAAU+E,EAAV,EAAc;AACpD,eAAO6d,OAAO,CAAC3d,UAAR,CAAmBF,EAAnB,EAAuB0hB,YAAvB,CAAoC/nB,MAApC,CAAP;AACD,OAFW,EAETqH,IAFS,CAEJ,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,eAAOD,CAAC,CAAClB,UAAF,CAAaL,KAAb,GAAqBwB,CAAC,CAACnB,UAAF,CAAaL,KAAzC;AACD,OAJW,CAAZ;;AAMA,UAAIwJ,OAAO,GAAG/S,YAAY,CAACmT,QAAD,CAAZ,CAAuBrO,GAAvB,CAA2B,UAAU+E,EAAV,EAAc;AACrD,YAAIoS,KAAK,GAAGyL,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,CAAZ;AACA,SAACoS,KAAD,GAAS3b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kDAAR,CAAjD,GAA+GA,SAAS,CAAC,KAAD,CAAjI,GAA2I,KAAK,CAAhJ;AACA,YAAIysB,MAAM,GAAGvP,KAAK,CAACrS,UAAN,CAAiBC,EAAjB,KAAwBmO,QAAQ,CAAC3Q,SAAT,CAAmBwC,EAAxD;AACA,YAAI4hB,OAAO,GAAG;AACZC,UAAAA,kBAAkB,EAAE,CAACF;AADT,SAAd;AAGA,eAAOvP,KAAK,CAAC6O,SAAN,CAAgBa,SAAhB,CAA0BF,OAA1B,CAAP;AACD,OARa,CAAd;;AAUA,UAAIvmB,MAAM,GAAG;AACX6M,QAAAA,SAAS,EAAEqD,KADA;AAEXnD,QAAAA,QAAQ,EAAEjS,YAAY,CAACiS,QAAD,CAFX;AAGXkB,QAAAA,QAAQ,EAAEJ;AAHC,OAAb;AAKAkY,MAAAA,OAAO,GAAGP,OAAO,EAAjB;AACAviB,MAAAA,MAAM,CAACwiB,SAAD,CAAN;AACAG,MAAAA,SAAS,CAACc,OAAV,CAAkB1mB,MAAlB;AACD,KAnC8B,CAA/B;AAoCD,GA3CD;;AA6CA,MAAIvB,GAAG,GAAG,SAASA,GAAT,CAAaiG,UAAb,EAAyB;AACjCqhB,IAAAA,OAAO,CAAClZ,SAAR,CAAkBnI,UAAU,CAACC,EAA7B,IAAmCD,UAAnC;AACAqhB,IAAAA,OAAO,CAAC9X,QAAR,CAAiBvJ,UAAU,CAACb,WAA5B,IAA2C,IAA3C;;AAEA,QAAIkiB,OAAO,CAAChZ,QAAR,CAAiBrI,UAAU,CAACC,EAA5B,CAAJ,EAAqC;AACnC,aAAOohB,OAAO,CAAChZ,QAAR,CAAiBrI,UAAU,CAACC,EAA5B,CAAP;AACD;;AAEDshB,IAAAA,OAAO;AACR,GATD;;AAWA,MAAIlb,MAAM,GAAG,SAASA,MAAT,CAAgBrG,UAAhB,EAA4B;AACvCqhB,IAAAA,OAAO,CAAChZ,QAAR,CAAiBrI,UAAU,CAACC,EAA5B,IAAkCD,UAAlC;AACAqhB,IAAAA,OAAO,CAAC9X,QAAR,CAAiBvJ,UAAU,CAACb,WAA5B,IAA2C,IAA3C;;AAEA,QAAIkiB,OAAO,CAAClZ,SAAR,CAAkBnI,UAAU,CAACC,EAA7B,CAAJ,EAAsC;AACpC,aAAOohB,OAAO,CAAClZ,SAAR,CAAkBnI,UAAU,CAACC,EAA7B,CAAP;AACD;;AAEDshB,IAAAA,OAAO;AACR,GATD;;AAWA,MAAIjB,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,QAAI,CAACgB,OAAL,EAAc;AACZ;AACD;;AAEDW,IAAAA,oBAAoB,CAACX,OAAD,CAApB;AACAA,IAAAA,OAAO,GAAG,IAAV;AACAD,IAAAA,OAAO,GAAGP,OAAO,EAAjB;AACD,GARD;;AAUA,SAAO;AACL/mB,IAAAA,GAAG,EAAEA,GADA;AAELsM,IAAAA,MAAM,EAAEA,MAFH;AAGLia,IAAAA,IAAI,EAAEA;AAHD,GAAP;AAKD,CAzGD;;AA2GA,IAAI4B,eAAe,GAAI,YAAY;AACjC,SAAO;AACLroB,IAAAA,CAAC,EAAEpC,MAAM,CAAC0qB,WADL;AAELroB,IAAAA,CAAC,EAAErC,MAAM,CAAC2qB;AAFL,GAAP;AAID,CALD;;AAOA,IAAIC,kBAAkB,GAAI,YAAY;AACpC,MAAIC,GAAG,GAAGC,QAAQ,CAACC,eAAnB;AACA,GAACF,GAAD,GAAO5rB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAAnH,GAA6H,KAAK,CAAlI;AACA,SAAOmtB,GAAP;AACD,CAJD;;AAMA,IAAIG,kBAAkB,GAAI,YAAY;AACpC,MAAIH,GAAG,GAAGD,kBAAkB,EAA5B;AACA,MAAIjY,SAAS,GAAGH,YAAY,CAAC;AAC3BC,IAAAA,YAAY,EAAEoY,GAAG,CAACpY,YADS;AAE3BC,IAAAA,WAAW,EAAEmY,GAAG,CAACnY,WAFU;AAG3BvO,IAAAA,KAAK,EAAE0mB,GAAG,CAACI,WAHgB;AAI3B7mB,IAAAA,MAAM,EAAEymB,GAAG,CAACK;AAJe,GAAD,CAA5B;AAMA,SAAOvY,SAAP;AACD,CATD;;AAWA,IAAIwY,WAAW,GAAI,YAAY;AAC7B,MAAIvmB,MAAM,GAAG6lB,eAAe,EAA5B;AACA,MAAI9X,SAAS,GAAGqY,kBAAkB,EAAlC;AACA,MAAIlnB,GAAG,GAAGc,MAAM,CAACvC,CAAjB;AACA,MAAI6B,IAAI,GAAGU,MAAM,CAACxC,CAAlB;AACA,MAAIyoB,GAAG,GAAGD,kBAAkB,EAA5B;AACA,MAAIzmB,KAAK,GAAG0mB,GAAG,CAACI,WAAhB;AACA,MAAI7mB,MAAM,GAAGymB,GAAG,CAACK,YAAjB;AACA,MAAIlnB,KAAK,GAAGE,IAAI,GAAGC,KAAnB;AACA,MAAIF,MAAM,GAAGH,GAAG,GAAGM,MAAnB;AACA,MAAIT,KAAK,GAAGzF,OAAO,CAAC;AAClB4F,IAAAA,GAAG,EAAEA,GADa;AAElBI,IAAAA,IAAI,EAAEA,IAFY;AAGlBF,IAAAA,KAAK,EAAEA,KAHW;AAIlBC,IAAAA,MAAM,EAAEA;AAJU,GAAD,CAAnB;AAMA,MAAImJ,QAAQ,GAAG;AACbzJ,IAAAA,KAAK,EAAEA,KADM;AAEbiB,IAAAA,MAAM,EAAE;AACNwB,MAAAA,OAAO,EAAExB,MADH;AAEN0B,MAAAA,OAAO,EAAE1B,MAFH;AAGNb,MAAAA,GAAG,EAAE4O,SAHC;AAIN9N,MAAAA,IAAI,EAAE;AACJtF,QAAAA,KAAK,EAAE4C,MADH;AAEJ2C,QAAAA,YAAY,EAAE3C;AAFV;AAJA;AAFK,GAAf;AAYA,SAAOiL,QAAP;AACD,CA7BD;;AA+BA,IAAIge,iBAAiB,GAAI,UAAUpoB,IAAV,EAAgB;AACvC,MAAI2T,QAAQ,GAAG3T,IAAI,CAAC2T,QAApB;AAAA,MACI2L,aAAa,GAAGtf,IAAI,CAACsf,aADzB;AAAA,MAEI+D,OAAO,GAAGrjB,IAAI,CAACqjB,OAFnB;AAGA,MAAIiD,SAAS,GAAG,6BAAhB;AACA5iB,EAAAA,KAAK,CAAC4iB,SAAD,CAAL;AACA,MAAIlc,QAAQ,GAAG+d,WAAW,EAA1B;AACA,MAAIE,YAAY,GAAGje,QAAQ,CAACxI,MAAT,CAAgB0B,OAAnC;AACA,MAAI8I,IAAI,GAAGuH,QAAQ,CAAC3Q,SAApB;AACA,MAAIqC,UAAU,GAAGT,MAAM,CAACye,OAAO,CAAChe,UAAT,CAAN,CAA2BiB,MAA3B,CAAkC,UAAUsR,KAAV,EAAiB;AAClE,WAAOA,KAAK,CAACrS,UAAN,CAAiB+U,IAAjB,KAA0BlO,IAAI,CAACkO,IAAtC;AACD,GAFgB,EAEd7Z,GAFc,CAEV,UAAUmX,KAAV,EAAiB;AACtB,WAAOA,KAAK,CAAC6O,SAAN,CAAgB6B,0BAAhB,CAA2CD,YAA3C,EAAyD/I,aAAzD,CAAP;AACD,GAJgB,CAAjB;AAKA,MAAI5Z,UAAU,GAAGd,MAAM,CAACye,OAAO,CAAC3d,UAAT,CAAN,CAA2BY,MAA3B,CAAkC,UAAUsR,KAAV,EAAiB;AAClE,WAAOA,KAAK,CAACrS,UAAN,CAAiB+U,IAAjB,KAA0B3G,QAAQ,CAACpN,SAAT,CAAmB+T,IAApD;AACD,GAFgB,EAEd7Z,GAFc,CAEV,UAAUmX,KAAV,EAAiB;AACtB,WAAOA,KAAK,CAACsP,YAAN,CAAmBmB,YAAnB,CAAP;AACD,GAJgB,CAAjB;AAKA,MAAI3U,UAAU,GAAG;AACfhO,IAAAA,UAAU,EAAED,cAAc,CAACC,UAAD,CADX;AAEfL,IAAAA,UAAU,EAAED,cAAc,CAACC,UAAD;AAFX,GAAjB;AAIAvB,EAAAA,MAAM,CAACwiB,SAAD,CAAN;AACA,MAAIzlB,MAAM,GAAG;AACX6S,IAAAA,UAAU,EAAEA,UADD;AAEXC,IAAAA,QAAQ,EAAEA,QAFC;AAGXvJ,IAAAA,QAAQ,EAAEA;AAHC,GAAb;AAKA,SAAOvJ,MAAP;AACD,CA9BD;;AAgCA,IAAI0nB,6BAA6B,GAAG,SAASA,6BAAT,CAAuCC,UAAvC,EAAmDjjB,UAAnD,EAA+D;AACjG,IAAEijB,UAAU,CAAC7U,QAAX,CAAoBpN,SAApB,CAA8B+T,IAA9B,KAAuC/U,UAAU,CAAC+U,IAApD,IAA4Dre,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sJAAsJ8tB,UAAU,CAAC7U,QAAX,CAAoBpN,SAApB,CAA8B+T,IAApL,GAA2L,uBAA3L,GAAqN/U,UAAU,CAAC+U,IAAhO,GAAuO,4KAA/O,CAAjD,GAAgd5f,SAAS,CAAC,KAAD,CAArhB,GAA+hB,KAAK,CAApiB;AACD,CAFD;;AAIA,IAAI+tB,sBAAsB,GAAI,UAAUhC,SAAV,EAAqB;AACjD,MAAIpD,OAAO,GAAG;AACZhe,IAAAA,UAAU,EAAE,EADA;AAEZK,IAAAA,UAAU,EAAE;AAFA,GAAd;AAIA,MAAI8iB,UAAU,GAAG,IAAjB;AACA,MAAIpD,SAAS,GAAGmB,eAAe,CAAC;AAC9BE,IAAAA,SAAS,EAAE;AACTc,MAAAA,OAAO,EAAEd,SAAS,CAACnT,oBADV;AAET2K,MAAAA,kBAAkB,EAAEwI,SAAS,CAACxI,kBAFrB;AAGT+I,MAAAA,WAAW,EAAE,SAASA,WAAT,GAAuB;AAClC,SAACwB,UAAD,GAAcvsB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iDAAR,CAAjD,GAA8GA,SAAS,CAAC,KAAD,CAArI,GAA+I,KAAK,CAApJ;AACA,eAAO8tB,UAAU,CAAC7U,QAAlB;AACD;AANQ,KADmB;AAS9B6S,IAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;AAChC,aAAOnD,OAAP;AACD;AAX6B,GAAD,CAA/B;;AAcA,MAAIqF,iBAAiB,GAAG,SAASA,iBAAT,CAA2BnjB,UAA3B,EAAuC2hB,YAAvC,EAAqD;AAC3E,QAAItP,KAAK,GAAG;AACVrS,MAAAA,UAAU,EAAEA,UADF;AAEV2hB,MAAAA,YAAY,EAAEA;AAFJ,KAAZ;AAIA7D,IAAAA,OAAO,CAAC3d,UAAR,CAAmBH,UAAU,CAACC,EAA9B,IAAoCoS,KAApC;;AAEA,QAAI,CAAC4Q,UAAL,EAAiB;AACf;AACD;;AAEDD,IAAAA,6BAA6B,CAACC,UAAD,EAAajjB,UAAb,CAA7B;AACA6f,IAAAA,SAAS,CAAC9lB,GAAV,CAAciG,UAAd;AACD,GAbD;;AAeA,MAAIojB,eAAe,GAAG,SAASA,eAAT,CAAyBlV,SAAzB,EAAoClO,UAApC,EAAgD2hB,YAAhD,EAA8D;AAClF,QAAI1Z,QAAQ,GAAG6V,OAAO,CAAC3d,UAAR,CAAmB+N,SAAS,CAACjO,EAA7B,CAAf;AACA,KAACgI,QAAD,GAAYvR,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6EAAR,CAAjD,GAA0IA,SAAS,CAAC,KAAD,CAA/J,GAAyK,KAAK,CAA9K;;AAEA,QAAI8S,QAAQ,CAACjI,UAAT,KAAwBkO,SAA5B,EAAuC;AACrC,aAAO4P,OAAO,CAAC3d,UAAR,CAAmB+N,SAAS,CAACjO,EAA7B,CAAP;AACD,KAFD,MAEO;AACLvJ,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,8EAA8E2W,SAAS,CAACjO,EAAxF,GAA6F,wWAA9F,CAA/C,GAAyf,KAAK,CAA9f;AACD;;AAED,QAAIoS,KAAK,GAAG;AACVrS,MAAAA,UAAU,EAAEA,UADF;AAEV2hB,MAAAA,YAAY,EAAEA;AAFJ,KAAZ;AAIA7D,IAAAA,OAAO,CAAC3d,UAAR,CAAmBH,UAAU,CAACC,EAA9B,IAAoCoS,KAApC;AACD,GAfD;;AAiBA,MAAIgR,mBAAmB,GAAG,SAASA,mBAAT,CAA6BrjB,UAA7B,EAAyC;AACjE,QAAIqS,KAAK,GAAGyL,OAAO,CAAC3d,UAAR,CAAmBH,UAAU,CAACC,EAA9B,CAAZ;AACA,KAACoS,KAAD,GAAS3b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iDAAiD6K,UAAU,CAACC,EAA5D,GAAiE,0BAAzE,CAAjD,GAAwJ9K,SAAS,CAAC,KAAD,CAA1K,GAAoL,KAAK,CAAzL;;AAEA,QAAIkd,KAAK,CAACrS,UAAN,KAAqBA,UAAzB,EAAqC;AACnC;AACD;;AAED,WAAO8d,OAAO,CAAC3d,UAAR,CAAmBH,UAAU,CAACC,EAA9B,CAAP;;AAEA,QAAI,CAACgjB,UAAL,EAAiB;AACf;AACD;;AAED,MAAEA,UAAU,CAAC7U,QAAX,CAAoBpN,SAApB,CAA8Bf,EAA9B,KAAqCD,UAAU,CAACC,EAAlD,IAAwDvJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAA7K,GAAuL,KAAK,CAA5L;AACA6tB,IAAAA,6BAA6B,CAACC,UAAD,EAAajjB,UAAb,CAA7B;AACA6f,IAAAA,SAAS,CAACxZ,MAAV,CAAiBrG,UAAjB;AACD,GAjBD;;AAmBA,MAAIsjB,iBAAiB,GAAG,SAASA,iBAAT,CAA2BtjB,UAA3B,EAAuCujB,kBAAvC,EAA2D;AACjF,QAAItjB,EAAE,GAAGD,UAAU,CAACC,EAApB;AACA6d,IAAAA,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,IAAyB;AACvBD,MAAAA,UAAU,EAAEA,UADW;AAEvBkhB,MAAAA,SAAS,EAAEqC;AAFY,KAAzB;AAIA,KAAC,CAACN,UAAF,GAAevsB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAA3H,GAAqI,KAAK,CAA1I;AACD,GAPD;;AASA,MAAIquB,mBAAmB,GAAG,SAASA,mBAAT,CAA6BxjB,UAA7B,EAAyC;AACjE,QAAIqS,KAAK,GAAGyL,OAAO,CAAChe,UAAR,CAAmBE,UAAU,CAACC,EAA9B,CAAZ;AACA,KAACoS,KAAD,GAAS3b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,yCAAyC6K,UAAU,CAACC,EAApD,GAAyD,6BAAjE,CAAjD,GAAmJ9K,SAAS,CAAC,KAAD,CAArK,GAA+K,KAAK,CAApL;;AAEA,QAAIkd,KAAK,CAACrS,UAAN,KAAqBA,UAAzB,EAAqC;AACnC;AACD;;AAED,WAAO8d,OAAO,CAAChe,UAAR,CAAmBE,UAAU,CAACC,EAA9B,CAAP;AACA,KAAC,CAACgjB,UAAF,GAAevsB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAA3H,GAAqI,KAAK,CAA1I;AACD,GAVD;;AAYA,MAAIyjB,wBAAwB,GAAG,SAASA,wBAAT,CAAkC3Y,EAAlC,EAAsChC,SAAtC,EAAiD;AAC9E,KAAC6f,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,CAAD,GAA0BvJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gDAAgD8K,EAAhD,GAAqD,0BAA7D,CAAjD,GAA4I9K,SAAS,CAAC,KAAD,CAA/K,GAAyL,KAAK,CAA9L;;AAEA,QAAI,CAAC8tB,UAAL,EAAiB;AACf;AACD;;AAED/B,IAAAA,SAAS,CAACtI,wBAAV,CAAmC;AACjC3Y,MAAAA,EAAE,EAAEA,EAD6B;AAEjChC,MAAAA,SAAS,EAAEA;AAFsB,KAAnC;AAID,GAXD;;AAaA,MAAI4a,+BAA+B,GAAG,SAASA,+BAAT,CAAyC5Y,EAAzC,EAA6CwD,gBAA7C,EAA+D;AACnG,KAACqa,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,CAAD,GAA0BvJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sDAAsD8K,EAAtD,GAA2D,0BAAnE,CAAjD,GAAkJ9K,SAAS,CAAC,KAAD,CAArL,GAA+L,KAAK,CAApM;;AAEA,QAAI,CAAC8tB,UAAL,EAAiB;AACf;AACD;;AAED/B,IAAAA,SAAS,CAACrI,+BAAV,CAA0C;AACxC5Y,MAAAA,EAAE,EAAEA,EADoC;AAExCwD,MAAAA,gBAAgB,EAAEA;AAFsB,KAA1C;AAID,GAXD;;AAaA,MAAIkV,qBAAqB,GAAG,SAASA,qBAAT,CAA+B1Y,EAA/B,EAAmCvC,SAAnC,EAA8C;AACxE,KAACogB,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,CAAD,GAA0BvJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2CAA2C8K,EAA3C,GAAgD,0BAAxD,CAAjD,GAAuI9K,SAAS,CAAC,KAAD,CAA1K,GAAoL,KAAK,CAAzL;;AAEA,QAAI,CAAC8tB,UAAL,EAAiB;AACf;AACD;;AAED/B,IAAAA,SAAS,CAACvI,qBAAV,CAAgC;AAC9B1Y,MAAAA,EAAE,EAAEA,EAD0B;AAE9BpK,MAAAA,MAAM,EAAE6H;AAFsB,KAAhC;AAID,GAXD;;AAaA,MAAIF,eAAe,GAAG,SAASA,eAAT,CAAyByC,EAAzB,EAA6BwjB,MAA7B,EAAqC;AACzD,QAAIpR,KAAK,GAAGyL,OAAO,CAAChe,UAAR,CAAmBG,EAAnB,CAAZ;AACA,KAACoS,KAAD,GAAS3b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6BAA6B8K,EAA7B,GAAkC,0BAA1C,CAAjD,GAAyH9K,SAAS,CAAC,KAAD,CAA3I,GAAqJ,KAAK,CAA1J;;AAEA,QAAI,CAAC8tB,UAAL,EAAiB;AACf;AACD;;AAED5Q,IAAAA,KAAK,CAAC6O,SAAN,CAAgB7kB,MAAhB,CAAuBonB,MAAvB;AACD,GATD;;AAWA,MAAIxD,cAAc,GAAG,SAASA,cAAT,GAA0B;AAC7C,QAAI,CAACgD,UAAL,EAAiB;AACf;AACD;;AAEDpD,IAAAA,SAAS,CAACS,IAAV;AACA,QAAIzZ,IAAI,GAAGoc,UAAU,CAAC7U,QAAX,CAAoB3Q,SAA/B;AACA4B,IAAAA,MAAM,CAACye,OAAO,CAAChe,UAAT,CAAN,CAA2BiB,MAA3B,CAAkC,UAAUsR,KAAV,EAAiB;AACjD,aAAOA,KAAK,CAACrS,UAAN,CAAiB+U,IAAjB,KAA0BlO,IAAI,CAACkO,IAAtC;AACD,KAFD,EAEGxM,OAFH,CAEW,UAAU8J,KAAV,EAAiB;AAC1B,aAAOA,KAAK,CAAC6O,SAAN,CAAgBwC,WAAhB,EAAP;AACD,KAJD;AAKAT,IAAAA,UAAU,GAAG,IAAb;AACD,GAbD;;AAeA,MAAI9I,eAAe,GAAG,SAASA,eAAT,CAAyBF,OAAzB,EAAkC;AACtD,KAAC,CAACgJ,UAAF,GAAevsB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6EAAR,CAAjD,GAA0IA,SAAS,CAAC,KAAD,CAAlK,GAA4K,KAAK,CAAjL;AACA,QAAIkd,KAAK,GAAGyL,OAAO,CAAC3d,UAAR,CAAmB8Z,OAAO,CAAClY,WAA3B,CAAZ;AACA,KAACsQ,KAAD,GAAS3b,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAArH,GAA+H,KAAK,CAApI;AACA,QAAI0R,IAAI,GAAGiX,OAAO,CAAChe,UAAR,CAAmBuS,KAAK,CAACrS,UAAN,CAAiBb,WAApC,CAAX;AACA,KAAC0H,IAAD,GAAQnQ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAApH,GAA8H,KAAK,CAAnI;AACA,QAAIiZ,QAAQ,GAAG;AACbpN,MAAAA,SAAS,EAAEqR,KAAK,CAACrS,UADJ;AAEbvC,MAAAA,SAAS,EAAEoJ,IAAI,CAAC7G;AAFH,KAAf;AAIAijB,IAAAA,UAAU,GAAG;AACX7U,MAAAA,QAAQ,EAAEA;AADC,KAAb;AAGA,WAAOyU,iBAAiB,CAAC;AACvBzU,MAAAA,QAAQ,EAAEA,QADa;AAEvB0P,MAAAA,OAAO,EAAEA,OAFc;AAGvB/D,MAAAA,aAAa,EAAEE,OAAO,CAACF;AAHA,KAAD,CAAxB;AAKD,GAlBD;;AAoBA,MAAIJ,OAAO,GAAG;AACZwJ,IAAAA,iBAAiB,EAAEA,iBADP;AAEZC,IAAAA,eAAe,EAAEA,eAFL;AAGZC,IAAAA,mBAAmB,EAAEA,mBAHT;AAIZC,IAAAA,iBAAiB,EAAEA,iBAJP;AAKZE,IAAAA,mBAAmB,EAAEA,mBALT;AAMZ5K,IAAAA,wBAAwB,EAAEA,wBANd;AAOZC,IAAAA,+BAA+B,EAAEA,+BAPrB;AAQZrb,IAAAA,eAAe,EAAEA,eARL;AASZmb,IAAAA,qBAAqB,EAAEA,qBATX;AAUZwB,IAAAA,eAAe,EAAEA,eAVL;AAWZ8F,IAAAA,cAAc,EAAEA;AAXJ,GAAd;AAaA,SAAOtG,OAAP;AACD,CA/LD;;AAiMA,IAAIgK,YAAY,GAAI,UAAU1V,KAAV,EAAiBhO,EAAjB,EAAqB;AACvC,MAAIgO,KAAK,CAACW,KAAN,KAAgB,MAApB,EAA4B;AAC1B,WAAO,IAAP;AACD;;AAED,MAAIX,KAAK,CAACW,KAAN,KAAgB,gBAApB,EAAsC;AACpC,WAAO,KAAP;AACD;;AAED,MAAIX,KAAK,CAACyI,SAAN,CAAgBpb,MAAhB,CAAuByG,WAAvB,KAAuC9B,EAA3C,EAA+C;AAC7C,WAAO,KAAP;AACD;;AAED,SAAOgO,KAAK,CAACyI,SAAN,CAAgBpb,MAAhB,CAAuByT,MAAvB,KAAkC,MAAzC;AACD,CAdD;;AAgBA,IAAI6U,YAAY,GAAI,UAAUH,MAAV,EAAkB;AACpChsB,EAAAA,MAAM,CAACosB,QAAP,CAAgBJ,MAAM,CAAC5pB,CAAvB,EAA0B4pB,MAAM,CAAC3pB,CAAjC;AACD,CAFD;;AAIA,IAAIgqB,uBAAuB,GAAG5tB,UAAU,CAAC,UAAU4J,UAAV,EAAsB;AAC7D,SAAOM,eAAe,CAACN,UAAD,CAAf,CAA4BiB,MAA5B,CAAmC,UAAUtD,SAAV,EAAqB;AAC7D,QAAI,CAACA,SAAS,CAACQ,SAAf,EAA0B;AACxB,aAAO,KAAP;AACD;;AAED,QAAI,CAACR,SAAS,CAACrC,KAAf,EAAsB;AACpB,aAAO,KAAP;AACD;;AAED,WAAO,IAAP;AACD,GAVM,CAAP;AAWD,CAZuC,CAAxC;;AAcA,IAAI2oB,0BAA0B,GAAG,SAASA,0BAAT,CAAoChpB,MAApC,EAA4C+E,UAA5C,EAAwD;AACvF,MAAIe,KAAK,GAAGnB,IAAI,CAACokB,uBAAuB,CAAChkB,UAAD,CAAxB,EAAsC,UAAUrC,SAAV,EAAqB;AACzE,KAACA,SAAS,CAACrC,KAAX,GAAmB1E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gBAAR,CAAjD,GAA6EA,SAAS,CAAC,KAAD,CAAzG,GAAmH,KAAK,CAAxH;AACA,WAAOsL,iBAAiB,CAAChD,SAAS,CAACrC,KAAV,CAAgB4B,aAAjB,CAAjB,CAAiDjC,MAAjD,CAAP;AACD,GAHe,CAAhB;AAIA,SAAO8F,KAAP;AACD,CAND;;AAQA,IAAImjB,0BAA0B,GAAI,UAAUvpB,IAAV,EAAgB;AAChD,MAAI6T,MAAM,GAAG7T,IAAI,CAAC6T,MAAlB;AAAA,MACIpP,WAAW,GAAGzE,IAAI,CAACyE,WADvB;AAAA,MAEIY,UAAU,GAAGrF,IAAI,CAACqF,UAFtB;;AAIA,MAAIZ,WAAJ,EAAiB;AACf,QAAI+kB,UAAU,GAAGnkB,UAAU,CAACZ,WAAD,CAA3B;;AAEA,QAAI,CAAC+kB,UAAU,CAAC7oB,KAAhB,EAAuB;AACrB,aAAO,IAAP;AACD;;AAED,WAAO6oB,UAAP;AACD;;AAED,MAAIle,SAAS,GAAGge,0BAA0B,CAACzV,MAAD,EAASxO,UAAT,CAA1C;AACA,SAAOiG,SAAP;AACD,CAjBD;;AAmBA,IAAIme,MAAM,GAAG;AACXC,EAAAA,mBAAmB,EAAE,IADV;AAEXC,EAAAA,qBAAqB,EAAE,IAFZ;AAGXC,EAAAA,cAAc,EAAE,EAHL;AAIXC,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAczI,UAAd,EAA0B;AAC9B,WAAOlhB,IAAI,CAACE,GAAL,CAASghB,UAAT,EAAqB,CAArB,CAAP;AACD,GANU;AAOX0I,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,eAAe,EAAE,IADA;AAEjBC,IAAAA,YAAY,EAAE;AAFG;AAPR,CAAb;;AAaA,IAAIC,qBAAqB,GAAI,UAAUC,SAAV,EAAqBloB,IAArB,EAA2B;AACtD,MAAImoB,kBAAkB,GAAGD,SAAS,CAACloB,IAAI,CAAC+E,IAAN,CAAT,GAAuB0iB,MAAM,CAACC,mBAAvD;AACA,MAAIU,gBAAgB,GAAGF,SAAS,CAACloB,IAAI,CAAC+E,IAAN,CAAT,GAAuB0iB,MAAM,CAACE,qBAArD;AACA,MAAIU,UAAU,GAAG;AACfF,IAAAA,kBAAkB,EAAEA,kBADL;AAEfC,IAAAA,gBAAgB,EAAEA;AAFH,GAAjB;AAIA,SAAOC,UAAP;AACD,CARD;;AAUA,IAAIC,aAAa,GAAI,UAAUtqB,IAAV,EAAgB;AACnC,MAAIuqB,YAAY,GAAGvqB,IAAI,CAACuqB,YAAxB;AAAA,MACIC,UAAU,GAAGxqB,IAAI,CAACwqB,UADtB;AAAA,MAEIlnB,OAAO,GAAGtD,IAAI,CAACsD,OAFnB;AAGA,MAAImnB,KAAK,GAAGD,UAAU,GAAGD,YAAzB;;AAEA,MAAIE,KAAK,KAAK,CAAd,EAAiB;AACfxuB,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,yKAAD,CAA/C,GAA6N,KAAK,CAAlO;AACA,WAAO,CAAP;AACD;;AAED,MAAI4tB,cAAc,GAAGpnB,OAAO,GAAGinB,YAA/B;AACA,MAAInJ,UAAU,GAAGsJ,cAAc,GAAGD,KAAlC;AACA,SAAOrJ,UAAP;AACD,CAdD;;AAgBA,IAAIuJ,SAAS,GAAG,CAAhB;;AAEA,IAAIC,oBAAoB,GAAI,UAAUC,cAAV,EAA0BR,UAA1B,EAAsC;AAChE,MAAIQ,cAAc,GAAGR,UAAU,CAACF,kBAAhC,EAAoD;AAClD,WAAO,CAAP;AACD;;AAED,MAAIU,cAAc,IAAIR,UAAU,CAACD,gBAAjC,EAAmD;AACjD,WAAOX,MAAM,CAACG,cAAd;AACD;;AAED,MAAIiB,cAAc,KAAKR,UAAU,CAACF,kBAAlC,EAAsD;AACpD,WAAOQ,SAAP;AACD;;AAED,MAAIG,8BAA8B,GAAGR,aAAa,CAAC;AACjDC,IAAAA,YAAY,EAAEF,UAAU,CAACD,gBADwB;AAEjDI,IAAAA,UAAU,EAAEH,UAAU,CAACF,kBAF0B;AAGjD7mB,IAAAA,OAAO,EAAEunB;AAHwC,GAAD,CAAlD;AAKA,MAAIE,gCAAgC,GAAG,IAAID,8BAA3C;AACA,MAAIlpB,MAAM,GAAG6nB,MAAM,CAACG,cAAP,GAAwBH,MAAM,CAACI,IAAP,CAAYkB,gCAAZ,CAArC;AACA,SAAO7qB,IAAI,CAAC8qB,IAAL,CAAUppB,MAAV,CAAP;AACD,CArBD;;AAuBA,IAAIooB,YAAY,GAAGP,MAAM,CAACK,iBAAP,CAAyBE,YAA5C;AACA,IAAIiB,MAAM,GAAGxB,MAAM,CAACK,iBAAP,CAAyBC,eAAtC;;AACA,IAAImB,iBAAiB,GAAI,UAAUC,cAAV,EAA0BC,aAA1B,EAAyC;AAChE,MAAIb,YAAY,GAAGa,aAAnB;AACA,MAAIZ,UAAU,GAAGS,MAAjB;;AAEA,MAAIrnB,GAAG,GAAGhI,SAAS,EAAnB;;AAEA,MAAIyvB,OAAO,GAAGznB,GAAG,GAAG2mB,YAApB;;AAEA,MAAIc,OAAO,IAAIJ,MAAf,EAAuB;AACrB,WAAOE,cAAP;AACD;;AAED,MAAIE,OAAO,GAAGrB,YAAd,EAA4B;AAC1B,WAAOW,SAAP;AACD;;AAED,MAAIW,sCAAsC,GAAGhB,aAAa,CAAC;AACzDC,IAAAA,YAAY,EAAEP,YAD2C;AAEzDQ,IAAAA,UAAU,EAAEA,UAF6C;AAGzDlnB,IAAAA,OAAO,EAAE+nB;AAHgD,GAAD,CAA1D;AAKA,MAAIzpB,MAAM,GAAGupB,cAAc,GAAG1B,MAAM,CAACI,IAAP,CAAYyB,sCAAZ,CAA9B;AACA,SAAOprB,IAAI,CAAC8qB,IAAL,CAAUppB,MAAV,CAAP;AACD,CAvBD;;AAyBA,IAAI2pB,QAAQ,GAAI,UAAUvrB,IAAV,EAAgB;AAC9B,MAAI6qB,cAAc,GAAG7qB,IAAI,CAAC6qB,cAA1B;AAAA,MACIR,UAAU,GAAGrqB,IAAI,CAACqqB,UADtB;AAAA,MAEIe,aAAa,GAAGprB,IAAI,CAACorB,aAFzB;AAAA,MAGII,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAHlC;AAIA,MAAI5pB,MAAM,GAAGgpB,oBAAoB,CAACC,cAAD,EAAiBR,UAAjB,CAAjC;;AAEA,MAAIzoB,MAAM,KAAK,CAAf,EAAkB;AAChB,WAAO,CAAP;AACD;;AAED,MAAI,CAAC4pB,sBAAL,EAA6B;AAC3B,WAAO5pB,MAAP;AACD;;AAED,SAAO1B,IAAI,CAACa,GAAL,CAASmqB,iBAAiB,CAACtpB,MAAD,EAASwpB,aAAT,CAA1B,EAAmDT,SAAnD,CAAP;AACD,CAhBD;;AAkBA,IAAIc,eAAe,GAAI,UAAUzrB,IAAV,EAAgB;AACrC,MAAIkqB,SAAS,GAAGlqB,IAAI,CAACkqB,SAArB;AAAA,MACIwB,eAAe,GAAG1rB,IAAI,CAAC0rB,eAD3B;AAAA,MAEIN,aAAa,GAAGprB,IAAI,CAACorB,aAFzB;AAAA,MAGIppB,IAAI,GAAGhC,IAAI,CAACgC,IAHhB;AAAA,MAIIwpB,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAJlC;AAKA,MAAInB,UAAU,GAAGJ,qBAAqB,CAACC,SAAD,EAAYloB,IAAZ,CAAtC;AACA,MAAI2pB,aAAa,GAAGD,eAAe,CAAC1pB,IAAI,CAACI,GAAN,CAAf,GAA4BspB,eAAe,CAAC1pB,IAAI,CAAC0B,KAAN,CAA/D;;AAEA,MAAIioB,aAAJ,EAAmB;AACjB,WAAOJ,QAAQ,CAAC;AACdV,MAAAA,cAAc,EAAEa,eAAe,CAAC1pB,IAAI,CAACI,GAAN,CADjB;AAEdioB,MAAAA,UAAU,EAAEA,UAFE;AAGde,MAAAA,aAAa,EAAEA,aAHD;AAIdI,MAAAA,sBAAsB,EAAEA;AAJV,KAAD,CAAf;AAMD;;AAED,SAAO,CAAC,CAAD,GAAKD,QAAQ,CAAC;AACnBV,IAAAA,cAAc,EAAEa,eAAe,CAAC1pB,IAAI,CAAC0B,KAAN,CADZ;AAEnB2mB,IAAAA,UAAU,EAAEA,UAFO;AAGnBe,IAAAA,aAAa,EAAEA,aAHI;AAInBI,IAAAA,sBAAsB,EAAEA;AAJL,GAAD,CAApB;AAMD,CAxBD;;AA0BA,IAAII,mBAAmB,GAAI,UAAU5rB,IAAV,EAAgB;AACzC,MAAIkqB,SAAS,GAAGlqB,IAAI,CAACkqB,SAArB;AAAA,MACItpB,OAAO,GAAGZ,IAAI,CAACY,OADnB;AAAA,MAEIuqB,cAAc,GAAGnrB,IAAI,CAACmrB,cAF1B;AAGA,MAAIU,kBAAkB,GAAGjrB,OAAO,CAACQ,MAAR,GAAiB8oB,SAAS,CAAC9oB,MAApD;AACA,MAAI0qB,oBAAoB,GAAGlrB,OAAO,CAACO,KAAR,GAAgB+oB,SAAS,CAAC/oB,KAArD;;AAEA,MAAI,CAAC2qB,oBAAD,IAAyB,CAACD,kBAA9B,EAAkD;AAChD,WAAOV,cAAP;AACD;;AAED,MAAIW,oBAAoB,IAAID,kBAA5B,EAAgD;AAC9C,WAAO,IAAP;AACD;;AAED,SAAO;AACLzsB,IAAAA,CAAC,EAAE0sB,oBAAoB,GAAG,CAAH,GAAOX,cAAc,CAAC/rB,CADxC;AAELC,IAAAA,CAAC,EAAEwsB,kBAAkB,GAAG,CAAH,GAAOV,cAAc,CAAC9rB;AAFtC,GAAP;AAID,CAnBD;;AAqBA,IAAI0sB,OAAO,GAAG5uB,KAAK,CAAC,UAAUZ,KAAV,EAAiB;AACnC,SAAOA,KAAK,KAAK,CAAV,GAAc,CAAd,GAAkBA,KAAzB;AACD,CAFkB,CAAnB;;AAGA,IAAIyvB,SAAS,GAAI,UAAUhsB,IAAV,EAAgB;AAC/B,MAAIorB,aAAa,GAAGprB,IAAI,CAACorB,aAAzB;AAAA,MACIlB,SAAS,GAAGlqB,IAAI,CAACkqB,SADrB;AAAA,MAEItpB,OAAO,GAAGZ,IAAI,CAACY,OAFnB;AAAA,MAGIiT,MAAM,GAAG7T,IAAI,CAAC6T,MAHlB;AAAA,MAII2X,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAJlC;AAKA,MAAIE,eAAe,GAAG;AACpB5qB,IAAAA,GAAG,EAAE+S,MAAM,CAACxU,CAAP,GAAW6qB,SAAS,CAACppB,GADN;AAEpBE,IAAAA,KAAK,EAAEkpB,SAAS,CAAClpB,KAAV,GAAkB6S,MAAM,CAACzU,CAFZ;AAGpB6B,IAAAA,MAAM,EAAEipB,SAAS,CAACjpB,MAAV,GAAmB4S,MAAM,CAACxU,CAHd;AAIpB6B,IAAAA,IAAI,EAAE2S,MAAM,CAACzU,CAAP,GAAW8qB,SAAS,CAAChpB;AAJP,GAAtB;AAMA,MAAI7B,CAAC,GAAGosB,eAAe,CAAC;AACtBvB,IAAAA,SAAS,EAAEA,SADW;AAEtBwB,IAAAA,eAAe,EAAEA,eAFK;AAGtBN,IAAAA,aAAa,EAAEA,aAHO;AAItBppB,IAAAA,IAAI,EAAE4E,QAJgB;AAKtB4kB,IAAAA,sBAAsB,EAAEA;AALF,GAAD,CAAvB;AAOA,MAAIpsB,CAAC,GAAGqsB,eAAe,CAAC;AACtBvB,IAAAA,SAAS,EAAEA,SADW;AAEtBwB,IAAAA,eAAe,EAAEA,eAFK;AAGtBN,IAAAA,aAAa,EAAEA,aAHO;AAItBppB,IAAAA,IAAI,EAAEmF,UAJgB;AAKtBqkB,IAAAA,sBAAsB,EAAEA;AALF,GAAD,CAAvB;AAOA,MAAIS,QAAQ,GAAGF,OAAO,CAAC;AACrB3sB,IAAAA,CAAC,EAAEA,CADkB;AAErBC,IAAAA,CAAC,EAAEA;AAFkB,GAAD,CAAtB;;AAKA,MAAIK,OAAO,CAACusB,QAAD,EAAW9sB,MAAX,CAAX,EAA+B;AAC7B,WAAO,IAAP;AACD;;AAED,MAAI+sB,OAAO,GAAGN,mBAAmB,CAAC;AAChC1B,IAAAA,SAAS,EAAEA,SADqB;AAEhCtpB,IAAAA,OAAO,EAAEA,OAFuB;AAGhCuqB,IAAAA,cAAc,EAAEc;AAHgB,GAAD,CAAjC;;AAMA,MAAI,CAACC,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;;AAED,SAAOxsB,OAAO,CAACwsB,OAAD,EAAU/sB,MAAV,CAAP,GAA2B,IAA3B,GAAkC+sB,OAAzC;AACD,CA9CD;;AAgDA,IAAIC,cAAc,GAAGhvB,KAAK,CAAC,UAAUZ,KAAV,EAAiB;AAC1C,MAAIA,KAAK,KAAK,CAAd,EAAiB;AACf,WAAO,CAAP;AACD;;AAED,SAAOA,KAAK,GAAG,CAAR,GAAY,CAAZ,GAAgB,CAAC,CAAxB;AACD,CANyB,CAA1B;;AAOA,IAAI6vB,UAAU,GAAG,YAAY;AAC3B,MAAIC,YAAY,GAAG,SAASA,YAAT,CAAsB/rB,MAAtB,EAA8BS,GAA9B,EAAmC;AACpD,QAAIT,MAAM,GAAG,CAAb,EAAgB;AACd,aAAOA,MAAP;AACD;;AAED,QAAIA,MAAM,GAAGS,GAAb,EAAkB;AAChB,aAAOT,MAAM,GAAGS,GAAhB;AACD;;AAED,WAAO,CAAP;AACD,GAVD;;AAYA,SAAO,UAAUf,IAAV,EAAgB;AACrB,QAAIsD,OAAO,GAAGtD,IAAI,CAACsD,OAAnB;AAAA,QACIvC,GAAG,GAAGf,IAAI,CAACe,GADf;AAAA,QAEIioB,MAAM,GAAGhpB,IAAI,CAACgpB,MAFlB;AAGA,QAAIsD,YAAY,GAAGhtB,GAAG,CAACgE,OAAD,EAAU0lB,MAAV,CAAtB;AACA,QAAIuD,OAAO,GAAG;AACZntB,MAAAA,CAAC,EAAEitB,YAAY,CAACC,YAAY,CAACltB,CAAd,EAAiB2B,GAAG,CAAC3B,CAArB,CADH;AAEZC,MAAAA,CAAC,EAAEgtB,YAAY,CAACC,YAAY,CAACjtB,CAAd,EAAiB0B,GAAG,CAAC1B,CAArB;AAFH,KAAd;;AAKA,QAAIK,OAAO,CAAC6sB,OAAD,EAAUptB,MAAV,CAAX,EAA8B;AAC5B,aAAO,IAAP;AACD;;AAED,WAAOotB,OAAP;AACD,GAfD;AAgBD,CA7BgB,EAAjB;;AA8BA,IAAIC,kBAAkB,GAAG,SAASA,kBAAT,CAA4B7jB,KAA5B,EAAmC;AAC1D,MAAI8jB,MAAM,GAAG9jB,KAAK,CAAC5H,GAAnB;AAAA,MACIuC,OAAO,GAAGqF,KAAK,CAACrF,OADpB;AAAA,MAEI0lB,MAAM,GAAGrgB,KAAK,CAACqgB,MAFnB;AAGA,MAAIjoB,GAAG,GAAG;AACR3B,IAAAA,CAAC,EAAEc,IAAI,CAACa,GAAL,CAASuC,OAAO,CAAClE,CAAjB,EAAoBqtB,MAAM,CAACrtB,CAA3B,CADK;AAERC,IAAAA,CAAC,EAAEa,IAAI,CAACa,GAAL,CAASuC,OAAO,CAACjE,CAAjB,EAAoBotB,MAAM,CAACptB,CAA3B;AAFK,GAAV;AAIA,MAAIqtB,cAAc,GAAGP,cAAc,CAACnD,MAAD,CAAnC;AACA,MAAIuD,OAAO,GAAGH,UAAU,CAAC;AACvBrrB,IAAAA,GAAG,EAAEA,GADkB;AAEvBuC,IAAAA,OAAO,EAAEA,OAFc;AAGvB0lB,IAAAA,MAAM,EAAE0D;AAHe,GAAD,CAAxB;;AAMA,MAAI,CAACH,OAAL,EAAc;AACZ,WAAO,IAAP;AACD;;AAED,MAAIG,cAAc,CAACttB,CAAf,KAAqB,CAArB,IAA0BmtB,OAAO,CAACntB,CAAR,KAAc,CAA5C,EAA+C;AAC7C,WAAO,IAAP;AACD;;AAED,MAAIstB,cAAc,CAACrtB,CAAf,KAAqB,CAArB,IAA0BktB,OAAO,CAACltB,CAAR,KAAc,CAA5C,EAA+C;AAC7C,WAAO,IAAP;AACD;;AAED,SAAO,KAAP;AACD,CA5BD;;AA6BA,IAAIstB,eAAe,GAAG,SAASA,eAAT,CAAyBviB,QAAzB,EAAmC4e,MAAnC,EAA2C;AAC/D,SAAOwD,kBAAkB,CAAC;AACxBlpB,IAAAA,OAAO,EAAE8G,QAAQ,CAACxI,MAAT,CAAgB0B,OADD;AAExBvC,IAAAA,GAAG,EAAEqJ,QAAQ,CAACxI,MAAT,CAAgBb,GAFG;AAGxBioB,IAAAA,MAAM,EAAEA;AAHgB,GAAD,CAAzB;AAKD,CAND;;AAOA,IAAI4D,gBAAgB,GAAG,SAASA,gBAAT,CAA0BxiB,QAA1B,EAAoC4e,MAApC,EAA4C;AACjE,MAAI,CAAC2D,eAAe,CAACviB,QAAD,EAAW4e,MAAX,CAApB,EAAwC;AACtC,WAAO,IAAP;AACD;;AAED,MAAIjoB,GAAG,GAAGqJ,QAAQ,CAACxI,MAAT,CAAgBb,GAA1B;AACA,MAAIuC,OAAO,GAAG8G,QAAQ,CAACxI,MAAT,CAAgB0B,OAA9B;AACA,SAAO8oB,UAAU,CAAC;AAChB9oB,IAAAA,OAAO,EAAEA,OADO;AAEhBvC,IAAAA,GAAG,EAAEA,GAFW;AAGhBioB,IAAAA,MAAM,EAAEA;AAHQ,GAAD,CAAjB;AAKD,CAZD;;AAaA,IAAI6D,kBAAkB,GAAG,SAASA,kBAAT,CAA4B7pB,SAA5B,EAAuCgmB,MAAvC,EAA+C;AACtE,MAAIroB,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,KAAP;AACD;;AAED,SAAO6rB,kBAAkB,CAAC;AACxBlpB,IAAAA,OAAO,EAAE3C,KAAK,CAACiB,MAAN,CAAa0B,OADE;AAExBvC,IAAAA,GAAG,EAAEJ,KAAK,CAACiB,MAAN,CAAab,GAFM;AAGxBioB,IAAAA,MAAM,EAAEA;AAHgB,GAAD,CAAzB;AAKD,CAZD;;AAaA,IAAI8D,mBAAmB,GAAG,SAASA,mBAAT,CAA6B9pB,SAA7B,EAAwCgmB,MAAxC,EAAgD;AACxE,MAAIroB,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAI,CAACksB,kBAAkB,CAAC7pB,SAAD,EAAYgmB,MAAZ,CAAvB,EAA4C;AAC1C,WAAO,IAAP;AACD;;AAED,SAAOoD,UAAU,CAAC;AAChB9oB,IAAAA,OAAO,EAAE3C,KAAK,CAACiB,MAAN,CAAa0B,OADN;AAEhBvC,IAAAA,GAAG,EAAEJ,KAAK,CAACiB,MAAN,CAAab,GAFF;AAGhBioB,IAAAA,MAAM,EAAEA;AAHQ,GAAD,CAAjB;AAKD,CAhBD;;AAkBA,IAAI+D,qBAAqB,GAAI,UAAU/sB,IAAV,EAAgB;AAC3C,MAAIoK,QAAQ,GAAGpK,IAAI,CAACoK,QAApB;AAAA,MACIxJ,OAAO,GAAGZ,IAAI,CAACY,OADnB;AAAA,MAEIiT,MAAM,GAAG7T,IAAI,CAAC6T,MAFlB;AAAA,MAGIuX,aAAa,GAAGprB,IAAI,CAACorB,aAHzB;AAAA,MAIII,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAJlC;AAKA,MAAI5pB,MAAM,GAAGoqB,SAAS,CAAC;AACrBZ,IAAAA,aAAa,EAAEA,aADM;AAErBlB,IAAAA,SAAS,EAAE9f,QAAQ,CAACzJ,KAFC;AAGrBC,IAAAA,OAAO,EAAEA,OAHY;AAIrBiT,IAAAA,MAAM,EAAEA,MAJa;AAKrB2X,IAAAA,sBAAsB,EAAEA;AALH,GAAD,CAAtB;AAOA,SAAO5pB,MAAM,IAAI+qB,eAAe,CAACviB,QAAD,EAAWxI,MAAX,CAAzB,GAA8CA,MAA9C,GAAuD,IAA9D;AACD,CAdD;;AAgBA,IAAIorB,wBAAwB,GAAI,UAAUhtB,IAAV,EAAgB;AAC9C,MAAIgD,SAAS,GAAGhD,IAAI,CAACgD,SAArB;AAAA,MACIpC,OAAO,GAAGZ,IAAI,CAACY,OADnB;AAAA,MAEIiT,MAAM,GAAG7T,IAAI,CAAC6T,MAFlB;AAAA,MAGIuX,aAAa,GAAGprB,IAAI,CAACorB,aAHzB;AAAA,MAIII,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAJlC;AAKA,MAAI7qB,KAAK,GAAGqC,SAAS,CAACrC,KAAtB;;AAEA,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAIiB,MAAM,GAAGoqB,SAAS,CAAC;AACrBZ,IAAAA,aAAa,EAAEA,aADM;AAErBlB,IAAAA,SAAS,EAAEvpB,KAAK,CAAC4B,aAFI;AAGrB3B,IAAAA,OAAO,EAAEA,OAHY;AAIrBiT,IAAAA,MAAM,EAAEA,MAJa;AAKrB2X,IAAAA,sBAAsB,EAAEA;AALH,GAAD,CAAtB;AAOA,SAAO5pB,MAAM,IAAIirB,kBAAkB,CAAC7pB,SAAD,EAAYpB,MAAZ,CAA5B,GAAkDA,MAAlD,GAA2D,IAAlE;AACD,CApBD;;AAsBA,IAAIqrB,QAAQ,GAAI,UAAUjtB,IAAV,EAAgB;AAC9B,MAAIwT,KAAK,GAAGxT,IAAI,CAACwT,KAAjB;AAAA,MACI4X,aAAa,GAAGprB,IAAI,CAACorB,aADzB;AAAA,MAEII,sBAAsB,GAAGxrB,IAAI,CAACwrB,sBAFlC;AAAA,MAGIrC,YAAY,GAAGnpB,IAAI,CAACmpB,YAHxB;AAAA,MAIIpmB,eAAe,GAAG/C,IAAI,CAAC+C,eAJ3B;AAKA,MAAI8Q,MAAM,GAAGL,KAAK,CAAClQ,OAAN,CAAcb,IAAd,CAAmBuK,eAAhC;AACA,MAAIzG,SAAS,GAAGiN,KAAK,CAACE,UAAN,CAAiBhO,UAAjB,CAA4B8N,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAArD,CAAhB;AACA,MAAI5E,OAAO,GAAG2F,SAAS,CAAC9D,IAAV,CAAeE,SAA7B;;AAEA,MAAI6Q,KAAK,CAAC+I,qBAAV,EAAiC;AAC/B,QAAInS,QAAQ,GAAGoJ,KAAK,CAACpJ,QAArB;;AAEA,QAAI8iB,OAAO,GAAGH,qBAAqB,CAAC;AAClC3B,MAAAA,aAAa,EAAEA,aADmB;AAElChhB,MAAAA,QAAQ,EAAEA,QAFwB;AAGlCxJ,MAAAA,OAAO,EAAEA,OAHyB;AAIlCiT,MAAAA,MAAM,EAAEA,MAJ0B;AAKlC2X,MAAAA,sBAAsB,EAAEA;AALU,KAAD,CAAnC;;AAQA,QAAI0B,OAAJ,EAAa;AACX/D,MAAAA,YAAY,CAAC+D,OAAD,CAAZ;AACA;AACD;AACF;;AAED,MAAIlqB,SAAS,GAAGumB,0BAA0B,CAAC;AACzC1V,IAAAA,MAAM,EAAEA,MADiC;AAEzCpP,IAAAA,WAAW,EAAEH,iBAAiB,CAACkP,KAAK,CAACjP,MAAP,CAFW;AAGzCc,IAAAA,UAAU,EAAEmO,KAAK,CAACE,UAAN,CAAiBrO;AAHY,GAAD,CAA1C;;AAMA,MAAI,CAACrC,SAAL,EAAgB;AACd;AACD;;AAED,MAAIgmB,MAAM,GAAGgE,wBAAwB,CAAC;AACpC5B,IAAAA,aAAa,EAAEA,aADqB;AAEpCpoB,IAAAA,SAAS,EAAEA,SAFyB;AAGpCpC,IAAAA,OAAO,EAAEA,OAH2B;AAIpCiT,IAAAA,MAAM,EAAEA,MAJ4B;AAKpC2X,IAAAA,sBAAsB,EAAEA;AALY,GAAD,CAArC;;AAQA,MAAIxC,MAAJ,EAAY;AACVjmB,IAAAA,eAAe,CAACC,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BwjB,MAA1B,CAAf;AACD;AACF,CAhDD;;AAkDA,IAAImE,mBAAmB,GAAI,UAAUntB,IAAV,EAAgB;AACzC,MAAImpB,YAAY,GAAGnpB,IAAI,CAACmpB,YAAxB;AAAA,MACIpmB,eAAe,GAAG/C,IAAI,CAAC+C,eAD3B;AAEA,MAAIqqB,oBAAoB,GAAGvxB,OAAO,CAACstB,YAAD,CAAlC;AACA,MAAIkE,uBAAuB,GAAGxxB,OAAO,CAACkH,eAAD,CAArC;AACA,MAAImM,QAAQ,GAAG,IAAf;;AAEA,MAAIoe,SAAS,GAAG,SAASA,SAAT,CAAmB9Z,KAAnB,EAA0B;AACxC,KAACtE,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qCAAR,CAAjD,GAAkGA,SAAS,CAAC,KAAD,CAAvH,GAAiI,KAAK,CAAtI;AACA,QAAI6yB,SAAS,GAAGre,QAAhB;AAAA,QACIsc,sBAAsB,GAAG+B,SAAS,CAAC/B,sBADvC;AAAA,QAEIJ,aAAa,GAAGmC,SAAS,CAACnC,aAF9B;AAGA6B,IAAAA,QAAQ,CAAC;AACPzZ,MAAAA,KAAK,EAAEA,KADA;AAEP2V,MAAAA,YAAY,EAAEiE,oBAFP;AAGPrqB,MAAAA,eAAe,EAAEsqB,uBAHV;AAIPjC,MAAAA,aAAa,EAAEA,aAJR;AAKPI,MAAAA,sBAAsB,EAAEA;AALjB,KAAD,CAAR;AAOD,GAZD;;AAcA,MAAI1F,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,KAAC5W,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qDAAR,CAAjD,GAAkHA,SAAS,CAAC,KAAD,CAAvI,GAAiJ,KAAK,CAAtJ;AACA0yB,IAAAA,oBAAoB,CAACI,MAArB;AACAH,IAAAA,uBAAuB,CAACG,MAAxB;AACD,GAJD;;AAMA,MAAIC,OAAO,GAAG,SAASA,OAAT,CAAiBja,KAAjB,EAAwB;AACpC9P,IAAAA,KAAK,CAAC,yBAAD,CAAL;AACA,KAAC,CAACwL,QAAF,GAAajT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kDAAR,CAAjD,GAA+GA,SAAS,CAAC,KAAD,CAArI,GAA+I,KAAK,CAApJ;;AAEA,QAAI0wB,aAAa,GAAGxvB,SAAS,EAA7B;;AAEA,QAAI8xB,eAAe,GAAG,KAAtB;;AAEA,QAAIC,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrDD,MAAAA,eAAe,GAAG,IAAlB;AACD,KAFD;;AAIAT,IAAAA,QAAQ,CAAC;AACPzZ,MAAAA,KAAK,EAAEA,KADA;AAEP4X,MAAAA,aAAa,EAAE,CAFR;AAGPI,MAAAA,sBAAsB,EAAE,KAHjB;AAIPrC,MAAAA,YAAY,EAAEwE,kBAJP;AAKP5qB,MAAAA,eAAe,EAAE4qB;AALV,KAAD,CAAR;AAOAze,IAAAA,QAAQ,GAAG;AACTkc,MAAAA,aAAa,EAAEA,aADN;AAETI,MAAAA,sBAAsB,EAAEkC;AAFf,KAAX;AAIA5pB,IAAAA,MAAM,CAAC,yBAAD,CAAN;;AAEA,QAAI4pB,eAAJ,EAAqB;AACnBJ,MAAAA,SAAS,CAAC9Z,KAAD,CAAT;AACD;AACF,GA5BD;;AA8BA,MAAIqS,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,QAAI,CAAC3W,QAAL,EAAe;AACb;AACD;;AAED4W,IAAAA,aAAa;AACb5W,IAAAA,QAAQ,GAAG,IAAX;AACD,GAPD;;AASA,SAAO;AACLxL,IAAAA,KAAK,EAAE+pB,OADF;AAEL5H,IAAAA,IAAI,EAAEA,IAFD;AAGLC,IAAAA,aAAa,EAAEA,aAHV;AAILlkB,IAAAA,MAAM,EAAE0rB;AAJH,GAAP;AAMD,CAxED;;AA0EA,IAAIM,kBAAkB,GAAI,UAAU5tB,IAAV,EAAgB;AACxC,MAAIqe,IAAI,GAAGre,IAAI,CAACqe,IAAhB;AAAA,MACItb,eAAe,GAAG/C,IAAI,CAAC+C,eAD3B;AAAA,MAEIomB,YAAY,GAAGnpB,IAAI,CAACmpB,YAFxB;;AAIA,MAAI0E,YAAY,GAAG,SAASA,YAAT,CAAsBra,KAAtB,EAA6BpY,MAA7B,EAAqC;AACtD,QAAI0R,MAAM,GAAGxN,GAAG,CAACkU,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqBC,SAAtB,EAAiC3R,MAAjC,CAAhB;AACAijB,IAAAA,IAAI,CAAC;AACHvR,MAAAA,MAAM,EAAEA;AADL,KAAD,CAAJ;AAGD,GALD;;AAOA,MAAIghB,4BAA4B,GAAG,SAASA,4BAAT,CAAsC9qB,SAAtC,EAAiDgmB,MAAjD,EAAyD;AAC1F,QAAI,CAAC6D,kBAAkB,CAAC7pB,SAAD,EAAYgmB,MAAZ,CAAvB,EAA4C;AAC1C,aAAOA,MAAP;AACD;;AAED,QAAIuD,OAAO,GAAGO,mBAAmB,CAAC9pB,SAAD,EAAYgmB,MAAZ,CAAjC;;AAEA,QAAI,CAACuD,OAAL,EAAc;AACZxpB,MAAAA,eAAe,CAACC,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BwjB,MAA1B,CAAf;AACA,aAAO,IAAP;AACD;;AAED,QAAI+E,yBAAyB,GAAGtuB,QAAQ,CAACupB,MAAD,EAASuD,OAAT,CAAxC;AACAxpB,IAAAA,eAAe,CAACC,SAAS,CAACuC,UAAV,CAAqBC,EAAtB,EAA0BuoB,yBAA1B,CAAf;AACA,QAAIC,SAAS,GAAGvuB,QAAQ,CAACupB,MAAD,EAAS+E,yBAAT,CAAxB;AACA,WAAOC,SAAP;AACD,GAhBD;;AAkBA,MAAIC,yBAAyB,GAAG,SAASA,yBAAT,CAAmC1R,qBAAnC,EAA0DnS,QAA1D,EAAoE4e,MAApE,EAA4E;AAC1G,QAAI,CAACzM,qBAAL,EAA4B;AAC1B,aAAOyM,MAAP;AACD;;AAED,QAAI,CAAC2D,eAAe,CAACviB,QAAD,EAAW4e,MAAX,CAApB,EAAwC;AACtC,aAAOA,MAAP;AACD;;AAED,QAAIuD,OAAO,GAAGK,gBAAgB,CAACxiB,QAAD,EAAW4e,MAAX,CAA9B;;AAEA,QAAI,CAACuD,OAAL,EAAc;AACZpD,MAAAA,YAAY,CAACH,MAAD,CAAZ;AACA,aAAO,IAAP;AACD;;AAED,QAAIkF,sBAAsB,GAAGzuB,QAAQ,CAACupB,MAAD,EAASuD,OAAT,CAArC;AACApD,IAAAA,YAAY,CAAC+E,sBAAD,CAAZ;AACA,QAAIF,SAAS,GAAGvuB,QAAQ,CAACupB,MAAD,EAASkF,sBAAT,CAAxB;AACA,WAAOF,SAAP;AACD,GApBD;;AAsBA,MAAIG,YAAY,GAAG,SAASA,YAAT,CAAsB3a,KAAtB,EAA6B;AAC9C,QAAIgM,OAAO,GAAGhM,KAAK,CAACoF,iBAApB;;AAEA,QAAI,CAAC4G,OAAL,EAAc;AACZ;AACD;;AAED,QAAI/a,WAAW,GAAGH,iBAAiB,CAACkP,KAAK,CAACjP,MAAP,CAAnC;AACA,KAACE,WAAD,GAAexI,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2DAAR,CAAjD,GAAwHA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACA,QAAI0zB,kBAAkB,GAAGN,4BAA4B,CAACta,KAAK,CAACE,UAAN,CAAiBrO,UAAjB,CAA4BZ,WAA5B,CAAD,EAA2C+a,OAA3C,CAArD;;AAEA,QAAI,CAAC4O,kBAAL,EAAyB;AACvB;AACD;;AAED,QAAIhkB,QAAQ,GAAGoJ,KAAK,CAACpJ,QAArB;AACA,QAAIikB,eAAe,GAAGJ,yBAAyB,CAACza,KAAK,CAAC+I,qBAAP,EAA8BnS,QAA9B,EAAwCgkB,kBAAxC,CAA/C;;AAEA,QAAI,CAACC,eAAL,EAAsB;AACpB;AACD;;AAEDR,IAAAA,YAAY,CAACra,KAAD,EAAQ6a,eAAR,CAAZ;AACD,GAvBD;;AAyBA,SAAOF,YAAP;AACD,CA9ED;;AAgFA,IAAIG,kBAAkB,GAAI,UAAUtuB,IAAV,EAAgB;AACxC,MAAI+C,eAAe,GAAG/C,IAAI,CAAC+C,eAA3B;AAAA,MACIomB,YAAY,GAAGnpB,IAAI,CAACmpB,YADxB;AAAA,MAEI9K,IAAI,GAAGre,IAAI,CAACqe,IAFhB;AAGA,MAAIkQ,aAAa,GAAGpB,mBAAmB,CAAC;AACtChE,IAAAA,YAAY,EAAEA,YADwB;AAEtCpmB,IAAAA,eAAe,EAAEA;AAFqB,GAAD,CAAvC;AAIA,MAAIyrB,UAAU,GAAGZ,kBAAkB,CAAC;AAClCvP,IAAAA,IAAI,EAAEA,IAD4B;AAElC8K,IAAAA,YAAY,EAAEA,YAFoB;AAGlCpmB,IAAAA,eAAe,EAAEA;AAHiB,GAAD,CAAnC;;AAMA,MAAInB,MAAM,GAAG,SAASA,MAAT,CAAgB4R,KAAhB,EAAuB;AAClC,QAAIA,KAAK,CAACW,KAAN,KAAgB,UAApB,EAAgC;AAC9B;AACD;;AAED,QAAIX,KAAK,CAACS,YAAN,KAAuB,OAA3B,EAAoC;AAClCsa,MAAAA,aAAa,CAAC3sB,MAAd,CAAqB4R,KAArB;AACA;AACD;;AAED,QAAI,CAACA,KAAK,CAACoF,iBAAX,EAA8B;AAC5B;AACD;;AAED4V,IAAAA,UAAU,CAAChb,KAAD,CAAV;AACD,GAfD;;AAiBA,MAAIib,QAAQ,GAAG;AACb7sB,IAAAA,MAAM,EAAEA,MADK;AAEbkkB,IAAAA,aAAa,EAAEyI,aAAa,CAACzI,aAFhB;AAGbpiB,IAAAA,KAAK,EAAE6qB,aAAa,CAAC7qB,KAHR;AAIbmiB,IAAAA,IAAI,EAAE0I,aAAa,CAAC1I;AAJP,GAAf;AAMA,SAAO4I,QAAP;AACD,CAtCD;;AAwCA,IAAIC,MAAM,GAAG,0BAAb;AACA,IAAIC,UAAU,GAAGD,MAAM,GAAG,cAA1B;AACA,IAAInoB,SAAS,GAAGmoB,MAAM,GAAG,YAAzB;AACA,IAAI1rB,SAAS,GAAG0rB,MAAM,GAAG,YAAzB;;AAEA,IAAIE,eAAe,GAAG,SAASA,eAAT,CAAyBC,OAAzB,EAAkC;AACtD,SAAO,UAAUC,SAAV,EAAqB;AAC1B,WAAO,MAAMA,SAAN,GAAkB,KAAlB,GAA0BD,OAA1B,GAAoC,KAA3C;AACD,GAFD;AAGD,CAJD;;AAMA,IAAIE,SAAS,GAAG,SAASA,SAAT,CAAmBC,KAAnB,EAA0BC,QAA1B,EAAoC;AAClD,SAAOD,KAAK,CAACvuB,GAAN,CAAU,UAAUyuB,IAAV,EAAgB;AAC/B,QAAI3yB,KAAK,GAAG2yB,IAAI,CAACC,MAAL,CAAYF,QAAZ,CAAZ;;AAEA,QAAI,CAAC1yB,KAAL,EAAY;AACV,aAAO,EAAP;AACD;;AAED,WAAO2yB,IAAI,CAACE,QAAL,GAAgB,KAAhB,GAAwB7yB,KAAxB,GAAgC,IAAvC;AACD,GARM,EAQJ8yB,IARI,CAQC,GARD,CAAP;AASD,CAVD;;AAYA,IAAIC,eAAe,GAAG,uBAAtB;;AACA,IAAIC,WAAW,GAAI,UAAUC,aAAV,EAAyB;AAC1C,MAAIC,WAAW,GAAGb,eAAe,CAACY,aAAD,CAAjC;;AAEA,MAAIE,YAAY,GAAG,YAAY;AAC7B,QAAIC,UAAU,GAAG,0DAAjB;AACA,WAAO;AACLP,MAAAA,QAAQ,EAAEK,WAAW,CAACd,UAAD,CADhB;AAELQ,MAAAA,MAAM,EAAE;AACNS,QAAAA,MAAM,EAAE,kJADF;AAENhQ,QAAAA,OAAO,EAAE+P,UAFH;AAGNzgB,QAAAA,QAAQ,EAAEogB,eAHJ;AAINO,QAAAA,aAAa,EAAEF;AAJT;AAFH,KAAP;AASD,GAXkB,EAAnB;;AAaA,MAAIG,WAAW,GAAG,YAAY;AAC5B,QAAIC,UAAU,GAAG,yBAAyBzP,WAAW,CAACR,WAArC,GAAmD,SAApE;AACA,WAAO;AACLsP,MAAAA,QAAQ,EAAEK,WAAW,CAAClpB,SAAD,CADhB;AAEL4oB,MAAAA,MAAM,EAAE;AACNjgB,QAAAA,QAAQ,EAAE6gB,UADJ;AAENF,QAAAA,aAAa,EAAEE,UAFT;AAGNC,QAAAA,UAAU,EAAED;AAHN;AAFH,KAAP;AAQD,GAViB,EAAlB;;AAYA,MAAIE,WAAW,GAAG;AAChBb,IAAAA,QAAQ,EAAEK,WAAW,CAACzsB,SAAD,CADL;AAEhBmsB,IAAAA,MAAM,EAAE;AACNS,MAAAA,MAAM,EAAE;AADF;AAFQ,GAAlB;AAMA,MAAIM,IAAI,GAAG;AACTd,IAAAA,QAAQ,EAAE,MADD;AAETD,IAAAA,MAAM,EAAE;AACNjgB,MAAAA,QAAQ,EAAE;AADJ;AAFC,GAAX;AAMA,MAAI8f,KAAK,GAAG,CAACc,WAAD,EAAcJ,YAAd,EAA4BO,WAA5B,EAAyCC,IAAzC,CAAZ;AACA,SAAO;AACLN,IAAAA,MAAM,EAAEb,SAAS,CAACC,KAAD,EAAQ,QAAR,CADZ;AAELpP,IAAAA,OAAO,EAAEmP,SAAS,CAACC,KAAD,EAAQ,SAAR,CAFb;AAGL9f,IAAAA,QAAQ,EAAE6f,SAAS,CAACC,KAAD,EAAQ,UAAR,CAHd;AAILa,IAAAA,aAAa,EAAEd,SAAS,CAACC,KAAD,EAAQ,eAAR,CAJnB;AAKLgB,IAAAA,UAAU,EAAEjB,SAAS,CAACC,KAAD,EAAQ,YAAR;AALhB,GAAP;AAOD,CAhDD;;AAkDA,IAAImB,yBAAyB,GAAG,OAAOnzB,MAAP,KAAkB,WAAlB,GAAgC9C,eAAhC,GAAkDC,SAAlF;;AAEA,IAAIi2B,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,MAAIC,IAAI,GAAGvI,QAAQ,CAACwI,aAAT,CAAuB,MAAvB,CAAX;AACA,GAACD,IAAD,GAAQp0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2CAAR,CAAjD,GAAwGA,SAAS,CAAC,KAAD,CAAzH,GAAmI,KAAK,CAAxI;AACA,SAAO21B,IAAP;AACD,CAJD;;AAMA,IAAIE,aAAa,GAAG,SAASA,aAAT,GAAyB;AAC3C,MAAIC,EAAE,GAAG1I,QAAQ,CAAC2I,aAAT,CAAuB,OAAvB,CAAT;AACAD,EAAAA,EAAE,CAAClW,IAAH,GAAU,UAAV;AACA,SAAOkW,EAAP;AACD,CAJD;;AAMA,SAASE,eAAT,CAAyBC,QAAzB,EAAmC;AACjC,MAAInB,aAAa,GAAGj1B,OAAO,CAAC,YAAY;AACtC,WAAO,KAAKo2B,QAAZ;AACD,GAF0B,EAExB,CAACA,QAAD,CAFwB,CAA3B;AAGA,MAAIxB,MAAM,GAAG50B,OAAO,CAAC,YAAY;AAC/B,WAAOg1B,WAAW,CAACC,aAAD,CAAlB;AACD,GAFmB,EAEjB,CAACA,aAAD,CAFiB,CAApB;AAGA,MAAIoB,SAAS,GAAGx2B,MAAM,CAAC,IAAD,CAAtB;AACA,MAAIy2B,UAAU,GAAGz2B,MAAM,CAAC,IAAD,CAAvB;AACA,MAAI02B,eAAe,GAAGt2B,WAAW,CAACiB,UAAU,CAAC,UAAUue,QAAV,EAAoB;AAC/D,QAAIwW,EAAE,GAAGK,UAAU,CAACvtB,OAApB;AACA,KAACktB,EAAD,GAAMv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mDAAR,CAAjD,GAAgHA,SAAS,CAAC,KAAD,CAA/H,GAAyI,KAAK,CAA9I;AACA81B,IAAAA,EAAE,CAACO,WAAH,GAAiB/W,QAAjB;AACD,GAJ2C,CAAX,EAI7B,EAJ6B,CAAjC;AAKA,MAAIgX,cAAc,GAAGx2B,WAAW,CAAC,UAAUwf,QAAV,EAAoB;AACnD,QAAIwW,EAAE,GAAGI,SAAS,CAACttB,OAAnB;AACA,KAACktB,EAAD,GAAMv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mDAAR,CAAjD,GAAgHA,SAAS,CAAC,KAAD,CAA/H,GAAyI,KAAK,CAA9I;AACA81B,IAAAA,EAAE,CAACO,WAAH,GAAiB/W,QAAjB;AACD,GAJ+B,EAI7B,EAJ6B,CAAhC;AAKAmW,EAAAA,yBAAyB,CAAC,YAAY;AACpC,MAAE,CAACS,SAAS,CAACttB,OAAX,IAAsB,CAACutB,UAAU,CAACvtB,OAApC,IAA+CrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gCAAR,CAAjD,GAA6FA,SAAS,CAAC,KAAD,CAArJ,GAA+J,KAAK,CAApK;AACA,QAAIk1B,MAAM,GAAGW,aAAa,EAA1B;AACA,QAAIU,OAAO,GAAGV,aAAa,EAA3B;AACAK,IAAAA,SAAS,CAACttB,OAAV,GAAoBssB,MAApB;AACAiB,IAAAA,UAAU,CAACvtB,OAAX,GAAqB2tB,OAArB;AACArB,IAAAA,MAAM,CAACsB,YAAP,CAAoBxC,MAAM,GAAG,SAA7B,EAAwCc,aAAxC;AACAyB,IAAAA,OAAO,CAACC,YAAR,CAAqBxC,MAAM,GAAG,UAA9B,EAA0Cc,aAA1C;AACAY,IAAAA,OAAO,GAAGe,WAAV,CAAsBvB,MAAtB;AACAQ,IAAAA,OAAO,GAAGe,WAAV,CAAsBF,OAAtB;AACAD,IAAAA,cAAc,CAAC7B,MAAM,CAACS,MAAR,CAAd;AACAkB,IAAAA,eAAe,CAAC3B,MAAM,CAACvP,OAAR,CAAf;AACA,WAAO,YAAY;AACjB,UAAIhU,MAAM,GAAG,SAASA,MAAT,CAAgBwlB,GAAhB,EAAqB;AAChC,YAAI9tB,OAAO,GAAG8tB,GAAG,CAAC9tB,OAAlB;AACA,SAACA,OAAD,GAAWrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qCAAR,CAAjD,GAAkGA,SAAS,CAAC,KAAD,CAAtH,GAAgI,KAAK,CAArI;AACA01B,QAAAA,OAAO,GAAGiB,WAAV,CAAsB/tB,OAAtB;AACA8tB,QAAAA,GAAG,CAAC9tB,OAAJ,GAAc,IAAd;AACD,OALD;;AAOAsI,MAAAA,MAAM,CAACglB,SAAD,CAAN;AACAhlB,MAAAA,MAAM,CAACilB,UAAD,CAAN;AACD,KAVD;AAWD,GAvBwB,EAuBtB,CAACG,cAAD,EAAiBF,eAAjB,EAAkC3B,MAAM,CAACS,MAAzC,EAAiDT,MAAM,CAACvP,OAAxD,EAAiE4P,aAAjE,CAvBsB,CAAzB;AAwBA,MAAItgB,QAAQ,GAAG1U,WAAW,CAAC,YAAY;AACrC,WAAOs2B,eAAe,CAAC3B,MAAM,CAACjgB,QAAR,CAAtB;AACD,GAFyB,EAEvB,CAAC4hB,eAAD,EAAkB3B,MAAM,CAACjgB,QAAzB,CAFuB,CAA1B;AAGA,MAAIyQ,QAAQ,GAAGnlB,WAAW,CAAC,UAAU8Z,MAAV,EAAkB;AAC3C,QAAIA,MAAM,KAAK,MAAf,EAAuB;AACrBwc,MAAAA,eAAe,CAAC3B,MAAM,CAACU,aAAR,CAAf;AACA;AACD;;AAEDiB,IAAAA,eAAe,CAAC3B,MAAM,CAACa,UAAR,CAAf;AACD,GAPyB,EAOvB,CAACc,eAAD,EAAkB3B,MAAM,CAACU,aAAzB,EAAwCV,MAAM,CAACa,UAA/C,CAPuB,CAA1B;AAQA,MAAIpQ,OAAO,GAAGplB,WAAW,CAAC,YAAY;AACpC,QAAI,CAACq2B,UAAU,CAACvtB,OAAhB,EAAyB;AACvB;AACD;;AAEDwtB,IAAAA,eAAe,CAAC3B,MAAM,CAACvP,OAAR,CAAf;AACD,GANwB,EAMtB,CAACkR,eAAD,EAAkB3B,MAAM,CAACvP,OAAzB,CANsB,CAAzB;AAOA,MAAIV,OAAO,GAAG3kB,OAAO,CAAC,YAAY;AAChC,WAAO;AACL2U,MAAAA,QAAQ,EAAEA,QADL;AAELyQ,MAAAA,QAAQ,EAAEA,QAFL;AAGLC,MAAAA,OAAO,EAAEA,OAHJ;AAIL0R,MAAAA,YAAY,EAAE9B;AAJT,KAAP;AAMD,GAPoB,EAOlB,CAACtgB,QAAD,EAAWyQ,QAAX,EAAqBC,OAArB,EAA8B4P,aAA9B,CAPkB,CAArB;AAQA,SAAOtQ,OAAP;AACD;;AAED,IAAIqS,YAAY,GAAGt3B,KAAK,CAACu3B,aAAN,CAAoB,IAApB,CAAnB;;AAEA,IAAIC,cAAc,GAAI,YAAY;AAChC,MAAIvB,IAAI,GAAGpI,QAAQ,CAACoI,IAApB;AACA,GAACA,IAAD,GAAQj0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2BAAR,CAAjD,GAAwFA,SAAS,CAAC,KAAD,CAAzG,GAAmH,KAAK,CAAxH;AACA,SAAOw1B,IAAP;AACD,CAJD;;AAMA,IAAIwB,cAAc,GAAG;AACnBxP,EAAAA,QAAQ,EAAE,UADS;AAEnB/gB,EAAAA,KAAK,EAAE,KAFY;AAGnBC,EAAAA,MAAM,EAAE,KAHW;AAInBwQ,EAAAA,MAAM,EAAE,MAJW;AAKnBC,EAAAA,MAAM,EAAE,GALW;AAMnBC,EAAAA,OAAO,EAAE,GANU;AAOnB6f,EAAAA,QAAQ,EAAE,QAPS;AAQnBtvB,EAAAA,IAAI,EAAE,eARa;AASnB,eAAa;AATM,CAArB;;AAWA,IAAIuvB,KAAK,GAAG,SAASA,KAAT,CAAejB,QAAf,EAAyB;AACnC,SAAO,sCAAsCA,QAA7C;AACD,CAFD;;AAGA,SAASkB,YAAT,CAAsBlB,QAAtB,EAAgC;AAC9B,MAAInrB,EAAE,GAAGjL,OAAO,CAAC,YAAY;AAC3B,WAAOq3B,KAAK,CAACjB,QAAD,CAAZ;AACD,GAFe,EAEb,CAACA,QAAD,CAFa,CAAhB;AAGA,MAAIS,GAAG,GAAGh3B,MAAM,CAAC,IAAD,CAAhB;AACAD,EAAAA,SAAS,CAAC,YAAY;AACpB,KAAC,CAACi3B,GAAG,CAAC9tB,OAAN,GAAgBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mCAAR,CAAjD,GAAgGA,SAAS,CAAC,KAAD,CAAzH,GAAmI,KAAK,CAAxI;AACA,QAAI81B,EAAE,GAAG1I,QAAQ,CAAC2I,aAAT,CAAuB,KAAvB,CAAT;AACAW,IAAAA,GAAG,CAAC9tB,OAAJ,GAAcktB,EAAd;AACAA,IAAAA,EAAE,CAAChrB,EAAH,GAAQA,EAAR;AACAgrB,IAAAA,EAAE,CAACU,YAAH,CAAgB,WAAhB,EAA6B,WAA7B;AACAV,IAAAA,EAAE,CAACU,YAAH,CAAgB,MAAhB,EAAwB,KAAxB;AACAV,IAAAA,EAAE,CAACU,YAAH,CAAgB,aAAhB,EAA+B,MAA/B;;AAEAp1B,IAAAA,cAAc,CAAC00B,EAAE,CAACtsB,KAAJ,EAAWwtB,cAAX,CAAd;;AAEAD,IAAAA,cAAc,GAAGN,WAAjB,CAA6BX,EAA7B;AACA,WAAO,YAAY;AACjB,UAAIsB,WAAW,GAAGV,GAAG,CAAC9tB,OAAtB;AACA,OAACwuB,WAAD,GAAe71B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kCAAR,CAAjD,GAA+FA,SAAS,CAAC,KAAD,CAAvH,GAAiI,KAAK,CAAtI;AACA+2B,MAAAA,cAAc,GAAGJ,WAAjB,CAA6BS,WAA7B;AACAV,MAAAA,GAAG,CAAC9tB,OAAJ,GAAc,IAAd;AACD,KALD;AAMD,GAlBQ,EAkBN,CAACkC,EAAD,CAlBM,CAAT;AAmBA,MAAIsd,QAAQ,GAAGtoB,WAAW,CAAC,UAAUmC,OAAV,EAAmB;AAC5C,QAAI6zB,EAAE,GAAGY,GAAG,CAAC9tB,OAAb;;AAEA,QAAIktB,EAAJ,EAAQ;AACNA,MAAAA,EAAE,CAACO,WAAH,GAAiBp0B,OAAjB;AACA;AACD;;AAEDV,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,2XAA2XH,OAA3X,GAAqY,UAAtY,CAA/C,GAAmc,KAAK,CAAxc;AACD,GATyB,EASvB,EATuB,CAA1B;AAUA,SAAOmmB,QAAP;AACD;;AAED,IAAIiP,UAAU,GAAG93B,KAAK,CAACu3B,aAAN,CAAoB,IAApB,CAAjB;AAEA,IAAIQ,gBAAgB,GAAG;AACtBC,EAAAA,KAAK,EAAE;AADe,CAAvB;AAIA,IAAIC,MAAM,GAAG,qBAAb;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoB51B,KAApB,EAA2B;AAC1C,MAAIsE,MAAM,GAAGqxB,MAAM,CAACE,IAAP,CAAY71B,KAAZ,CAAb;AACA,IAAEsE,MAAM,IAAI,IAAZ,IAAoB5E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mCAAmC6B,KAA3C,CAAjD,GAAqG7B,SAAS,CAAC,KAAD,CAAlI,GAA4I,KAAK,CAAjJ;AACA,MAAI23B,KAAK,GAAG/Q,MAAM,CAACzgB,MAAM,CAAC,CAAD,CAAP,CAAlB;AACA,MAAIyxB,KAAK,GAAGhR,MAAM,CAACzgB,MAAM,CAAC,CAAD,CAAP,CAAlB;AACA,MAAIhB,KAAK,GAAGyhB,MAAM,CAACzgB,MAAM,CAAC,CAAD,CAAP,CAAlB;AACA,SAAO;AACLwxB,IAAAA,KAAK,EAAEA,KADF;AAELC,IAAAA,KAAK,EAAEA,KAFF;AAGLzyB,IAAAA,KAAK,EAAEA,KAHF;AAILsS,IAAAA,GAAG,EAAE5V;AAJA,GAAP;AAMD,CAZD;;AAcA,IAAIg2B,WAAW,GAAG,SAASA,WAAT,CAAqBC,QAArB,EAA+BC,MAA/B,EAAuC;AACvD,MAAIA,MAAM,CAACJ,KAAP,GAAeG,QAAQ,CAACH,KAA5B,EAAmC;AACjC,WAAO,IAAP;AACD;;AAED,MAAII,MAAM,CAACJ,KAAP,GAAeG,QAAQ,CAACH,KAA5B,EAAmC;AACjC,WAAO,KAAP;AACD;;AAED,MAAII,MAAM,CAACH,KAAP,GAAeE,QAAQ,CAACF,KAA5B,EAAmC;AACjC,WAAO,IAAP;AACD;;AAED,MAAIG,MAAM,CAACH,KAAP,GAAeE,QAAQ,CAACF,KAA5B,EAAmC;AACjC,WAAO,KAAP;AACD;;AAED,SAAOG,MAAM,CAAC5yB,KAAP,IAAgB2yB,QAAQ,CAAC3yB,KAAhC;AACD,CAlBD;;AAoBA,IAAI6yB,iBAAiB,GAAI,UAAUC,YAAV,EAAwBC,WAAxB,EAAqC;AAC5D,MAAIC,OAAO,GAAGV,UAAU,CAACQ,YAAD,CAAxB;AACA,MAAIF,MAAM,GAAGN,UAAU,CAACS,WAAD,CAAvB;;AAEA,MAAIL,WAAW,CAACM,OAAD,EAAUJ,MAAV,CAAf,EAAkC;AAChC;AACD;;AAEDx2B,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,2BAA2B21B,MAAM,CAACtgB,GAAlC,GAAwC,6DAAxC,GAAwG0gB,OAAO,CAAC1gB,GAAhH,GAAsH,uEAAvH,CAA/C,GAAiP,KAAK,CAAtP;AACD,CATD;;AAWA,IAAI2gB,MAAM,GAAG,4NAAb;;AACA,IAAIC,YAAY,GAAI,UAAUlL,GAAV,EAAe;AACjC,MAAImL,OAAO,GAAGnL,GAAG,CAACmL,OAAlB;;AAEA,MAAI,CAACA,OAAL,EAAc;AACZ/2B,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,gDAAgDg2B,MAAhD,GAAyD,QAA1D,CAA/C,GAAqH,KAAK,CAA1H;AACA;AACD;;AAED,MAAIE,OAAO,CAACC,IAAR,CAAaC,WAAb,OAA+B,MAAnC,EAA2C;AACzCj3B,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,2CAA2Ck2B,OAAO,CAACC,IAAnD,GAA0D,aAA1D,GAA0EH,MAA1E,GAAmF,QAApF,CAA/C,GAA+I,KAAK,CAApJ;AACD;;AAED,MAAIE,OAAO,CAACG,QAAR,KAAqB,EAAzB,EAA6B;AAC3Bl3B,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,oDAAoDk2B,OAAO,CAACG,QAA5D,GAAuE,6DAAvE,GAAuIL,MAAvI,GAAgJ,QAAjJ,CAA/C,GAA4M,KAAK,CAAjN;AACD;AACF,CAfD;;AAiBA,SAASM,oBAAT,GAAgC;AAC9Bj5B,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI8B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACD;;AAEDu2B,IAAAA,iBAAiB,CAACV,gBAAgB,CAACC,KAAlB,EAAyBh4B,KAAK,CAACo5B,OAA/B,CAAjB;AACAN,IAAAA,YAAY,CAACjL,QAAD,CAAZ;AACD,GAPQ,EAON,EAPM,CAAT;AAQD;;AAED,SAASwL,WAAT,CAAqBhwB,OAArB,EAA8B;AAC5B,MAAI8tB,GAAG,GAAGh3B,MAAM,CAACkJ,OAAD,CAAhB;AACAnJ,EAAAA,SAAS,CAAC,YAAY;AACpBi3B,IAAAA,GAAG,CAAC9tB,OAAJ,GAAcA,OAAd;AACD,GAFQ,CAAT;AAGA,SAAO8tB,GAAP;AACD;;AAED,IAAImC,gBAAgB,GAAG,SAASA,gBAAT,CAA0Bv0B,KAA1B,EAAiC;AACtD,SAAO;AACL2lB,IAAAA,iBAAiB,EAAE3lB,KAAK,CAAC2lB,iBADpB;AAELxC,IAAAA,WAAW,EAAEnjB,KAAK,CAACmjB,WAFd;AAGLQ,IAAAA,SAAS,EAAE3jB,KAAK,CAAC2jB,SAHZ;AAILF,IAAAA,YAAY,EAAEzjB,KAAK,CAACyjB;AAJf,GAAP;AAMD,CAPD;;AASA,SAAS+Q,QAAT,CAAkBC,OAAlB,EAA2B;AACzB,GAACA,OAAO,CAACnwB,OAAT,GAAmBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAR,CAAjD,GAAiGA,SAAS,CAAC,KAAD,CAA7H,GAAuI,KAAK,CAA5I;AACA,SAAO+4B,OAAO,CAACnwB,OAAf;AACD;;AAED,SAASowB,GAAT,CAAa10B,KAAb,EAAoB;AAClB,MAAI2xB,QAAQ,GAAG3xB,KAAK,CAAC2xB,QAArB;AAAA,MACIvyB,UAAU,GAAGY,KAAK,CAACZ,UADvB;AAEA,MAAIu1B,YAAY,GAAGv5B,MAAM,CAAC,IAAD,CAAzB;AACAg5B,EAAAA,oBAAoB;AACpB,MAAIQ,YAAY,GAAGN,WAAW,CAACt0B,KAAD,CAA9B;AACA,MAAIwlB,aAAa,GAAGhqB,WAAW,CAAC,YAAY;AAC1C,WAAO+4B,gBAAgB,CAACK,YAAY,CAACtwB,OAAd,CAAvB;AACD,GAF8B,EAE5B,CAACswB,YAAD,CAF4B,CAA/B;AAGA,MAAI9Q,QAAQ,GAAG+O,YAAY,CAAClB,QAAD,CAA3B;AACA,MAAIvK,YAAY,GAAGsK,eAAe,CAACC,QAAD,CAAlC;AACA,MAAIkD,YAAY,GAAGr5B,WAAW,CAAC,UAAU4hB,MAAV,EAAkB;AAC/CoX,IAAAA,QAAQ,CAACG,YAAD,CAAR,CAAuBvU,QAAvB,CAAgChD,MAAhC;AACD,GAF6B,EAE3B,EAF2B,CAA9B;AAGA,MAAIqK,SAAS,GAAGlsB,OAAO,CAAC,YAAY;AAClC,WAAOQ,kBAAkB,CAAC;AACxBuY,MAAAA,oBAAoB,EAAE0K,sBADE;AAExBE,MAAAA,qBAAqB,EAAEA,qBAFC;AAGxBC,MAAAA,wBAAwB,EAAEA,wBAHF;AAIxBC,MAAAA,+BAA+B,EAAEA,+BAJT;AAKxBH,MAAAA,kBAAkB,EAAEA;AALI,KAAD,EAMtB4V,YANsB,CAAzB;AAOD,GARsB,EAQpB,CAACA,YAAD,CARoB,CAAvB;AASA,MAAI1N,gBAAgB,GAAG5rB,OAAO,CAAC,YAAY;AACzC,WAAOkuB,sBAAsB,CAAChC,SAAD,CAA7B;AACD,GAF6B,EAE3B,CAACA,SAAD,CAF2B,CAA9B;AAGA,MAAIb,YAAY,GAAGrrB,OAAO,CAAC,YAAY;AACrC,WAAO+zB,kBAAkB,CAACt0B,QAAQ,CAAC;AACjCmvB,MAAAA,YAAY,EAAEA,YADmB;AAEjCpmB,MAAAA,eAAe,EAAEojB,gBAAgB,CAACpjB;AAFD,KAAD,EAG/BhI,kBAAkB,CAAC;AACpBsjB,MAAAA,IAAI,EAAEA;AADc,KAAD,EAElBwV,YAFkB,CAHa,CAAT,CAAzB;AAMD,GAPyB,EAOvB,CAAC1N,gBAAgB,CAACpjB,eAAlB,EAAmC8wB,YAAnC,CAPuB,CAA1B;AAQA,MAAIxO,KAAK,GAAG9qB,OAAO,CAAC,YAAY;AAC9B,WAAOI,WAAW,CAAC;AACjBwrB,MAAAA,gBAAgB,EAAEA,gBADD;AAEjBC,MAAAA,YAAY,EAAEA,YAFG;AAGjBtD,MAAAA,QAAQ,EAAEA,QAHO;AAIjB8C,MAAAA,YAAY,EAAEA,YAJG;AAKjBpB,MAAAA,aAAa,EAAEA;AALE,KAAD,CAAlB;AAOD,GARkB,EAQhB,CAAC1B,QAAD,EAAW8C,YAAX,EAAyBO,gBAAzB,EAA2C3B,aAA3C,EAA0D4B,YAA1D,CARgB,CAAnB;;AAUA,MAAInqB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAIw3B,YAAY,CAACrwB,OAAb,IAAwBqwB,YAAY,CAACrwB,OAAb,KAAyB+hB,KAArD,EAA4D;AAC1DppB,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,yBAAD,CAA/C,GAA6E,KAAK,CAAlF;AACD;AACF;;AAED62B,EAAAA,YAAY,CAACrwB,OAAb,GAAuB+hB,KAAvB;AACA,MAAIyO,aAAa,GAAGt5B,WAAW,CAAC,YAAY;AAC1C,QAAI8I,OAAO,GAAGkwB,QAAQ,CAACG,YAAD,CAAtB;AACA,QAAIngB,KAAK,GAAGlQ,OAAO,CAAC6b,QAAR,EAAZ;;AAEA,QAAI3L,KAAK,CAACW,KAAN,KAAgB,MAApB,EAA4B;AAC1B7Q,MAAAA,OAAO,CAAC8b,QAAR,CAAiBR,OAAO,CAAC;AACvB1C,QAAAA,WAAW,EAAE;AADU,OAAD,CAAxB;AAGD;AACF,GAT8B,EAS5B,EAT4B,CAA/B;AAUA9d,EAAAA,UAAU,CAAC01B,aAAD,CAAV;AACA,MAAIC,UAAU,GAAGv5B,WAAW,CAAC,UAAUgL,EAAV,EAAc;AACzC,WAAO0jB,YAAY,CAACsK,QAAQ,CAACG,YAAD,CAAR,CAAuBxU,QAAvB,EAAD,EAAoC3Z,EAApC,CAAnB;AACD,GAF2B,EAEzB,EAFyB,CAA5B;AAGA,MAAIwuB,oBAAoB,GAAGx5B,WAAW,CAAC,YAAY;AACjD,WAAOmgB,iBAAiB,CAAC6Y,QAAQ,CAACG,YAAD,CAAR,CAAuBxU,QAAvB,EAAD,CAAxB;AACD,GAFqC,EAEnC,EAFmC,CAAtC;AAGA,MAAI8U,UAAU,GAAG15B,OAAO,CAAC,YAAY;AACnC,WAAO;AACL2kB,MAAAA,OAAO,EAAEiH,gBADJ;AAELjiB,MAAAA,KAAK,EAAEkiB,YAAY,CAACkL,YAFf;AAGL4C,MAAAA,OAAO,EAAEH,UAHJ;AAILpZ,MAAAA,iBAAiB,EAAEqZ;AAJd,KAAP;AAMD,GAPuB,EAOrB,CAAC7N,gBAAD,EAAmB4N,UAAnB,EAA+BC,oBAA/B,EAAqD5N,YAAY,CAACkL,YAAlE,CAPqB,CAAxB;AAQAn3B,EAAAA,SAAS,CAAC,YAAY;AACpB,WAAO25B,aAAP;AACD,GAFQ,EAEN,CAACA,aAAD,CAFM,CAAT;AAGA,SAAO75B,KAAK,CAACw2B,aAAN,CAAoBsB,UAAU,CAAC/2B,QAA/B,EAAyC;AAC9CuB,IAAAA,KAAK,EAAE03B;AADuC,GAAzC,EAEJh6B,KAAK,CAACw2B,aAAN,CAAoBz1B,QAApB,EAA8B;AAC/B6zB,IAAAA,OAAO,EAAE0C,YADsB;AAE/BlM,IAAAA,KAAK,EAAEA;AAFwB,GAA9B,EAGArmB,KAAK,CAACC,QAHN,CAFI,CAAP;AAMD;;AAED,IAAIk1B,aAAa,GAAG,CAApB;;AACA,SAASC,kBAAT,GAA8B;AAC5BD,EAAAA,aAAa,GAAG,CAAhB;AACD;;AACD,SAASE,eAAT,CAAyBr1B,KAAzB,EAAgC;AAC9B,MAAI2xB,QAAQ,GAAGp2B,OAAO,CAAC,YAAY;AACjC,WAAO45B,aAAa,EAApB;AACD,GAFqB,EAEnB,EAFmB,CAAtB;AAGA,SAAOl6B,KAAK,CAACw2B,aAAN,CAAoBjzB,aAApB,EAAmC,IAAnC,EAAyC,UAAUY,UAAV,EAAsB;AACpE,WAAOnE,KAAK,CAACw2B,aAAN,CAAoBiD,GAApB,EAAyB15B,QAAQ,CAAC;AACvCoE,MAAAA,UAAU,EAAEA,UAD2B;AAEvCuyB,MAAAA,QAAQ,EAAEA;AAF6B,KAAD,EAGrC3xB,KAHqC,CAAjC,EAGIA,KAAK,CAACC,QAHV,CAAP;AAID,GALM,CAAP;AAMD;;AAED,IAAIq1B,SAAS,GAAG,SAAS50B,OAAT,CAAiB60B,IAAjB,EAAuB;AACrC,SAAO,UAAUh4B,KAAV,EAAiB;AACtB,WAAOg4B,IAAI,KAAKh4B,KAAhB;AACD,GAFD;AAGD,CAJD;;AAMA,IAAIi4B,QAAQ,GAAGF,SAAS,CAAC,QAAD,CAAxB;AACA,IAAIG,MAAM,GAAGH,SAAS,CAAC,MAAD,CAAtB;AACA,IAAII,WAAW,GAAGJ,SAAS,CAAC,SAAD,CAA3B;;AAEA,IAAIK,QAAQ,GAAG,SAASA,QAAT,CAAkBhD,QAAlB,EAA4BtzB,EAA5B,EAAgC;AAC7C,SAAOA,EAAE,CAACszB,QAAQ,CAACiD,SAAV,CAAF,IAA0Bv2B,EAAE,CAACszB,QAAQ,CAACkD,SAAV,CAAnC;AACD,CAFD;;AAIA,IAAIC,MAAM,GAAG,SAASA,MAAT,CAAgBnD,QAAhB,EAA0BtzB,EAA1B,EAA8B;AACzC,SAAOA,EAAE,CAACszB,QAAQ,CAACiD,SAAV,CAAF,IAA0Bv2B,EAAE,CAACszB,QAAQ,CAACkD,SAAV,CAAnC;AACD,CAFD;;AAIA,IAAIE,mBAAmB,GAAG,SAASA,mBAAT,CAA6BvE,EAA7B,EAAiC;AACzD,MAAItsB,KAAK,GAAGlH,MAAM,CAACg4B,gBAAP,CAAwBxE,EAAxB,CAAZ;AACA,MAAImB,QAAQ,GAAG;AACbiD,IAAAA,SAAS,EAAE1wB,KAAK,CAAC0wB,SADJ;AAEbC,IAAAA,SAAS,EAAE3wB,KAAK,CAAC2wB;AAFJ,GAAf;AAIA,SAAOF,QAAQ,CAAChD,QAAD,EAAW6C,QAAX,CAAR,IAAgCG,QAAQ,CAAChD,QAAD,EAAW8C,MAAX,CAA/C;AACD,CAPD;;AASA,IAAIQ,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,MAAIh5B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,WAAO,KAAP;AACD;;AAED,MAAI+zB,IAAI,GAAGuB,cAAc,EAAzB;AACA,MAAIyD,IAAI,GAAGpN,QAAQ,CAACC,eAApB;AACA,GAACmN,IAAD,GAAQj5B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,CAAjD,GAA2DA,SAAS,CAAC,KAAD,CAA5E,GAAsF,KAAK,CAA3F;;AAEA,MAAI,CAACq6B,mBAAmB,CAAC7E,IAAD,CAAxB,EAAgC;AAC9B,WAAO,KAAP;AACD;;AAED,MAAIiF,SAAS,GAAGn4B,MAAM,CAACg4B,gBAAP,CAAwBE,IAAxB,CAAhB;AACA,MAAIE,YAAY,GAAG;AACjBR,IAAAA,SAAS,EAAEO,SAAS,CAACP,SADJ;AAEjBC,IAAAA,SAAS,EAAEM,SAAS,CAACN;AAFJ,GAAnB;;AAKA,MAAIC,MAAM,CAACM,YAAD,EAAeV,WAAf,CAAV,EAAuC;AACrC,WAAO,KAAP;AACD;;AAEDz4B,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,ykBAAD,CAA/C,GAA6nB,KAAK,CAAloB;AACA,SAAO,KAAP;AACD,CAzBD;;AA2BA,IAAIu4B,oBAAoB,GAAG,SAASA,oBAAT,CAA8B7E,EAA9B,EAAkC;AAC3D,MAAIA,EAAE,IAAI,IAAV,EAAgB;AACd,WAAO,IAAP;AACD;;AAED,MAAIA,EAAE,KAAK1I,QAAQ,CAACoI,IAApB,EAA0B;AACxB,WAAO+E,gBAAgB,KAAKzE,EAAL,GAAU,IAAjC;AACD;;AAED,MAAIA,EAAE,KAAK1I,QAAQ,CAACC,eAApB,EAAqC;AACnC,WAAO,IAAP;AACD;;AAED,MAAI,CAACgN,mBAAmB,CAACvE,EAAD,CAAxB,EAA8B;AAC5B,WAAO6E,oBAAoB,CAAC7E,EAAE,CAAC8E,aAAJ,CAA3B;AACD;;AAED,SAAO9E,EAAP;AACD,CAlBD;;AAoBA,IAAI+E,8BAA8B,GAAI,UAAUryB,UAAV,EAAsB;AAC1D,MAAI,CAACA,UAAL,EAAiB;AACf;AACD;;AAED,MAAIsyB,mBAAmB,GAAGH,oBAAoB,CAACnyB,UAAU,CAACoyB,aAAZ,CAA9C;;AAEA,MAAI,CAACE,mBAAL,EAA0B;AACxB;AACD;;AAEDv5B,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,2TAAD,CAA/C,GAA+W,KAAK,CAApX;AACD,CAZD;;AAcA,IAAI24B,WAAW,GAAI,UAAUjF,EAAV,EAAc;AAC/B,SAAO;AACLpxB,IAAAA,CAAC,EAAEoxB,EAAE,CAACkF,UADD;AAELr2B,IAAAA,CAAC,EAAEmxB,EAAE,CAACmF;AAFD,GAAP;AAID,CALD;;AAOA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBpF,EAApB,EAAwB;AACvC,MAAI,CAACA,EAAL,EAAS;AACP,WAAO,KAAP;AACD;;AAED,MAAItsB,KAAK,GAAGlH,MAAM,CAACg4B,gBAAP,CAAwBxE,EAAxB,CAAZ;;AAEA,MAAItsB,KAAK,CAACge,QAAN,KAAmB,OAAvB,EAAgC;AAC9B,WAAO,IAAP;AACD;;AAED,SAAO0T,UAAU,CAACpF,EAAE,CAAC8E,aAAJ,CAAjB;AACD,CAZD;;AAcA,IAAIO,MAAM,GAAI,UAAUnyB,KAAV,EAAiB;AAC7B,MAAIoyB,iBAAiB,GAAGT,oBAAoB,CAAC3xB,KAAD,CAA5C;AACA,MAAIoM,aAAa,GAAG8lB,UAAU,CAAClyB,KAAD,CAA9B;AACA,SAAO;AACLoyB,IAAAA,iBAAiB,EAAEA,iBADd;AAELhmB,IAAAA,aAAa,EAAEA;AAFV,GAAP;AAID,CAPD;;AASA,IAAIimB,SAAS,GAAG,SAASA,SAAT,CAAmBC,SAAnB,EAA8BF,iBAA9B,EAAiD;AAC/D,MAAIvB,IAAI,GAAGh5B,MAAM,CAACy6B,SAAD,CAAjB;;AAEA,MAAI,CAACF,iBAAL,EAAwB;AACtB,WAAOvB,IAAP;AACD;;AAED,MAAIyB,SAAS,KAAKF,iBAAlB,EAAqC;AACnC,WAAOvB,IAAP;AACD;;AAED,MAAIzzB,GAAG,GAAGyzB,IAAI,CAACtkB,UAAL,CAAgBnP,GAAhB,GAAsBg1B,iBAAiB,CAACH,SAAlD;AACA,MAAIz0B,IAAI,GAAGqzB,IAAI,CAACtkB,UAAL,CAAgB/O,IAAhB,GAAuB40B,iBAAiB,CAACJ,UAApD;AACA,MAAIz0B,MAAM,GAAGH,GAAG,GAAGg1B,iBAAiB,CAACrmB,YAArC;AACA,MAAIzO,KAAK,GAAGE,IAAI,GAAG40B,iBAAiB,CAACpmB,WAArC;AACA,MAAIO,UAAU,GAAG;AACfnP,IAAAA,GAAG,EAAEA,GADU;AAEfE,IAAAA,KAAK,EAAEA,KAFQ;AAGfC,IAAAA,MAAM,EAAEA,MAHO;AAIfC,IAAAA,IAAI,EAAEA;AAJS,GAAjB;AAMA,MAAIkH,SAAS,GAAGjN,MAAM,CAAC8U,UAAD,EAAaskB,IAAI,CAAC1iB,MAAlB,CAAtB;AACA,MAAI/E,MAAM,GAAGxR,SAAS,CAAC;AACrB8M,IAAAA,SAAS,EAAEA,SADU;AAErBwJ,IAAAA,MAAM,EAAE2iB,IAAI,CAAC3iB,MAFQ;AAGrBC,IAAAA,MAAM,EAAE0iB,IAAI,CAAC1iB,MAHQ;AAIrBC,IAAAA,OAAO,EAAEyiB,IAAI,CAACziB;AAJO,GAAD,CAAtB;AAMA,SAAOhF,MAAP;AACD,CA7BD;;AA+BA,IAAIoa,YAAY,GAAI,UAAUlnB,IAAV,EAAgB;AAClC,MAAIoxB,GAAG,GAAGpxB,IAAI,CAACoxB,GAAf;AAAA,MACI7rB,UAAU,GAAGvF,IAAI,CAACuF,UADtB;AAAA,MAEIrJ,GAAG,GAAG8D,IAAI,CAAC9D,GAFf;AAAA,MAGImsB,YAAY,GAAGroB,IAAI,CAACqoB,YAHxB;AAAA,MAIIxhB,SAAS,GAAG7G,IAAI,CAAC6G,SAJrB;AAAA,MAKIovB,cAAc,GAAGj2B,IAAI,CAACi2B,cAL1B;AAAA,MAMIjtB,gBAAgB,GAAGhJ,IAAI,CAACgJ,gBAN5B;AAAA,MAOI1G,iBAAiB,GAAGtC,IAAI,CAACsC,iBAP7B;AAQA,MAAIwzB,iBAAiB,GAAG55B,GAAG,CAAC45B,iBAA5B;AACA,MAAIhpB,MAAM,GAAGipB,SAAS,CAAC3E,GAAD,EAAM0E,iBAAN,CAAtB;AACA,MAAIrzB,IAAI,GAAGpH,UAAU,CAACyR,MAAD,EAASub,YAAT,CAArB;;AAEA,MAAIhoB,OAAO,GAAG,YAAY;AACxB,QAAI,CAACy1B,iBAAL,EAAwB;AACtB,aAAO,IAAP;AACD;;AAED,QAAI9lB,WAAW,GAAGzU,MAAM,CAACu6B,iBAAD,CAAxB;AACA,QAAI/lB,UAAU,GAAG;AACfN,MAAAA,YAAY,EAAEqmB,iBAAiB,CAACrmB,YADjB;AAEfC,MAAAA,WAAW,EAAEomB,iBAAiB,CAACpmB;AAFhB,KAAjB;AAIA,WAAO;AACL5C,MAAAA,MAAM,EAAEkD,WADH;AAELvN,MAAAA,IAAI,EAAEpH,UAAU,CAAC2U,WAAD,EAAcqY,YAAd,CAFX;AAGLzmB,MAAAA,MAAM,EAAE6zB,WAAW,CAACK,iBAAD,CAHd;AAIL/lB,MAAAA,UAAU,EAAEA,UAJP;AAKLzN,MAAAA,iBAAiB,EAAEA;AALd,KAAP;AAOD,GAjBa,EAAd;;AAmBA,MAAIgJ,SAAS,GAAGuE,qBAAqB,CAAC;AACpCtK,IAAAA,UAAU,EAAEA,UADwB;AAEpC/B,IAAAA,SAAS,EAAE,CAACyyB,cAFwB;AAGpCjtB,IAAAA,gBAAgB,EAAEA,gBAHkB;AAIpC8G,IAAAA,aAAa,EAAE5T,GAAG,CAAC4T,aAJiB;AAKpCjJ,IAAAA,SAAS,EAAEA,SALyB;AAMpCiG,IAAAA,MAAM,EAAEA,MAN4B;AAOpCrK,IAAAA,IAAI,EAAEA,IAP8B;AAQpCpC,IAAAA,OAAO,EAAEA;AAR2B,GAAD,CAArC;AAUA,SAAOiL,SAAP;AACD,CA3CD;;AA6CA,SAAS+b,kBAAT,CAA4B/Z,WAA5B,EAAyCjP,EAAzC,EAA6C;AAC3C,MAAI,CAACiP,WAAL,EAAkB;AAChB,WAAOjP,EAAE,EAAT;AACD;;AAED,MAAI0U,IAAI,GAAGzF,WAAW,CAACpJ,KAAZ,CAAkBgyB,OAA7B;AACA5oB,EAAAA,WAAW,CAACpJ,KAAZ,CAAkBgyB,OAAlB,GAA4B,MAA5B;AACA,MAAIr1B,MAAM,GAAGxC,EAAE,EAAf;AACAiP,EAAAA,WAAW,CAACpJ,KAAZ,CAAkBgyB,OAAlB,GAA4BnjB,IAA5B;AACA,SAAOlS,MAAP;AACD;;AAED,IAAIs1B,SAAS,GAAG;AACdC,EAAAA,OAAO,EAAE;AADK,CAAhB;AAGA,IAAIC,OAAO,GAAG;AACZD,EAAAA,OAAO,EAAE;AADG,CAAd;;AAGA,IAAIE,kBAAkB,GAAI,UAAUlP,OAAV,EAAmB;AAC3C,SAAOA,OAAO,CAAC7H,wBAAR,GAAmC4W,SAAnC,GAA+CE,OAAtD;AACD,CAFD;;AAIA,SAASE,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,MAAI31B,MAAM,GAAGxG,UAAU,CAACm8B,OAAD,CAAvB;AACA,GAAC31B,MAAD,GAAU5E,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iCAAR,CAAjD,GAA8FA,SAAS,CAAC,KAAD,CAAjH,GAA2H,KAAK,CAAhI;AACA,SAAOmG,MAAP;AACD;;AAED,IAAI41B,4BAA4B,GAAG,SAASA,4BAAT,CAAsCvnB,QAAtC,EAAgD;AACjF,SAAOA,QAAQ,IAAIA,QAAQ,CAAChT,GAAT,CAAa45B,iBAAzB,IAA8C,IAArD;AACD,CAFD;;AAIA,SAASY,8BAAT,CAAwC54B,IAAxC,EAA8C;AAC5C,MAAI64B,gBAAgB,GAAGv8B,MAAM,CAAC,IAAD,CAA7B;AACA,MAAI65B,UAAU,GAAGsC,kBAAkB,CAACxE,UAAD,CAAnC;AACA,MAAI7S,OAAO,GAAG+U,UAAU,CAAC/U,OAAzB;AACA,MAAI0X,WAAW,GAAGtD,WAAW,CAACx1B,IAAD,CAA7B;AACA,MAAIyH,UAAU,GAAGhL,OAAO,CAAC,YAAY;AACnC,WAAO;AACLiL,MAAAA,EAAE,EAAE1H,IAAI,CAAC4G,WADJ;AAEL4V,MAAAA,IAAI,EAAExc,IAAI,CAACwc;AAFN,KAAP;AAID,GALuB,EAKrB,CAACxc,IAAI,CAAC4G,WAAN,EAAmB5G,IAAI,CAACwc,IAAxB,CALqB,CAAxB;AAMA,MAAIuc,sBAAsB,GAAGz8B,MAAM,CAACmL,UAAD,CAAnC;AACA,MAAIuxB,oBAAoB,GAAGv8B,OAAO,CAAC,YAAY;AAC7C,WAAOkB,UAAU,CAAC,UAAU2D,CAAV,EAAaC,CAAb,EAAgB;AAChC,OAACs3B,gBAAgB,CAACrzB,OAAlB,GAA4BrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAAxI,GAAkJ,KAAK,CAAvJ;AACA,UAAIkH,MAAM,GAAG;AACXxC,QAAAA,CAAC,EAAEA,CADQ;AAEXC,QAAAA,CAAC,EAAEA;AAFQ,OAAb;AAIA6f,MAAAA,OAAO,CAAChB,qBAAR,CAA8B3Y,UAAU,CAACC,EAAzC,EAA6C5D,MAA7C;AACD,KAPgB,CAAjB;AAQD,GATiC,EAS/B,CAAC2D,UAAU,CAACC,EAAZ,EAAgB0Z,OAAhB,CAT+B,CAAlC;AAUA,MAAI6X,gBAAgB,GAAGv8B,WAAW,CAAC,YAAY;AAC7C,QAAI0U,QAAQ,GAAGynB,gBAAgB,CAACrzB,OAAhC;;AAEA,QAAI,CAAC4L,QAAD,IAAa,CAACA,QAAQ,CAAChT,GAAT,CAAa45B,iBAA/B,EAAkD;AAChD,aAAO32B,MAAP;AACD;;AAED,WAAOs2B,WAAW,CAACvmB,QAAQ,CAAChT,GAAT,CAAa45B,iBAAd,CAAlB;AACD,GARiC,EAQ/B,EAR+B,CAAlC;AASA,MAAIkB,YAAY,GAAGx8B,WAAW,CAAC,YAAY;AACzC,QAAIoH,MAAM,GAAGm1B,gBAAgB,EAA7B;AACAD,IAAAA,oBAAoB,CAACl1B,MAAM,CAACxC,CAAR,EAAWwC,MAAM,CAACvC,CAAlB,CAApB;AACD,GAH6B,EAG3B,CAAC03B,gBAAD,EAAmBD,oBAAnB,CAH2B,CAA9B;AAIA,MAAIG,oBAAoB,GAAG18B,OAAO,CAAC,YAAY;AAC7C,WAAOsB,OAAO,CAACm7B,YAAD,CAAd;AACD,GAFiC,EAE/B,CAACA,YAAD,CAF+B,CAAlC;AAGA,MAAIE,eAAe,GAAG18B,WAAW,CAAC,YAAY;AAC5C,QAAI0U,QAAQ,GAAGynB,gBAAgB,CAACrzB,OAAhC;AACA,QAAIjD,OAAO,GAAGo2B,4BAA4B,CAACvnB,QAAD,CAA1C;AACA,MAAEA,QAAQ,IAAI7O,OAAd,IAAyBpE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAA9I,GAAwJ,KAAK,CAA7J;AACA,QAAI0sB,OAAO,GAAGlY,QAAQ,CAACoQ,aAAvB;;AAEA,QAAI8H,OAAO,CAAC7H,wBAAZ,EAAsC;AACpCyX,MAAAA,YAAY;AACZ;AACD;;AAEDC,IAAAA,oBAAoB;AACrB,GAZgC,EAY9B,CAACA,oBAAD,EAAuBD,YAAvB,CAZ8B,CAAjC;AAaA,MAAI1O,0BAA0B,GAAG9tB,WAAW,CAAC,UAAU6tB,YAAV,EAAwBjB,OAAxB,EAAiC;AAC5E,KAAC,CAACuP,gBAAgB,CAACrzB,OAAnB,GAA6BrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sDAAR,CAAjD,GAAmHA,SAAS,CAAC,KAAD,CAAzJ,GAAmK,KAAK,CAAxK;AACA,QAAIqJ,QAAQ,GAAG6yB,WAAW,CAACtzB,OAA3B;AACA,QAAI8tB,GAAG,GAAGrtB,QAAQ,CAACozB,eAAT,EAAV;AACA,KAAC/F,GAAD,GAAOn1B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wCAAR,CAAjD,GAAqGA,SAAS,CAAC,KAAD,CAArH,GAA+H,KAAK,CAApI;AACA,QAAIwB,GAAG,GAAG25B,MAAM,CAACzE,GAAD,CAAhB;AACA,QAAIliB,QAAQ,GAAG;AACbkiB,MAAAA,GAAG,EAAEA,GADQ;AAEb7rB,MAAAA,UAAU,EAAEA,UAFC;AAGbrJ,MAAAA,GAAG,EAAEA,GAHQ;AAIbojB,MAAAA,aAAa,EAAE8H;AAJF,KAAf;AAMAuP,IAAAA,gBAAgB,CAACrzB,OAAjB,GAA2B4L,QAA3B;AACA,QAAI5D,SAAS,GAAG4b,YAAY,CAAC;AAC3BkK,MAAAA,GAAG,EAAEA,GADsB;AAE3B7rB,MAAAA,UAAU,EAAEA,UAFe;AAG3BrJ,MAAAA,GAAG,EAAEA,GAHsB;AAI3BmsB,MAAAA,YAAY,EAAEA,YAJa;AAK3BxhB,MAAAA,SAAS,EAAE9C,QAAQ,CAAC8C,SALO;AAM3BovB,MAAAA,cAAc,EAAElyB,QAAQ,CAACkyB,cANE;AAO3BjtB,MAAAA,gBAAgB,EAAEjF,QAAQ,CAACiF,gBAPA;AAQ3B1G,MAAAA,iBAAiB,EAAE,CAACyB,QAAQ,CAACqzB;AARF,KAAD,CAA5B;;AAWA,QAAIl7B,GAAG,CAAC45B,iBAAR,EAA2B;AACzB55B,MAAAA,GAAG,CAAC45B,iBAAJ,CAAsBn3B,gBAAtB,CAAuC,QAAvC,EAAiDu4B,eAAjD,EAAkEZ,kBAAkB,CAACpnB,QAAQ,CAACoQ,aAAV,CAApF;;AAEA,UAAIrjB,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCo5B,QAAAA,8BAA8B,CAACr5B,GAAG,CAAC45B,iBAAL,CAA9B;AACD;AACF;;AAED,WAAOxqB,SAAP;AACD,GAjC2C,EAiCzC,CAAC/F,UAAD,EAAa2xB,eAAb,EAA8BN,WAA9B,CAjCyC,CAA5C;AAkCA,MAAItP,SAAS,GAAG9sB,WAAW,CAAC,UAAU4sB,OAAV,EAAmB;AAC7C,QAAIlY,QAAQ,GAAGynB,gBAAgB,CAACrzB,OAAhC;AACA,QAAIjD,OAAO,GAAGo2B,4BAA4B,CAACvnB,QAAD,CAA1C;AACA,MAAEA,QAAQ,IAAI7O,OAAd,IAAyBpE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iFAAR,CAAjD,GAA8IA,SAAS,CAAC,KAAD,CAAhL,GAA0L,KAAK,CAA/L;AACA,QAAIqJ,QAAQ,GAAG6yB,WAAW,CAACtzB,OAA3B;;AAEA,QAAIggB,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,aAAO4D,YAAY,CAAC;AAClBkK,QAAAA,GAAG,EAAEliB,QAAQ,CAACkiB,GADI;AAElB7rB,QAAAA,UAAU,EAAE2J,QAAQ,CAAC3J,UAFH;AAGlBrJ,QAAAA,GAAG,EAAEgT,QAAQ,CAAChT,GAHI;AAIlBmsB,QAAAA,YAAY,EAAElpB,MAJI;AAKlB0H,QAAAA,SAAS,EAAE9C,QAAQ,CAAC8C,SALF;AAMlBovB,QAAAA,cAAc,EAAElyB,QAAQ,CAACkyB,cANP;AAOlBjtB,QAAAA,gBAAgB,EAAEjF,QAAQ,CAACiF,gBAPT;AAQlB1G,QAAAA,iBAAiB,EAAE,CAACyB,QAAQ,CAACqzB;AARX,OAAD,CAAnB;AAUD,KAXD;;AAaA,QAAI,CAAChQ,OAAO,CAACC,kBAAb,EAAiC;AAC/B,aAAO/D,OAAO,EAAd;AACD;;AAED,WAAO+D,kBAAkB,CAACtjB,QAAQ,CAACszB,iBAAT,EAAD,EAA+B/T,OAA/B,CAAzB;AACD,GAxB0B,EAwBxB,CAACsT,WAAD,CAxBwB,CAA3B;AAyBA,MAAI3N,WAAW,GAAGzuB,WAAW,CAAC,YAAY;AACxC,QAAI0U,QAAQ,GAAGynB,gBAAgB,CAACrzB,OAAhC;AACA,KAAC4L,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAAxH,GAAkI,KAAK,CAAvI;AACA,QAAI2F,OAAO,GAAGo2B,4BAA4B,CAACvnB,QAAD,CAA1C;AACAynB,IAAAA,gBAAgB,CAACrzB,OAAjB,GAA2B,IAA3B;;AAEA,QAAI,CAACjD,OAAL,EAAc;AACZ;AACD;;AAED42B,IAAAA,oBAAoB,CAACzJ,MAArB;AACAntB,IAAAA,OAAO,CAACxB,mBAAR,CAA4B,QAA5B,EAAsCq4B,eAAtC,EAAuDZ,kBAAkB,CAACpnB,QAAQ,CAACoQ,aAAV,CAAzE;AACD,GAZ4B,EAY1B,CAAC4X,eAAD,EAAkBD,oBAAlB,CAZ0B,CAA7B;AAaA,MAAIr1B,MAAM,GAAGpH,WAAW,CAAC,UAAUwuB,MAAV,EAAkB;AACzC,QAAI9Z,QAAQ,GAAGynB,gBAAgB,CAACrzB,OAAhC;AACA,KAAC4L,QAAD,GAAYjT,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qCAAR,CAAjD,GAAkGA,SAAS,CAAC,KAAD,CAAvH,GAAiI,KAAK,CAAtI;AACA,QAAI2F,OAAO,GAAGo2B,4BAA4B,CAACvnB,QAAD,CAA1C;AACA,KAAC7O,OAAD,GAAWpE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sDAAR,CAAjD,GAAmHA,SAAS,CAAC,KAAD,CAAvI,GAAiJ,KAAK,CAAtJ;AACA2F,IAAAA,OAAO,CAACs1B,SAAR,IAAqB3M,MAAM,CAAC3pB,CAA5B;AACAgB,IAAAA,OAAO,CAACq1B,UAAR,IAAsB1M,MAAM,CAAC5pB,CAA7B;AACD,GAPuB,EAOrB,EAPqB,CAAxB;AAQA,MAAIqnB,SAAS,GAAGlsB,OAAO,CAAC,YAAY;AAClC,WAAO;AACL+tB,MAAAA,0BAA0B,EAAEA,0BADvB;AAELhB,MAAAA,SAAS,EAAEA,SAFN;AAGL2B,MAAAA,WAAW,EAAEA,WAHR;AAILrnB,MAAAA,MAAM,EAAEA;AAJH,KAAP;AAMD,GAPsB,EAOpB,CAACqnB,WAAD,EAAcX,0BAAd,EAA0ChB,SAA1C,EAAqD1lB,MAArD,CAPoB,CAAvB;AAQAuuB,EAAAA,yBAAyB,CAAC,YAAY;AACpC0G,IAAAA,sBAAsB,CAACvzB,OAAvB,GAAiCiC,UAAjC;AACA2Z,IAAAA,OAAO,CAAC2J,iBAAR,CAA0BtjB,UAA1B,EAAsCkhB,SAAtC;AACA,WAAO,YAAY;AACjB,UAAIkQ,gBAAgB,CAACrzB,OAArB,EAA8B;AAC5BrH,QAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,4EAAD,CAA/C,GAAgI,KAAK,CAArI;AACAmsB,QAAAA,WAAW;AACZ;;AAED/J,MAAAA,OAAO,CAAC6J,mBAAR,CAA4BxjB,UAA5B;AACD,KAPD;AAQD,GAXwB,EAWtB,CAACkhB,SAAD,EAAYlhB,UAAZ,EAAwB0jB,WAAxB,EAAqC/J,OAArC,CAXsB,CAAzB;AAYAiR,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI,CAACwG,gBAAgB,CAACrzB,OAAtB,EAA+B;AAC7B;AACD;;AAED4b,IAAAA,OAAO,CAACf,wBAAR,CAAiC0Y,sBAAsB,CAACvzB,OAAvB,CAA+BkC,EAAhE,EAAoE,CAAC1H,IAAI,CAACm4B,cAA1E;AACD,GANwB,EAMtB,CAACn4B,IAAI,CAACm4B,cAAN,EAAsB/W,OAAtB,CANsB,CAAzB;AAOAiR,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI,CAACwG,gBAAgB,CAACrzB,OAAtB,EAA+B;AAC7B;AACD;;AAED4b,IAAAA,OAAO,CAACd,+BAAR,CAAwCyY,sBAAsB,CAACvzB,OAAvB,CAA+BkC,EAAvE,EAA2E1H,IAAI,CAACkL,gBAAhF;AACD,GANwB,EAMtB,CAAClL,IAAI,CAACkL,gBAAN,EAAwBkW,OAAxB,CANsB,CAAzB;AAOD;;AAED,SAASoY,IAAT,GAAgB,CAAE;;AAElB,IAAIC,KAAK,GAAG;AACVp2B,EAAAA,KAAK,EAAE,CADG;AAEVC,EAAAA,MAAM,EAAE,CAFE;AAGVwQ,EAAAA,MAAM,EAAEjQ;AAHE,CAAZ;;AAMA,IAAI61B,OAAO,GAAG,SAASA,OAAT,CAAiBx3B,IAAjB,EAAuB;AACnC,MAAIy3B,sBAAsB,GAAGz3B,IAAI,CAACy3B,sBAAlC;AAAA,MACInqB,WAAW,GAAGtN,IAAI,CAACsN,WADvB;AAAA,MAEIoqB,OAAO,GAAG13B,IAAI,CAAC03B,OAFnB;;AAIA,MAAID,sBAAJ,EAA4B;AAC1B,WAAOF,KAAP;AACD;;AAED,MAAIG,OAAO,KAAK,OAAhB,EAAyB;AACvB,WAAOH,KAAP;AACD;;AAED,SAAO;AACLn2B,IAAAA,MAAM,EAAEkM,WAAW,CAACR,MAAZ,CAAmB1E,SAAnB,CAA6BhH,MADhC;AAELD,IAAAA,KAAK,EAAEmM,WAAW,CAACR,MAAZ,CAAmB1E,SAAnB,CAA6BjH,KAF/B;AAGLyQ,IAAAA,MAAM,EAAEtE,WAAW,CAACR,MAAZ,CAAmB8E;AAHtB,GAAP;AAKD,CAlBD;;AAoBA,IAAI+lB,QAAQ,GAAG,SAASA,QAAT,CAAkBhvB,KAAlB,EAAyB;AACtC,MAAI8uB,sBAAsB,GAAG9uB,KAAK,CAAC8uB,sBAAnC;AAAA,MACInqB,WAAW,GAAG3E,KAAK,CAAC2E,WADxB;AAAA,MAEIoqB,OAAO,GAAG/uB,KAAK,CAAC+uB,OAFpB;AAGA,MAAI3wB,IAAI,GAAGywB,OAAO,CAAC;AACjBC,IAAAA,sBAAsB,EAAEA,sBADP;AAEjBnqB,IAAAA,WAAW,EAAEA,WAFI;AAGjBoqB,IAAAA,OAAO,EAAEA;AAHQ,GAAD,CAAlB;AAKA,SAAO;AACLxB,IAAAA,OAAO,EAAE5oB,WAAW,CAAC4oB,OADhB;AAEL0B,IAAAA,SAAS,EAAE,YAFN;AAGLz2B,IAAAA,KAAK,EAAE4F,IAAI,CAAC5F,KAHP;AAILC,IAAAA,MAAM,EAAE2F,IAAI,CAAC3F,MAJR;AAKLy2B,IAAAA,SAAS,EAAE9wB,IAAI,CAAC6K,MAAL,CAAY9Q,GALlB;AAMLg3B,IAAAA,WAAW,EAAE/wB,IAAI,CAAC6K,MAAL,CAAY5Q,KANpB;AAOL+2B,IAAAA,YAAY,EAAEhxB,IAAI,CAAC6K,MAAL,CAAY3Q,MAPrB;AAQL+2B,IAAAA,UAAU,EAAEjxB,IAAI,CAAC6K,MAAL,CAAY1Q,IARnB;AASL+2B,IAAAA,UAAU,EAAE,GATP;AAULC,IAAAA,QAAQ,EAAE,GAVL;AAWLC,IAAAA,aAAa,EAAE,MAXV;AAYLpI,IAAAA,UAAU,EAAEzP,WAAW,CAAChT;AAZnB,GAAP;AAcD,CAvBD;;AAyBA,SAAS8qB,WAAT,CAAqBp5B,KAArB,EAA4B;AAC1B,MAAIq5B,mBAAmB,GAAGj+B,MAAM,CAAC,IAAD,CAAhC;AACA,MAAIk+B,wBAAwB,GAAG99B,WAAW,CAAC,YAAY;AACrD,QAAI,CAAC69B,mBAAmB,CAAC/0B,OAAzB,EAAkC;AAChC;AACD;;AAED6f,IAAAA,YAAY,CAACkV,mBAAmB,CAAC/0B,OAArB,CAAZ;AACA+0B,IAAAA,mBAAmB,CAAC/0B,OAApB,GAA8B,IAA9B;AACD,GAPyC,EAOvC,EAPuC,CAA1C;AAQA,MAAIo0B,OAAO,GAAG14B,KAAK,CAAC04B,OAApB;AAAA,MACIa,eAAe,GAAGv5B,KAAK,CAACu5B,eAD5B;AAAA,MAEIC,OAAO,GAAGx5B,KAAK,CAACw5B,OAFpB;AAAA,MAGIlH,YAAY,GAAGtyB,KAAK,CAACsyB,YAHzB;;AAKA,MAAImH,SAAS,GAAGn+B,QAAQ,CAAC0E,KAAK,CAAC04B,OAAN,KAAkB,MAAnB,CAAxB;AAAA,MACID,sBAAsB,GAAGgB,SAAS,CAAC,CAAD,CADtC;AAAA,MAEIC,yBAAyB,GAAGD,SAAS,CAAC,CAAD,CAFzC;;AAIAt+B,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAACs9B,sBAAL,EAA6B;AAC3B,aAAOH,IAAP;AACD;;AAED,QAAII,OAAO,KAAK,MAAhB,EAAwB;AACtBY,MAAAA,wBAAwB;AACxBI,MAAAA,yBAAyB,CAAC,KAAD,CAAzB;AACA,aAAOpB,IAAP;AACD;;AAED,QAAIe,mBAAmB,CAAC/0B,OAAxB,EAAiC;AAC/B,aAAOg0B,IAAP;AACD;;AAEDe,IAAAA,mBAAmB,CAAC/0B,OAApB,GAA8B4f,UAAU,CAAC,YAAY;AACnDmV,MAAAA,mBAAmB,CAAC/0B,OAApB,GAA8B,IAA9B;AACAo1B,MAAAA,yBAAyB,CAAC,KAAD,CAAzB;AACD,KAHuC,CAAxC;AAIA,WAAOJ,wBAAP;AACD,GApBQ,EAoBN,CAACZ,OAAD,EAAUD,sBAAV,EAAkCa,wBAAlC,CApBM,CAAT;AAqBA,MAAIK,eAAe,GAAGn+B,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AACjD,QAAIA,KAAK,CAACC,YAAN,KAAuB,QAA3B,EAAqC;AACnC;AACD;;AAEDN,IAAAA,eAAe;;AAEf,QAAIb,OAAO,KAAK,OAAhB,EAAyB;AACvBc,MAAAA,OAAO;AACR;AACF,GAVgC,EAU9B,CAACd,OAAD,EAAUc,OAAV,EAAmBD,eAAnB,CAV8B,CAAjC;AAWA,MAAIr0B,KAAK,GAAGyzB,QAAQ,CAAC;AACnBF,IAAAA,sBAAsB,EAAEA,sBADL;AAEnBC,IAAAA,OAAO,EAAE14B,KAAK,CAAC04B,OAFI;AAGnBpqB,IAAAA,WAAW,EAAEtO,KAAK,CAACsO;AAHA,GAAD,CAApB;AAKA,SAAOrT,KAAK,CAACw2B,aAAN,CAAoBzxB,KAAK,CAACsO,WAAN,CAAkBwrB,OAAtC,EAA+C;AACpD50B,IAAAA,KAAK,EAAEA,KAD6C;AAEpD,4CAAwCotB,YAFY;AAGpDiH,IAAAA,eAAe,EAAEI,eAHmC;AAIpDvH,IAAAA,GAAG,EAAEpyB,KAAK,CAAC+5B;AAJyC,GAA/C,CAAP;AAMD;;AAED,IAAIC,aAAa,GAAG/+B,KAAK,CAACg/B,IAAN,CAAWb,WAAX,CAApB;AAEA,IAAIc,gBAAgB,GAAGj/B,KAAK,CAACu3B,aAAN,CAAoB,IAApB,CAAvB;;AAEA,IAAI2H,eAAe,GAAI,UAAU3I,EAAV,EAAc;AACnC,SAAOA,EAAE,IAAIA,EAAE,CAAC4I,aAAT,GAAyB5I,EAAE,CAAC4I,aAAH,CAAiBC,WAA1C,GAAwDr8B,MAA/D;AACD,CAFD;;AAIA,SAASs8B,aAAT,CAAuB9I,EAAvB,EAA2B;AACzB,SAAOA,EAAE,YAAY2I,eAAe,CAAC3I,EAAD,CAAf,CAAoB+I,WAAzC;AACD;;AAED,SAASC,oBAAT,CAA8BhJ,EAA9B,EAAkC;AAChC,IAAEA,EAAE,IAAI8I,aAAa,CAAC9I,EAAD,CAArB,IAA6Bv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,iPAAR,CAAjD,GAA8SA,SAAS,CAAC,KAAD,CAApV,GAA8V,KAAK,CAAnW;AACD;;AAED,SAAS++B,aAAT,CAAuBz6B,KAAvB,EAA8B;AAC5B,GAACA,KAAK,CAAC0F,WAAP,GAAqBzI,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,yCAAR,CAAjD,GAAsGA,SAAS,CAAC,KAAD,CAApI,GAA8I,KAAK,CAAnJ;AACA,IAAE,OAAOsE,KAAK,CAACi3B,cAAb,KAAgC,SAAlC,IAA+Ch6B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kCAAR,CAAjD,GAA+FA,SAAS,CAAC,KAAD,CAAvJ,GAAiK,KAAK,CAAtK;AACA,IAAE,OAAOsE,KAAK,CAACgK,gBAAb,KAAkC,SAApC,IAAiD/M,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAR,CAAjD,GAAiGA,SAAS,CAAC,KAAD,CAA3J,GAAqK,KAAK,CAA1K;AACA,IAAE,OAAOsE,KAAK,CAACo4B,uBAAb,KAAyC,SAA3C,IAAwDn7B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,2CAAR,CAAjD,GAAwGA,SAAS,CAAC,KAAD,CAAzK,GAAmL,KAAK,CAAxL;AACD;;AAED,SAASg/B,mBAAT,CAA6B16B,KAA7B,EAAoC26B,aAApC,EAAmD;AACjD,MAAI,CAAC36B,KAAK,CAACsO,WAAX,EAAwB;AACtB;AACD;;AAED,MAAIqsB,aAAJ,EAAmB;AACjB;AACD;;AAED19B,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,iDAAiDkC,KAAK,CAAC0F,WAAvD,GAAqE,8QAAtE,CAA/C,GAAuY,KAAK,CAA5Y;AACD;;AAED,SAASk1B,aAAT,CAAuB55B,IAAvB,EAA6B;AAC3B,MAAIhB,KAAK,GAAGgB,IAAI,CAAChB,KAAjB;AAAA,MACIm4B,eAAe,GAAGn3B,IAAI,CAACm3B,eAD3B;AAAA,MAEIE,iBAAiB,GAAGr3B,IAAI,CAACq3B,iBAF7B;AAGAl9B,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI8B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCs9B,MAAAA,aAAa,CAACz6B,KAAD,CAAb;AACAw6B,MAAAA,oBAAoB,CAACrC,eAAe,EAAhB,CAApB;AACAuC,MAAAA,mBAAmB,CAAC16B,KAAD,EAAQq4B,iBAAiB,EAAzB,CAAnB;AACD;AACF,GANQ,CAAT;AAOD;;AAED,IAAIwC,YAAY,GAAG,UAAUC,oBAAV,EAAgC;AACjDr/B,EAAAA,cAAc,CAACo/B,YAAD,EAAeC,oBAAf,CAAd;;AAEA,WAASD,YAAT,GAAwB;AACtB,QAAIn8B,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDN,IAAAA,KAAK,GAAGo8B,oBAAoB,CAAC77B,IAArB,CAA0Bd,KAA1B,CAAgC28B,oBAAhC,EAAsD,CAAC,IAAD,EAAO57B,MAAP,CAAcJ,IAAd,CAAtD,KAA8E,IAAtF;AACAJ,IAAAA,KAAK,CAAC8V,KAAN,GAAc;AACZnJ,MAAAA,SAAS,EAAE7C,OAAO,CAAC9J,KAAK,CAACsB,KAAN,CAAY+6B,EAAb,CADN;AAEZ3V,MAAAA,IAAI,EAAE1mB,KAAK,CAACsB,KAAN,CAAY+6B,EAFN;AAGZrC,MAAAA,OAAO,EAAEh6B,KAAK,CAACsB,KAAN,CAAY8L,aAAZ,IAA6BpN,KAAK,CAACsB,KAAN,CAAY+6B,EAAzC,GAA8C,MAA9C,GAAuD;AAHpD,KAAd;;AAMAr8B,IAAAA,KAAK,CAAC86B,OAAN,GAAgB,YAAY;AAC1B,UAAI96B,KAAK,CAAC8V,KAAN,CAAYkkB,OAAZ,KAAwB,OAA5B,EAAqC;AACnC;AACD;;AAEDh6B,MAAAA,KAAK,CAACa,QAAN,CAAe;AACb8L,QAAAA,SAAS,EAAE;AADE,OAAf;AAGD,KARD;;AAUA,WAAO3M,KAAP;AACD;;AAEDm8B,EAAAA,YAAY,CAACG,wBAAb,GAAwC,SAASA,wBAAT,CAAkCh7B,KAAlC,EAAyCwU,KAAzC,EAAgD;AACtF,QAAI,CAACxU,KAAK,CAAC8L,aAAX,EAA0B;AACxB,aAAO;AACLT,QAAAA,SAAS,EAAE7C,OAAO,CAACxI,KAAK,CAAC+6B,EAAP,CADb;AAEL3V,QAAAA,IAAI,EAAEplB,KAAK,CAAC+6B,EAFP;AAGLrC,QAAAA,OAAO,EAAE;AAHJ,OAAP;AAKD;;AAED,QAAI14B,KAAK,CAAC+6B,EAAV,EAAc;AACZ,aAAO;AACL1vB,QAAAA,SAAS,EAAE,IADN;AAEL+Z,QAAAA,IAAI,EAAEplB,KAAK,CAAC+6B,EAFP;AAGLrC,QAAAA,OAAO,EAAE;AAHJ,OAAP;AAKD;;AAED,QAAIlkB,KAAK,CAACnJ,SAAV,EAAqB;AACnB,aAAO;AACLA,QAAAA,SAAS,EAAE,IADN;AAEL+Z,QAAAA,IAAI,EAAE5Q,KAAK,CAAC4Q,IAFP;AAGLsT,QAAAA,OAAO,EAAE;AAHJ,OAAP;AAKD;;AAED,WAAO;AACLrtB,MAAAA,SAAS,EAAE,KADN;AAELqtB,MAAAA,OAAO,EAAE,OAFJ;AAGLtT,MAAAA,IAAI,EAAE;AAHD,KAAP;AAKD,GA9BD;;AAgCA,MAAI5lB,MAAM,GAAGq7B,YAAY,CAACp7B,SAA1B;;AAEAD,EAAAA,MAAM,CAACO,MAAP,GAAgB,SAASA,MAAT,GAAkB;AAChC,QAAI,CAAC,KAAKyU,KAAL,CAAWnJ,SAAhB,EAA2B;AACzB,aAAO,IAAP;AACD;;AAED,QAAI6H,QAAQ,GAAG;AACbsmB,MAAAA,OAAO,EAAE,KAAKA,OADD;AAEbpU,MAAAA,IAAI,EAAE,KAAK5Q,KAAL,CAAW4Q,IAFJ;AAGbsT,MAAAA,OAAO,EAAE,KAAKlkB,KAAL,CAAWkkB;AAHP,KAAf;AAKA,WAAO,KAAK14B,KAAL,CAAWC,QAAX,CAAoBiT,QAApB,CAAP;AACD,GAXD;;AAaA,SAAO2nB,YAAP;AACD,CA9EkB,CA8EjB5/B,KAAK,CAACggC,aA9EW,CAAnB;;AAgFA,SAASC,SAAT,CAAmBl7B,KAAnB,EAA0B;AACxB,MAAIi1B,UAAU,GAAG55B,UAAU,CAAC03B,UAAD,CAA3B;AACA,GAACkC,UAAD,GAAch4B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4BAAR,CAAjD,GAAyFA,SAAS,CAAC,KAAD,CAAhH,GAA0H,KAAK,CAA/H;AACA,MAAI42B,YAAY,GAAG2C,UAAU,CAAC/vB,KAA9B;AAAA,MACIyW,iBAAiB,GAAGsZ,UAAU,CAACtZ,iBADnC;AAEA,MAAIwf,YAAY,GAAG//B,MAAM,CAAC,IAAD,CAAzB;AACA,MAAIggC,cAAc,GAAGhgC,MAAM,CAAC,IAAD,CAA3B;AACA,MAAI6E,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MACIyF,WAAW,GAAG1F,KAAK,CAAC0F,WADxB;AAAA,MAEI4V,IAAI,GAAGtb,KAAK,CAACsb,IAFjB;AAAA,MAGIzT,SAAS,GAAG7H,KAAK,CAAC6H,SAHtB;AAAA,MAIIuwB,uBAAuB,GAAGp4B,KAAK,CAACo4B,uBAJpC;AAAA,MAKInB,cAAc,GAAGj3B,KAAK,CAACi3B,cAL3B;AAAA,MAMIjtB,gBAAgB,GAAGhK,KAAK,CAACgK,gBAN7B;AAAA,MAOIqxB,QAAQ,GAAGr7B,KAAK,CAACq7B,QAPrB;AAAA,MAQI9b,uBAAuB,GAAGvf,KAAK,CAACuf,uBARpC;AASA,MAAI4Y,eAAe,GAAG38B,WAAW,CAAC,YAAY;AAC5C,WAAO2/B,YAAY,CAAC72B,OAApB;AACD,GAFgC,EAE9B,EAF8B,CAAjC;AAGA,MAAI+zB,iBAAiB,GAAG78B,WAAW,CAAC,YAAY;AAC9C,WAAO4/B,cAAc,CAAC92B,OAAtB;AACD,GAFkC,EAEhC,EAFgC,CAAnC;AAGA,MAAIg3B,eAAe,GAAG9/B,WAAW,CAAC,UAAU+B,KAAV,EAAiB;AACjD49B,IAAAA,YAAY,CAAC72B,OAAb,GAAuB/G,KAAvB;AACD,GAFgC,EAE9B,EAF8B,CAAjC;AAGA,MAAIg+B,iBAAiB,GAAG//B,WAAW,CAAC,UAAU+B,KAAV,EAAiB;AACnD69B,IAAAA,cAAc,CAAC92B,OAAf,GAAyB/G,KAAzB;AACD,GAFkC,EAEhC,EAFgC,CAAnC;AAGA,MAAIi+B,0BAA0B,GAAGhgC,WAAW,CAAC,YAAY;AACvD,QAAImgB,iBAAiB,EAArB,EAAyB;AACvB4D,MAAAA,uBAAuB,CAAC;AACtB5O,QAAAA,SAAS,EAAEqY,kBAAkB;AADP,OAAD,CAAvB;AAGD;AACF,GAN2C,EAMzC,CAACrN,iBAAD,EAAoB4D,uBAApB,CANyC,CAA5C;AAOAmY,EAAAA,8BAA8B,CAAC;AAC7BhyB,IAAAA,WAAW,EAAEA,WADgB;AAE7B4V,IAAAA,IAAI,EAAEA,IAFuB;AAG7BzT,IAAAA,SAAS,EAAEA,SAHkB;AAI7BovB,IAAAA,cAAc,EAAEA,cAJa;AAK7BjtB,IAAAA,gBAAgB,EAAEA,gBALW;AAM7BouB,IAAAA,uBAAuB,EAAEA,uBANI;AAO7BD,IAAAA,eAAe,EAAEA,eAPY;AAQ7BE,IAAAA,iBAAiB,EAAEA;AARU,GAAD,CAA9B;AAUA,MAAI/pB,WAAW,GAAGrT,KAAK,CAACw2B,aAAN,CAAoBoJ,YAApB,EAAkC;AAClDE,IAAAA,EAAE,EAAE/6B,KAAK,CAACsO,WADwC;AAElDxC,IAAAA,aAAa,EAAE9L,KAAK,CAACy7B;AAF6B,GAAlC,EAGf,UAAUz6B,IAAV,EAAgB;AACjB,QAAIw4B,OAAO,GAAGx4B,IAAI,CAACw4B,OAAnB;AAAA,QACIpU,IAAI,GAAGpkB,IAAI,CAACokB,IADhB;AAAA,QAEIsT,OAAO,GAAG13B,IAAI,CAAC03B,OAFnB;AAGA,WAAOz9B,KAAK,CAACw2B,aAAN,CAAoBuI,aAApB,EAAmC;AACxC1rB,MAAAA,WAAW,EAAE8W,IAD2B;AAExCoU,MAAAA,OAAO,EAAEA,OAF+B;AAGxCO,MAAAA,QAAQ,EAAEwB,iBAH8B;AAIxC7C,MAAAA,OAAO,EAAEA,OAJ+B;AAKxCpG,MAAAA,YAAY,EAAEA,YAL0B;AAMxCiH,MAAAA,eAAe,EAAEiC;AANuB,KAAnC,CAAP;AAQD,GAfiB,CAAlB;AAgBA,MAAItoB,QAAQ,GAAG3X,OAAO,CAAC,YAAY;AACjC,WAAO;AACLw+B,MAAAA,QAAQ,EAAEuB,eADL;AAELhtB,MAAAA,WAAW,EAAEA,WAFR;AAGLotB,MAAAA,cAAc,EAAE;AACd,8CAAsCpJ;AADxB;AAHX,KAAP;AAOD,GARqB,EAQnB,CAAChkB,WAAD,EAAcgtB,eAAd,EAA+BhJ,YAA/B,CARmB,CAAtB;AASA,MAAIqJ,gBAAgB,GAAGpgC,OAAO,CAAC,YAAY;AACzC,WAAO;AACLmK,MAAAA,WAAW,EAAEA,WADR;AAEL4V,MAAAA,IAAI,EAAEA;AAFD,KAAP;AAID,GAL6B,EAK3B,CAAC5V,WAAD,EAAc4V,IAAd,CAL2B,CAA9B;AAMAsf,EAAAA,aAAa,CAAC;AACZ56B,IAAAA,KAAK,EAAEA,KADK;AAEZm4B,IAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,aAAOgD,YAAY,CAAC72B,OAApB;AACD,KAJW;AAKZ+zB,IAAAA,iBAAiB,EAAE,SAASA,iBAAT,GAA6B;AAC9C,aAAO+C,cAAc,CAAC92B,OAAtB;AACD;AAPW,GAAD,CAAb;AASA,SAAOrJ,KAAK,CAACw2B,aAAN,CAAoByI,gBAAgB,CAACl+B,QAArC,EAA+C;AACpDuB,IAAAA,KAAK,EAAEo+B;AAD6C,GAA/C,EAEJ17B,QAAQ,CAACiT,QAAD,EAAWmoB,QAAX,CAFJ,CAAP;AAGD;;AAED,IAAIO,aAAa,GAAI,UAAUn0B,CAAV,EAAaC,CAAb,EAAgB;AACnC,SAAOD,CAAC,KAAKC,CAAb;AACD,CAFD;;AAIA,IAAIm0B,2BAA2B,GAAI,UAAUh6B,MAAV,EAAkB;AACnD,MAAI8D,OAAO,GAAG9D,MAAM,CAAC8D,OAArB;AAAA,MACIF,WAAW,GAAG5D,MAAM,CAAC4D,WADzB;;AAGA,MAAIA,WAAJ,EAAiB;AACf,WAAOA,WAAW,CAACC,WAAnB;AACD;;AAED,MAAIC,OAAJ,EAAa;AACX,WAAOA,OAAO,CAACD,WAAf;AACD;;AAED,SAAO,IAAP;AACD,CAbD;;AAeA,IAAIo2B,cAAc,GAAG,SAASA,cAAT,CAAwBxgB,IAAxB,EAA8B3G,QAA9B,EAAwC;AAC3D,SAAO2G,IAAI,KAAK3G,QAAQ,CAAC3Q,SAAT,CAAmBsX,IAAnC;AACD,CAFD;;AAIA,IAAIygB,YAAY,GAAG,SAASA,YAAT,CAAsBpnB,QAAtB,EAAgCD,UAAhC,EAA4C;AAC7D,SAAOA,UAAU,CAAChO,UAAX,CAAsBiO,QAAQ,CAACpN,SAAT,CAAmBf,EAAzC,CAAP;AACD,CAFD;;AAIA,IAAIw1B,mBAAmB,GAAG,SAASA,mBAAT,GAA+B;AACvD,MAAIhf,IAAI,GAAG;AACT1O,IAAAA,WAAW,EAAE,IADJ;AAETmtB,IAAAA,wBAAwB,EAAE,IAFjB;AAGTJ,IAAAA,QAAQ,EAAE;AACRY,MAAAA,cAAc,EAAE,KADR;AAERC,MAAAA,gBAAgB,EAAE,IAFV;AAGRC,MAAAA,oBAAoB,EAAE;AAHd;AAHD,GAAX;;AAUA,MAAIC,oBAAoB,GAAGphC,QAAQ,CAAC,EAAD,EAAKgiB,IAAL,EAAW;AAC5Cye,IAAAA,wBAAwB,EAAE;AADkB,GAAX,CAAnC;;AAIA,MAAIY,WAAW,GAAG5/B,UAAU,CAAC,UAAU+J,EAAV,EAAcy1B,cAAd,EAA8B/rB,QAA9B,EAAwCmrB,QAAxC,EAAkD;AAC7E,QAAIlT,MAAM,GAAGjY,QAAQ,CAAC3J,UAAT,CAAoBb,WAApB,KAAoCc,EAAjD;;AAEA,QAAI2hB,MAAJ,EAAY;AACV,aAAO;AACL7Z,QAAAA,WAAW,EAAE4B,QAAQ,CAAC5B,WADjB;AAELmtB,QAAAA,wBAAwB,EAAE,KAFrB;AAGLJ,QAAAA,QAAQ,EAAEA;AAHL,OAAP;AAKD;;AAED,QAAI,CAACY,cAAL,EAAqB;AACnB,aAAOjf,IAAP;AACD;;AAED,WAAO;AACL1O,MAAAA,WAAW,EAAE4B,QAAQ,CAAC5B,WADjB;AAELmtB,MAAAA,wBAAwB,EAAE,IAFrB;AAGLJ,MAAAA,QAAQ,EAAEA;AAHL,KAAP;AAKD,GApB2B,CAA5B;AAqBA,MAAIiB,WAAW,GAAG7/B,UAAU,CAAC,UAAU+J,EAAV,EAAcy1B,cAAd,EAA8B/rB,QAA9B,EAAwC;AACnE,QAAI5H,WAAW,GAAG4H,QAAQ,CAAC3J,UAAT,CAAoBC,EAAtC;AACA,QAAI2hB,MAAM,GAAGjY,QAAQ,CAAC3J,UAAT,CAAoBb,WAApB,KAAoCc,EAAjD;AACA,QAAI01B,gBAAgB,GAAGD,cAAc,GAAG3zB,WAAH,GAAiB,IAAtD;AACA,QAAI6zB,oBAAoB,GAAGhU,MAAM,GAAG7f,WAAH,GAAiB,IAAlD;AACA,WAAO;AACL2zB,MAAAA,cAAc,EAAEA,cADX;AAELC,MAAAA,gBAAgB,EAAEA,gBAFb;AAGLC,MAAAA,oBAAoB,EAAEA;AAHjB,KAAP;AAKD,GAV2B,CAA5B;;AAYA,MAAI/L,QAAQ,GAAG,SAASA,QAAT,CAAkB5b,KAAlB,EAAyB+nB,QAAzB,EAAmC;AAChD,QAAI/1B,EAAE,GAAG+1B,QAAQ,CAAC72B,WAAlB;AACA,QAAI4V,IAAI,GAAGihB,QAAQ,CAACjhB,IAApB;;AAEA,QAAI9G,KAAK,CAACiJ,UAAV,EAAsB;AACpB,UAAI9I,QAAQ,GAAGH,KAAK,CAACG,QAArB;;AAEA,UAAI,CAACmnB,cAAc,CAACxgB,IAAD,EAAO3G,QAAP,CAAnB,EAAqC;AACnC,eAAOqI,IAAP;AACD;;AAED,UAAI9M,QAAQ,GAAG6rB,YAAY,CAACpnB,QAAD,EAAWH,KAAK,CAACE,UAAjB,CAA3B;AACA,UAAIunB,cAAc,GAAG32B,iBAAiB,CAACkP,KAAK,CAACjP,MAAP,CAAjB,KAAoCiB,EAAzD;AACA,UAAI60B,QAAQ,GAAGiB,WAAW,CAAC91B,EAAD,EAAKy1B,cAAL,EAAqB/rB,QAArB,CAA1B;AACA,aAAOmsB,WAAW,CAAC71B,EAAD,EAAKy1B,cAAL,EAAqB/rB,QAArB,EAA+BmrB,QAA/B,CAAlB;AACD;;AAED,QAAI7mB,KAAK,CAACW,KAAN,KAAgB,gBAApB,EAAsC;AACpC,UAAI8H,SAAS,GAAGzI,KAAK,CAACyI,SAAtB;;AAEA,UAAI,CAAC6e,cAAc,CAACxgB,IAAD,EAAO2B,SAAS,CAACtI,QAAjB,CAAnB,EAA+C;AAC7C,eAAOqI,IAAP;AACD;;AAED,UAAIuR,SAAS,GAAGwN,YAAY,CAAC9e,SAAS,CAACtI,QAAX,EAAqBH,KAAK,CAACE,UAA3B,CAA5B;;AAEA,UAAI8nB,SAAS,GAAGF,WAAW,CAAC91B,EAAD,EAAKq1B,2BAA2B,CAAC5e,SAAS,CAACpb,MAAX,CAA3B,KAAkD2E,EAAvD,EAA2D+nB,SAA3D,CAA3B;;AAEA,aAAO8N,WAAW,CAAC71B,EAAD,EAAKlB,iBAAiB,CAAC2X,SAAS,CAAC1X,MAAX,CAAjB,KAAwCiB,EAA7C,EAAiD+nB,SAAjD,EAA4DiO,SAA5D,CAAlB;AACD;;AAED,QAAIhoB,KAAK,CAACW,KAAN,KAAgB,MAAhB,IAA0B,CAACX,KAAK,CAACyI,SAAjC,IAA8CzI,KAAK,CAAC0I,WAAxD,EAAqE;AACnE,aAAOkf,oBAAP;AACD;;AAED,QAAI5nB,KAAK,CAACW,KAAN,KAAgB,MAAhB,IAA0BX,KAAK,CAACyI,SAApC,EAA+C;AAC7C,UAAI4B,UAAU,GAAGrK,KAAK,CAACyI,SAAvB;;AAEA,UAAI,CAAC6e,cAAc,CAACxgB,IAAD,EAAOuD,UAAU,CAAClK,QAAlB,CAAnB,EAAgD;AAC9C,eAAOqI,IAAP;AACD;;AAED,UAAIyf,OAAO,GAAGn3B,iBAAiB,CAACuZ,UAAU,CAACtZ,MAAZ,CAAjB,KAAyCiB,EAAvD;AACA,UAAIk2B,YAAY,GAAGl0B,OAAO,CAACqW,UAAU,CAACtZ,MAAX,CAAkBC,KAAnB,CAA1B;;AAEA,UAAIgP,KAAK,CAAC0I,WAAV,EAAuB;AACrB,eAAOkf,oBAAP;AACD;;AAED,UAAIK,OAAJ,EAAa;AACX,eAAOC,YAAY,GAAG1f,IAAH,GAAUof,oBAA7B;AACD;;AAED,aAAOpf,IAAP;AACD;;AAED,WAAOA,IAAP;AACD,GAzDD;;AA2DA,SAAOoT,QAAP;AACD,CA5GD;;AA6GA,IAAIuM,kBAAkB,GAAG;AACvBpd,EAAAA,uBAAuB,EAAEA;AADF,CAAzB;AAGA,IAAIqd,YAAY,GAAG;AACjBthB,EAAAA,IAAI,EAAE,SADW;AAEjBzT,EAAAA,SAAS,EAAE,UAFM;AAGjBovB,EAAAA,cAAc,EAAE,KAHC;AAIjBjtB,EAAAA,gBAAgB,EAAE,KAJD;AAKjBouB,EAAAA,uBAAuB,EAAE;AALR,CAAnB;AAOA,IAAIyE,kBAAkB,GAAG5gC,OAAO,CAAC+/B,mBAAD,EAAsBW,kBAAtB,EAA0C,IAA1C,EAAgD;AAC9E9M,EAAAA,OAAO,EAAE0C,YADqE;AAE9EuK,EAAAA,IAAI,EAAE,IAFwE;AAG9EC,EAAAA,kBAAkB,EAAEnB;AAH0D,CAAhD,CAAP,CAItBV,SAJsB,CAAzB;AAKA2B,kBAAkB,CAACD,YAAnB,GAAkCA,YAAlC;AAEA,IAAII,aAAa,GAAG;AAClB9sB,EAAAA,QAAQ,EAAE,IADQ;AAElB2gB,EAAAA,aAAa,EAAE;AAFG,CAApB;;AAKA,IAAIoM,qBAAqB,GAAG,SAASA,qBAAT,CAA+BC,yBAA/B,EAA0Dvc,QAA1D,EAAoE;AAC9F,MAAIA,QAAJ,EAAc;AACZ,WAAOW,WAAW,CAACvB,IAAZ,CAAiBY,QAAQ,CAACc,QAA1B,CAAP;AACD;;AAED,MAAIyb,yBAAJ,EAA+B;AAC7B,WAAO5b,WAAW,CAACE,IAAnB;AACD;;AAED,SAAOF,WAAW,CAACC,KAAnB;AACD,CAVD;;AAYA,IAAI4b,kBAAkB,GAAG,SAASA,kBAAT,CAA4Btb,WAA5B,EAAyCub,eAAzC,EAA0D;AACjF,MAAI,CAACvb,WAAL,EAAkB;AAChB,WAAO,IAAP;AACD;;AAED,SAAOub,eAAe,GAAGz3B,OAAO,CAACob,OAAR,CAAgBhB,IAAnB,GAA0Bpa,OAAO,CAACob,OAAR,CAAgBC,SAAhE;AACD,CAND;;AAQA,IAAIqc,wBAAwB,GAAG,SAASA,wBAAT,CAAkCntB,QAAlC,EAA4C;AACzE,MAAIA,QAAQ,CAACrE,kBAAT,IAA+B,IAAnC,EAAyC;AACvC,WAAOqE,QAAQ,CAACrE,kBAAhB;AACD;;AAED,SAAOqE,QAAQ,CAAC8S,IAAT,KAAkB,MAAzB;AACD,CAND;;AAQA,SAASsa,gBAAT,CAA0BptB,QAA1B,EAAoC;AAClC,MAAI5D,SAAS,GAAG4D,QAAQ,CAAC5D,SAAzB;AACA,MAAI+K,GAAG,GAAG/K,SAAS,CAACwB,MAApB;AACA,MAAI1R,MAAM,GAAG8T,QAAQ,CAAC9T,MAAtB;AAAA,MACIwM,WAAW,GAAGsH,QAAQ,CAACtH,WAD3B;AAAA,MAEI+X,QAAQ,GAAGzQ,QAAQ,CAACyQ,QAFxB;AAGA,MAAIkB,WAAW,GAAGrZ,OAAO,CAACI,WAAD,CAAzB;AACA,MAAIkD,aAAa,GAAGuxB,wBAAwB,CAACntB,QAAD,CAA5C;AACA,MAAIktB,eAAe,GAAG50B,OAAO,CAACmY,QAAD,CAA7B;AACA,MAAI4c,SAAS,GAAGH,eAAe,GAAGxb,UAAU,CAAC7B,IAAX,CAAgB3jB,MAAhB,EAAwBylB,WAAxB,CAAH,GAA0CD,UAAU,CAACD,MAAX,CAAkBvlB,MAAlB,CAAzE;AACA,MAAI8I,KAAK,GAAG;AACVge,IAAAA,QAAQ,EAAE,OADA;AAEVphB,IAAAA,GAAG,EAAEuV,GAAG,CAAC1T,SAAJ,CAAc7B,GAFT;AAGVI,IAAAA,IAAI,EAAEmV,GAAG,CAAC1T,SAAJ,CAAczB,IAHV;AAIV02B,IAAAA,SAAS,EAAE,YAJD;AAKVz2B,IAAAA,KAAK,EAAEkV,GAAG,CAACjO,SAAJ,CAAcjH,KALX;AAMVC,IAAAA,MAAM,EAAEiV,GAAG,CAACjO,SAAJ,CAAchH,MANZ;AAOV2uB,IAAAA,UAAU,EAAEkM,qBAAqB,CAACnxB,aAAD,EAAgB6U,QAAhB,CAPvB;AAQV4c,IAAAA,SAAS,EAAEA,SARD;AASVxc,IAAAA,OAAO,EAAEoc,kBAAkB,CAACtb,WAAD,EAAcub,eAAd,CATjB;AAUVI,IAAAA,MAAM,EAAEJ,eAAe,GAAGJ,aAAa,CAACnM,aAAjB,GAAiCmM,aAAa,CAAC9sB,QAV5D;AAWVipB,IAAAA,aAAa,EAAE;AAXL,GAAZ;AAaA,SAAOj0B,KAAP;AACD;;AAED,SAASu4B,iBAAT,CAA2BC,SAA3B,EAAsC;AACpC,SAAO;AACLH,IAAAA,SAAS,EAAE3b,UAAU,CAACD,MAAX,CAAkB+b,SAAS,CAACthC,MAA5B,CADN;AAEL20B,IAAAA,UAAU,EAAE2M,SAAS,CAACC,yBAAV,GAAsC,IAAtC,GAA6C;AAFpD,GAAP;AAID;;AAED,SAASC,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,SAAOA,MAAM,CAACviB,IAAP,KAAgB,UAAhB,GAA6BgiB,gBAAgB,CAACO,MAAD,CAA7C,GAAwDJ,iBAAiB,CAACI,MAAD,CAAhF;AACD;;AAED,IAAIC,kBAAkB,GAAI,YAAY;AACpC,MAAIC,kBAAkB,GAAG,KAAzB;;AAEA,MAAIC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,KAAC,CAACD,kBAAF,GAAuB9gC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mDAAR,CAAjD,GAAgHA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACAqiC,IAAAA,kBAAkB,GAAG,IAArB;AACD,GAHD;;AAKA,MAAIE,SAAS,GAAG,SAASA,SAAT,GAAqB;AACnC,WAAOF,kBAAP;AACD,GAFD;;AAIA,MAAIG,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3BH,IAAAA,kBAAkB,GAAG,KAArB;AACD,GAFD;;AAIA,SAAO;AACLC,IAAAA,MAAM,EAAEA,MADH;AAELC,IAAAA,SAAS,EAAEA,SAFN;AAGLC,IAAAA,KAAK,EAAEA;AAHF,GAAP;AAKD,CArBD;;AAuBA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,MAApB,EAA4BC,WAA5B,EAAyC;AACxD,SAAOrjC,QAAQ,CAAC,EAAD,EAAKojC,MAAL,EAAaC,WAAb,CAAf;AACD,CAFD;;AAIA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoB9M,EAApB,EAAwB+M,QAAxB,EAAkCC,aAAlC,EAAiD;AAChED,EAAAA,QAAQ,CAACzvB,OAAT,CAAiB,UAAU2vB,OAAV,EAAmB;AAClC,QAAIrW,OAAO,GAAG+V,UAAU,CAACK,aAAD,EAAgBC,OAAO,CAACrW,OAAxB,CAAxB;AACAoJ,IAAAA,EAAE,CAAC7xB,gBAAH,CAAoB8+B,OAAO,CAACC,SAA5B,EAAuCD,OAAO,CAACp/B,EAA/C,EAAmD+oB,OAAnD;AACD,GAHD;AAID,CALD;;AAMA,IAAIuW,YAAY,GAAG,SAASA,YAAT,CAAsBnN,EAAtB,EAA0B+M,QAA1B,EAAoCC,aAApC,EAAmD;AACpED,EAAAA,QAAQ,CAACzvB,OAAT,CAAiB,UAAU2vB,OAAV,EAAmB;AAClC,QAAIrW,OAAO,GAAG+V,UAAU,CAACK,aAAD,EAAgBC,OAAO,CAACrW,OAAxB,CAAxB;AACAoJ,IAAAA,EAAE,CAAC3xB,mBAAH,CAAuB4+B,OAAO,CAACC,SAA/B,EAA0CD,OAAO,CAACp/B,EAAlD,EAAsD+oB,OAAtD;AACD,GAHD;AAID,CALD;;AAOA,IAAIwW,eAAe,GAAI,UAAUnX,SAAV,EAAqB;AAC1C,MAAIoX,YAAY,GAAGpiC,UAAU,CAAC,UAAU2D,CAAV,EAAaC,CAAb,EAAgB;AAC5C,QAAIO,KAAK,GAAG;AACVR,MAAAA,CAAC,EAAEA,CADO;AAEVC,MAAAA,CAAC,EAAEA;AAFO,KAAZ;AAIAonB,IAAAA,SAAS,CAACqX,MAAV,CAAiBl+B,KAAjB;AACD,GAN4B,CAA7B;AAOA,MAAIye,IAAI,GAAGxiB,OAAO,CAAC,UAAU+D,KAAV,EAAiB;AAClC,WAAOi+B,YAAY,CAACj+B,KAAK,CAACR,CAAP,EAAUQ,KAAK,CAACP,CAAhB,CAAnB;AACD,GAFiB,CAAlB;AAGA,MAAImf,MAAM,GAAG3iB,OAAO,CAAC4qB,SAAS,CAACsX,QAAX,CAApB;AACA,MAAItf,QAAQ,GAAG5iB,OAAO,CAAC4qB,SAAS,CAACuX,UAAX,CAAtB;AACA,MAAItf,SAAS,GAAG7iB,OAAO,CAAC4qB,SAAS,CAACwX,WAAX,CAAvB;AACA,MAAItf,QAAQ,GAAG9iB,OAAO,CAAC4qB,SAAS,CAACyX,UAAX,CAAtB;AACA,MAAIC,gBAAgB,GAAGtiC,OAAO,CAAC4qB,SAAS,CAAC2X,cAAX,CAA9B;;AAEA,MAAI5Q,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7BnP,IAAAA,IAAI,CAACmP,MAAL;AACAhP,IAAAA,MAAM,CAACgP,MAAP;AACA/O,IAAAA,QAAQ,CAAC+O,MAAT;AACA9O,IAAAA,SAAS,CAAC8O,MAAV;AACA7O,IAAAA,QAAQ,CAAC6O,MAAT;AACA2Q,IAAAA,gBAAgB,CAAC3Q,MAAjB;AACD,GAPD;;AASA,SAAO;AACLnP,IAAAA,IAAI,EAAEA,IADD;AAELG,IAAAA,MAAM,EAAEA,MAFH;AAGLC,IAAAA,QAAQ,EAAEA,QAHL;AAILC,IAAAA,SAAS,EAAEA,SAJN;AAKLC,IAAAA,QAAQ,EAAEA,QALL;AAMLwf,IAAAA,gBAAgB,EAAEA,gBANb;AAOL3Q,IAAAA,MAAM,EAAEA;AAPH,GAAP;AASD,CAnCD;;AAqCA,IAAI6Q,GAAG,GAAG,CAAV;AACA,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,MAAM,GAAG,EAAb;AACA,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,MAAM,GAAG,EAAb;AACA,IAAIC,QAAQ,GAAG,EAAf;AACA,IAAIt8B,GAAG,GAAG,EAAV;AACA,IAAIgK,IAAI,GAAG,EAAX;AACA,IAAIuyB,SAAS,GAAG,EAAhB;AACA,IAAIC,OAAO,GAAG,EAAd;AACA,IAAIC,UAAU,GAAG,EAAjB;AACA,IAAIC,SAAS,GAAG,EAAhB;;AAEA,IAAIC,kBAAkB,GAAG,YAAY;AACnC,MAAIxK,IAAI,GAAG,kBAAX;;AAEA,MAAI,OAAOzM,QAAP,KAAoB,WAAxB,EAAqC;AACnC,WAAOyM,IAAP;AACD;;AAED,MAAIpb,UAAU,GAAG,CAACob,IAAD,EAAO,OAAOA,IAAd,EAAoB,WAAWA,IAA/B,EAAqC,QAAQA,IAA7C,EAAmD,MAAMA,IAAzD,CAAjB;AACA,MAAIyK,SAAS,GAAG/5B,IAAI,CAACkU,UAAD,EAAa,UAAUukB,SAAV,EAAqB;AACpD,WAAO,OAAOA,SAAP,IAAoB5V,QAA3B;AACD,GAFmB,CAApB;AAGA,SAAOkX,SAAS,IAAIzK,IAApB;AACD,CAZwB,EAAzB;;AAcA,IAAIiJ,aAAa,GAAG;AAClByB,EAAAA,OAAO,EAAE;AADS,CAApB;;AAGA,IAAIC,4BAA4B,GAAI,UAAUC,SAAV,EAAqB;AACvD,MAAIC,OAAO,GAAG,KAAd;;AAEA,MAAIC,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,QAAID,OAAJ,EAAa;AACX;AACD;;AAEDA,IAAAA,OAAO,GAAG,IAAV;AACA9B,IAAAA,UAAU,CAAC6B,SAAS,EAAV,EAAchH,aAAd,EAA6BqF,aAA7B,CAAV;AACD,GAPD;;AASA,MAAI8B,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,QAAI,CAACF,OAAL,EAAc;AACZ;AACD;;AAEDA,IAAAA,OAAO,GAAG,KAAV;AACAzB,IAAAA,YAAY,CAACwB,SAAS,EAAV,EAAchH,aAAd,EAA6BqF,aAA7B,CAAZ;AACD,GAPD;;AASA,MAAIrF,aAAa,GAAG,CAAC;AACnBuF,IAAAA,SAAS,EAAE,OADQ;AAEnBr/B,IAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrBA,MAAAA,KAAK,CAAC2G,cAAN;AACAD,MAAAA,MAAM;AACP;AALkB,GAAD,EAMjB;AACD5B,IAAAA,SAAS,EAAE,WADV;AAEDr/B,IAAAA,EAAE,EAAEihC;AAFH,GANiB,EASjB;AACD5B,IAAAA,SAAS,EAAE,YADV;AAEDr/B,IAAAA,EAAE,EAAEihC;AAFH,GATiB,CAApB;;AAcA,MAAIE,WAAW,GAAG,SAASA,WAAT,GAAuB;AACvC,QAAIJ,OAAJ,EAAa;AACXE,MAAAA,MAAM;AACP;;AAEDD,IAAAA,IAAI;AACL,GAND;;AAQA,MAAII,SAAS,GAAG;AACdD,IAAAA,WAAW,EAAEA,WADC;AAEdta,IAAAA,KAAK,EAAEoa;AAFO,GAAhB;AAIA,SAAOG,SAAP;AACD,CAhDD;;AAkDA,IAAIC,oBAAoB,GAAG,CAA3B;;AACA,IAAIC,8BAA8B,GAAI,UAAU5xB,QAAV,EAAoBzK,OAApB,EAA6B;AACjE,SAAOpD,IAAI,CAAC0/B,GAAL,CAASt8B,OAAO,CAAClE,CAAR,GAAY2O,QAAQ,CAAC3O,CAA9B,KAAoCsgC,oBAApC,IAA4Dx/B,IAAI,CAAC0/B,GAAL,CAASt8B,OAAO,CAACjE,CAAR,GAAY0O,QAAQ,CAAC1O,CAA9B,KAAoCqgC,oBAAvG;AACD,CAFD;;AAIA,IAAIG,cAAJ;;AACA,IAAIC,aAAa,IAAID,cAAc,GAAG,EAAjB,EAAqBA,cAAc,CAACvB,KAAD,CAAd,GAAwB,IAA7C,EAAmDuB,cAAc,CAACxB,GAAD,CAAd,GAAsB,IAAzE,EAA+EwB,cAAnF,CAAjB;;AACA,IAAIE,wBAAwB,GAAI,UAAUnH,KAAV,EAAiB;AAC/C,MAAIkH,aAAa,CAAClH,KAAK,CAACoH,OAAP,CAAjB,EAAkC;AAChCpH,IAAAA,KAAK,CAAC2G,cAAN;AACD;AACF,CAJD;;AAMA,IAAIU,aAAa,GAAG,CAApB;;AAEA,IAAIC,MAAM,GAAG,SAAS5I,IAAT,GAAgB,CAAE,CAA/B;;AAEA,IAAI6I,gBAAgB,GAAGrD,kBAAkB,EAAzC;;AACA,SAASsD,cAAT,CAAwBtiC,IAAxB,EAA8B;AAC5B,MAAIuiC,iBAAiB,GAAGviC,IAAI,CAACuiC,iBAA7B;AAAA,MACIlB,SAAS,GAAGrhC,IAAI,CAACqhC,SADrB;AAAA,MAEI1Y,SAAS,GAAG3oB,IAAI,CAAC2oB,SAFrB;AAAA,MAGI6Z,0BAA0B,GAAGxiC,IAAI,CAACwiC,0BAHtC;AAAA,MAIIC,cAAc,GAAGziC,IAAI,CAACyiC,cAJ1B;AAAA,MAKIC,YAAY,GAAG1iC,IAAI,CAAC0iC,YALxB;AAMA,MAAIC,UAAU,GAAGrmC,MAAM,CAAC,IAAD,CAAvB;AACA,MAAIsmC,aAAa,GAAGtmC,MAAM,CAAC,KAAD,CAA1B;AACA,MAAIumC,qBAAqB,GAAGvmC,MAAM,CAAC8lC,MAAD,CAAlC;AACA,MAAIU,cAAc,GAAGpmC,WAAW,CAAC,YAAY;AAC3C,WAAOgN,OAAO,CAACi5B,UAAU,CAACn9B,OAAX,IAAsBo9B,aAAa,CAACp9B,OAArC,CAAd;AACD,GAF+B,EAE7B,EAF6B,CAAhC;AAGA,MAAIu9B,QAAQ,GAAGtmC,OAAO,CAAC,YAAY;AACjC,KAAC,CAACqmC,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAA1I,GAAoJ,KAAK,CAAzJ;AACA,WAAOkjC,eAAe,CAACnX,SAAD,CAAtB;AACD,GAHqB,EAGnB,CAACA,SAAD,EAAYma,cAAZ,CAHmB,CAAtB;AAIA,MAAIE,sBAAsB,GAAGvmC,OAAO,CAAC,YAAY;AAC/C,WAAO2kC,4BAA4B,CAACC,SAAD,CAAnC;AACD,GAFmC,EAEjC,CAACA,SAAD,CAFiC,CAApC;AAGA,MAAItZ,IAAI,GAAGrrB,WAAW,CAAC,YAAY;AACjC,QAAI,CAAComC,cAAc,EAAnB,EAAuB;AACrB;AACD;;AAEDC,IAAAA,QAAQ,CAACrT,MAAT;AACAmT,IAAAA,qBAAqB,CAACr9B,OAAtB;AACA,QAAIy9B,gBAAgB,GAAGL,aAAa,CAACp9B,OAArC;AACA68B,IAAAA,gBAAgB,CAACjD,KAAjB;;AAEA,QAAI6D,gBAAJ,EAAsB;AACpBD,MAAAA,sBAAsB,CAACtB,WAAvB;AACD;;AAEDiB,IAAAA,UAAU,CAACn9B,OAAX,GAAqB,IAArB;AACAo9B,IAAAA,aAAa,CAACp9B,OAAd,GAAwB,KAAxB;AACAk9B,IAAAA,YAAY;AACb,GAjBqB,EAiBnB,CAACI,cAAD,EAAiBJ,YAAjB,EAA+BM,sBAA/B,EAAuDD,QAAvD,CAjBmB,CAAtB;AAkBA,MAAIrT,MAAM,GAAGhzB,WAAW,CAAC,YAAY;AACnC,QAAIwmC,WAAW,GAAGN,aAAa,CAACp9B,OAAhC;AACAuiB,IAAAA,IAAI;;AAEJ,QAAImb,WAAJ,EAAiB;AACfva,MAAAA,SAAS,CAACwa,QAAV;AACD;AACF,GAPuB,EAOrB,CAACxa,SAAD,EAAYZ,IAAZ,CAPqB,CAAxB;AAQA,MAAIqb,aAAa,GAAG1mC,WAAW,CAAC,YAAY;AAC1C,KAAC,CAACkmC,aAAa,CAACp9B,OAAhB,GAA0BrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAR,CAAjD,GAAiGA,SAAS,CAAC,KAAD,CAApI,GAA8I,KAAK,CAAnJ;AACA,QAAIymC,OAAO,GAAGV,UAAU,CAACn9B,OAAzB;AACA,KAAC69B,OAAD,GAAWllC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4CAAR,CAAjD,GAAyGA,SAAS,CAAC,KAAD,CAA7H,GAAuI,KAAK,CAA5I;AACA+lC,IAAAA,UAAU,CAACn9B,OAAX,GAAqB,IAArB;AACAo9B,IAAAA,aAAa,CAACp9B,OAAd,GAAwB,IAAxB;AACAmjB,IAAAA,SAAS,CAAClf,MAAV,CAAiB;AACfoR,MAAAA,eAAe,EAAEwoB,OADF;AAEfltB,MAAAA,YAAY,EAAE;AAFC,KAAjB;AAID,GAV8B,EAU5B,CAACwS,SAAD,CAV4B,CAA/B;AAWA,MAAI2a,cAAc,GAAG7mC,OAAO,CAAC,YAAY;AACvC,KAAC,CAACqmC,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qDAAR,CAAjD,GAAkHA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACA,QAAI6iC,QAAQ,GAAG,CAAC;AACdG,MAAAA,SAAS,EAAE,WADG;AAEdr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAIyI,MAAM,GAAGzI,KAAK,CAACyI,MAAnB;AAAA,YACIC,OAAO,GAAG1I,KAAK,CAAC0I,OADpB;AAAA,YAEIC,OAAO,GAAG3I,KAAK,CAAC2I,OAFpB;;AAIA,YAAIF,MAAM,KAAKpB,aAAf,EAA8B;AAC5B;AACD;;AAED,YAAIrgC,KAAK,GAAG;AACVR,UAAAA,CAAC,EAAEkiC,OADO;AAEVjiC,UAAAA,CAAC,EAAEkiC;AAFO,SAAZ;;AAKA,YAAIb,aAAa,CAACp9B,OAAlB,EAA2B;AACzBs1B,UAAAA,KAAK,CAAC2G,cAAN;AACAsB,UAAAA,QAAQ,CAACxiB,IAAT,CAAcze,KAAd;AACA;AACD;;AAED,YAAIuhC,OAAO,GAAGV,UAAU,CAACn9B,OAAzB;;AAEA,YAAI,CAAC69B,OAAL,EAAc;AACZtb,UAAAA,IAAI;AACJ5pB,UAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,wFAAR,CAAjD,GAAqJA,SAAS,CAAC,KAAD,CAA9J;AACD;;AAED,YAAI,CAACilC,8BAA8B,CAACwB,OAAD,EAAUvhC,KAAV,CAAnC,EAAqD;AACnD;AACD;;AAEDg5B,QAAAA,KAAK,CAAC2G,cAAN;AACA2B,QAAAA,aAAa;AACd;AAnCa,KAAD,EAoCZ;AACDxD,MAAAA,SAAS,EAAE,SADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAIoI,WAAW,GAAGN,aAAa,CAACp9B,OAAhC;AACAuiB,QAAAA,IAAI;;AAEJ,YAAImb,WAAJ,EAAiB;AACfpI,UAAAA,KAAK,CAAC2G,cAAN;AACA9Y,UAAAA,SAAS,CAAC+a,MAAV;AACD;AACF;AAVA,KApCY,EA+CZ;AACD9D,MAAAA,SAAS,EAAE,WADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI8H,aAAa,CAACp9B,OAAlB,EAA2B;AACzBs1B,UAAAA,KAAK,CAAC2G,cAAN;AACD;;AAED/R,QAAAA,MAAM;AACP;AARA,KA/CY,EAwDZ;AACDkQ,MAAAA,SAAS,EAAE,SADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI6H,UAAU,CAACn9B,OAAf,EAAwB;AACtBuiB,UAAAA,IAAI;AACJ;AACD;;AAED,YAAI+S,KAAK,CAACoH,OAAN,KAAkBzB,MAAtB,EAA8B;AAC5B3F,UAAAA,KAAK,CAAC2G,cAAN;AACA/R,UAAAA,MAAM;AACN;AACD;;AAEDuS,QAAAA,wBAAwB,CAACnH,KAAD,CAAxB;AACD;AAfA,KAxDY,EAwEZ;AACD8E,MAAAA,SAAS,EAAE,QADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KAxEY,EA2EZ;AACDkQ,MAAAA,SAAS,EAAE,QADV;AAEDtW,MAAAA,OAAO,EAAE;AACPgP,QAAAA,OAAO,EAAE,IADF;AAEP6I,QAAAA,OAAO,EAAE;AAFF,OAFR;AAMD5gC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAIA,KAAK,CAAC6I,aAAN,KAAwBtC,SAAS,EAArC,EAAyC;AACvC;AACD;;AAED,YAAIsB,UAAU,CAACn9B,OAAf,EAAwB;AACtBuiB,UAAAA,IAAI;AACJ;AACD;;AAEDgb,QAAAA,QAAQ,CAAC1C,gBAAT;AACD;AAjBA,KA3EY,EA6FZ;AACDT,MAAAA,SAAS,EAAE,yBADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAIA,KAAK,CAAC8I,WAAN,IAAqB,IAArB,IAA6BC,UAAU,CAACC,gCAAX,IAA+C,IAAhF,EAAsF;AACpF3lC,UAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,+DAAD,CAA/C,GAAmH,KAAK,CAAxH;AACA;AACD;;AAED,YAAI+kC,mBAAmB,GAAGF,UAAU,CAACC,gCAArC;AACA,YAAIE,eAAe,GAAGlJ,KAAK,CAAC8I,WAAN,IAAqBG,mBAA3C;;AAEA,YAAI,CAACvB,0BAA0B,EAA/B,EAAmC;AACjC1H,UAAAA,KAAK,CAAC2G,cAAN;AACA;AACD;;AAED,YAAIuC,eAAJ,EAAqB;AACnBtU,UAAAA,MAAM;AACP;AACF;AAnBA,KA7FY,EAiHZ;AACDkQ,MAAAA,SAAS,EAAEqB,kBADV;AAED1gC,MAAAA,EAAE,EAAEmvB;AAFH,KAjHY,CAAf;AAqHA,WAAO+P,QAAP;AACD,GAxH2B,EAwHzB,CAACqD,cAAD,EAAiBpT,MAAjB,EAAyB0T,aAAzB,EAAwCL,QAAxC,EAAkDhb,IAAlD,EAAwDY,SAAxD,EAAmE0Y,SAAnE,EAA8EmB,0BAA9E,CAxHyB,CAA5B;AAyHA,MAAIyB,gBAAgB,GAAGvnC,WAAW,CAAC,YAAY;AAC7C,QAAIwnC,GAAG,GAAG7C,SAAS,EAAnB;AACA,QAAI/X,OAAO,GAAG;AACZ6X,MAAAA,OAAO,EAAE;AADG,KAAd;;AAIA0B,IAAAA,qBAAqB,CAACr9B,OAAtB,GAAgC,YAAY;AAC1C,aAAOq6B,YAAY,CAACqE,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAnB;AACD,KAFD;;AAIAkW,IAAAA,UAAU,CAAC0E,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAV;AACD,GAXiC,EAW/B,CAAC+X,SAAD,EAAYiC,cAAZ,CAX+B,CAAlC;AAYA,MAAIa,gBAAgB,GAAGznC,WAAW,CAAC,UAAUoF,KAAV,EAAiB;AAClD,KAAC,CAAC6gC,UAAU,CAACn9B,OAAb,GAAuBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAAnI,GAA6I,KAAK,CAAlJ;AACA+lC,IAAAA,UAAU,CAACn9B,OAAX,GAAqB1D,KAArB;AACA2gC,IAAAA,cAAc,CAAC1a,IAAD,CAAd;AACAkc,IAAAA,gBAAgB;AACjB,GALiC,EAK/B,CAACA,gBAAD,EAAmBxB,cAAnB,EAAmC1a,IAAnC,CAL+B,CAAlC;AAMA,MAAIqc,WAAW,GAAG1nC,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AAC7C,QAAIuH,gBAAgB,CAAClD,SAAjB,EAAJ,EAAkC;AAChC;AACD;;AAED,KAAC,CAAC2D,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sFAAR,CAAjD,GAAmJA,SAAS,CAAC,KAAD,CAAjL,GAA2L,KAAK,CAAhM;;AAEA,QAAI,CAAC2lC,iBAAiB,CAACzH,KAAD,CAAtB,EAA+B;AAC7B;AACD;;AAED,QAAIA,KAAK,CAACyI,MAAN,KAAiBpB,aAArB,EAAoC;AAClC;AACD;;AAED,QAAIrH,KAAK,CAACuJ,OAAN,IAAiBvJ,KAAK,CAACwJ,OAAvB,IAAkCxJ,KAAK,CAACyJ,QAAxC,IAAoDzJ,KAAK,CAAC0J,MAA9D,EAAsE;AACpE;AACD;;AAEDnC,IAAAA,gBAAgB,CAACnD,MAAjB;AACApE,IAAAA,KAAK,CAAC2G,cAAN;AACA,QAAI3/B,KAAK,GAAG;AACVR,MAAAA,CAAC,EAAEw5B,KAAK,CAAC0I,OADC;AAEVjiC,MAAAA,CAAC,EAAEu5B,KAAK,CAAC2I;AAFC,KAAZ;AAIAU,IAAAA,gBAAgB,CAACriC,KAAD,CAAhB;AACD,GA1B4B,EA0B1B,CAACygC,iBAAD,EAAoBO,cAApB,EAAoCqB,gBAApC,CA1B0B,CAA7B;AA2BA,SAAOC,WAAP;AACD;;AAED,SAASK,SAAT,CAAmB/R,EAAnB,EAAuB;AACrB,SAAOA,EAAE,YAAY2I,eAAe,CAAC3I,EAAD,CAAf,CAAoBgS,OAAzC;AACD;;AAED,IAAIC,mBAAmB,GAAG;AACxBC,EAAAA,KAAK,EAAE,IADiB;AAExBrB,EAAAA,MAAM,EAAE,IAFgB;AAGxBsB,EAAAA,QAAQ,EAAE,IAHc;AAIxBC,EAAAA,MAAM,EAAE,IAJgB;AAKxBC,EAAAA,MAAM,EAAE,IALgB;AAMxBC,EAAAA,QAAQ,EAAE,IANc;AAOxBC,EAAAA,KAAK,EAAE,IAPiB;AAQxBC,EAAAA,KAAK,EAAE;AARiB,CAA1B;;AAWA,IAAIC,sBAAsB,GAAG,SAASA,sBAAT,CAAgCC,MAAhC,EAAwC5/B,OAAxC,EAAiD;AAC5E,MAAIA,OAAO,IAAI,IAAf,EAAqB;AACnB,WAAO,KAAP;AACD;;AAED,MAAI6/B,mBAAmB,GAAG37B,OAAO,CAACi7B,mBAAmB,CAACn/B,OAAO,CAACw1B,OAAR,CAAgB5F,WAAhB,EAAD,CAApB,CAAjC;;AAEA,MAAIiQ,mBAAJ,EAAyB;AACvB,WAAO,IAAP;AACD;;AAED,MAAIrU,SAAS,GAAGxrB,OAAO,CAAC8/B,YAAR,CAAqB,iBAArB,CAAhB;;AAEA,MAAItU,SAAS,KAAK,MAAd,IAAwBA,SAAS,KAAK,EAA1C,EAA8C;AAC5C,WAAO,IAAP;AACD;;AAED,MAAIxrB,OAAO,KAAK4/B,MAAhB,EAAwB;AACtB,WAAO,KAAP;AACD;;AAED,SAAOD,sBAAsB,CAACC,MAAD,EAAS5/B,OAAO,CAACgyB,aAAjB,CAA7B;AACD,CAtBD;;AAwBA,IAAI+N,6BAA6B,GAAI,UAAUzK,KAAV,EAAiB0K,0BAAjB,EAA6C;AAChF,MAAIA,0BAAJ,EAAgC;AAC9B,WAAO,IAAP;AACD;;AAED,MAAIhjC,MAAM,GAAGs4B,KAAK,CAACt4B,MAAnB;AAAA,MACImhC,aAAa,GAAG7I,KAAK,CAAC6I,aAD1B;;AAGA,MAAI,CAACc,SAAS,CAACjiC,MAAD,CAAV,IAAsB,CAACiiC,SAAS,CAACd,aAAD,CAApC,EAAqD;AACnD,WAAO,IAAP;AACD;;AAED,SAAO,CAACwB,sBAAsB,CAACxB,aAAD,EAAgBnhC,MAAhB,CAA9B;AACD,CAbD;;AAeA,IAAIijC,0BAA0B,GAAI,UAAU/S,EAAV,EAAc;AAC9C,SAAOt1B,OAAO,CAACs1B,EAAE,CAACgT,qBAAH,EAAD,CAAP,CAAoC3vB,MAA3C;AACD,CAFD;;AAIA,IAAI4vB,eAAJ;;AACA,IAAIC,cAAc,IAAID,eAAe,GAAG,EAAlB,EAAsBA,eAAe,CAAC/E,QAAD,CAAf,GAA4B,IAAlD,EAAwD+E,eAAe,CAAChF,MAAD,CAAf,GAA0B,IAAlF,EAAwFgF,eAAe,CAACr3B,IAAD,CAAf,GAAwB,IAAhH,EAAsHq3B,eAAe,CAACrhC,GAAD,CAAf,GAAuB,IAA7I,EAAmJqhC,eAAvJ,CAAlB;;AAEA,SAASE,MAAT,GAAkB,CAAE;;AAEpB,SAASC,iBAAT,CAA2B9lC,IAA3B,EAAiC;AAC/B,MAAIuiC,iBAAiB,GAAGviC,IAAI,CAACuiC,iBAA7B;AAAA,MACIlB,SAAS,GAAGrhC,IAAI,CAACqhC,SADrB;AAAA,MAEI1Y,SAAS,GAAG3oB,IAAI,CAAC2oB,SAFrB;AAAA,MAGI8Z,cAAc,GAAGziC,IAAI,CAACyiC,cAH1B;AAAA,MAIIC,YAAY,GAAG1iC,IAAI,CAAC0iC,YAJxB;AAAA,MAKIqD,eAAe,GAAG/lC,IAAI,CAAC+lC,eAL3B;AAMA,MAAInD,aAAa,GAAGtmC,MAAM,CAAC,KAAD,CAA1B;AACA,MAAIumC,qBAAqB,GAAGvmC,MAAM,CAACupC,MAAD,CAAlC;AACA,MAAIG,aAAa,GAAGtpC,WAAW,CAAC,YAAY;AAC1C,WAAOkmC,aAAa,CAACp9B,OAArB;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAGA,MAAIu9B,QAAQ,GAAGtmC,OAAO,CAAC,YAAY;AACjC,KAAC,CAACupC,aAAa,EAAf,GAAoB7nC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAAzI,GAAmJ,KAAK,CAAxJ;AACA,WAAOkjC,eAAe,CAACnX,SAAD,CAAtB;AACD,GAHqB,EAGnB,CAACA,SAAD,EAAYqd,aAAZ,CAHmB,CAAtB;AAIA,MAAIje,IAAI,GAAGrrB,WAAW,CAAC,YAAY;AACjC,QAAI,CAACspC,aAAa,EAAlB,EAAsB;AACpB;AACD;;AAEDjD,IAAAA,QAAQ,CAACrT,MAAT;AACAmT,IAAAA,qBAAqB,CAACr9B,OAAtB;AACAo9B,IAAAA,aAAa,CAACp9B,OAAd,GAAwB,KAAxB;AACAk9B,IAAAA,YAAY;AACb,GATqB,EASnB,CAACsD,aAAD,EAAgBtD,YAAhB,EAA8BK,QAA9B,CATmB,CAAtB;AAUA,MAAIrT,MAAM,GAAGhzB,WAAW,CAAC,YAAY;AACnC,QAAIwmC,WAAW,GAAGN,aAAa,CAACp9B,OAAhC;AACAuiB,IAAAA,IAAI;;AAEJ,QAAImb,WAAJ,EAAiB;AACfva,MAAAA,SAAS,CAACwa,QAAV;AACD;AACF,GAPuB,EAOrB,CAACxa,SAAD,EAAYZ,IAAZ,CAPqB,CAAxB;AAQA,MAAIub,cAAc,GAAG7mC,OAAO,CAAC,YAAY;AACvC,KAAC,CAACupC,aAAa,EAAf,GAAoB7nC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,mDAAR,CAAjD,GAAgHA,SAAS,CAAC,KAAD,CAA7I,GAAuJ,KAAK,CAA5J;AACA,WAAO,CAAC;AACNgjC,MAAAA,SAAS,EAAE,WADL;AAENr/B,MAAAA,EAAE,EAAEmvB;AAFE,KAAD,EAGJ;AACDkQ,MAAAA,SAAS,EAAE,SADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KAHI,EAMJ;AACDkQ,MAAAA,SAAS,EAAE,OADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KANI,EASJ;AACDkQ,MAAAA,SAAS,EAAE,YADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KATI,EAYJ;AACDkQ,MAAAA,SAAS,EAAE,QADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KAZI,EAeJ;AACDkQ,MAAAA,SAAS,EAAE,OADV;AAEDr/B,MAAAA,EAAE,EAAEmvB,MAFH;AAGDpG,MAAAA,OAAO,EAAE;AACPgP,QAAAA,OAAO,EAAE;AADF;AAHR,KAfI,EAqBJ;AACDsH,MAAAA,SAAS,EAAE,QADV;AAEDtW,MAAAA,OAAO,EAAE;AACP6X,QAAAA,OAAO,EAAE;AADF,OAFR;AAKD5gC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAIA,KAAK,CAAC6I,aAAN,KAAwBtC,SAAS,EAArC,EAAyC;AACvC;AACD;;AAED1Y,QAAAA,SAAS,CAAC2X,cAAV;AACD;AAXA,KArBI,EAiCJ;AACDV,MAAAA,SAAS,EAAEqB,kBADV;AAED1gC,MAAAA,EAAE,EAAEmvB;AAFH,KAjCI,CAAP;AAqCD,GAvC2B,EAuCzB,CAAC/G,SAAD,EAAY+G,MAAZ,EAAoBsW,aAApB,EAAmC3E,SAAnC,CAvCyB,CAA5B;AAwCA,MAAI4C,gBAAgB,GAAGvnC,WAAW,CAAC,YAAY;AAC7C,QAAIwnC,GAAG,GAAG7C,SAAS,EAAnB;AACA,QAAI/X,OAAO,GAAG;AACZ6X,MAAAA,OAAO,EAAE;AADG,KAAd;;AAIA0B,IAAAA,qBAAqB,CAACr9B,OAAtB,GAAgC,YAAY;AAC1C,aAAOq6B,YAAY,CAACqE,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAnB;AACD,KAFD;;AAIAkW,IAAAA,UAAU,CAAC0E,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAV;AACD,GAXiC,EAW/B,CAAC+X,SAAD,EAAYiC,cAAZ,CAX+B,CAAlC;AAYA,MAAIF,aAAa,GAAG1mC,WAAW,CAAC,YAAY;AAC1C,KAAC,CAACkmC,aAAa,CAACp9B,OAAhB,GAA0BrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,oCAAR,CAAjD,GAAiGA,SAAS,CAAC,KAAD,CAApI,GAA8I,KAAK,CAAnJ;AACA,QAAI02B,GAAG,GAAGyS,eAAe,EAAzB;AACA,KAACzS,GAAD,GAAOn1B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sDAAR,CAAjD,GAAmHA,SAAS,CAAC,KAAD,CAAnI,GAA6I,KAAK,CAAlJ;AACAgmC,IAAAA,aAAa,CAACp9B,OAAd,GAAwB,IAAxB;AACAi9B,IAAAA,cAAc,CAAC1a,IAAD,CAAd;AACAkc,IAAAA,gBAAgB;AAChB,QAAIluB,MAAM,GAAG0vB,0BAA0B,CAACnS,GAAD,CAAvC;AACA3K,IAAAA,SAAS,CAAClf,MAAV,CAAiB;AACfoR,MAAAA,eAAe,EAAE9E,MADF;AAEfI,MAAAA,YAAY,EAAE;AAFC,KAAjB;AAID,GAZ8B,EAY5B,CAAC8tB,gBAAD,EAAmBtb,SAAnB,EAA8Bod,eAA9B,EAA+CtD,cAA/C,EAA+D1a,IAA/D,CAZ4B,CAA/B;AAaA,MAAIke,SAAS,GAAGvpC,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AAC3C,QAAI,CAACkL,aAAa,EAAlB,EAAsB;AACpB,UAAIlL,KAAK,CAACoL,gBAAV,EAA4B;AAC1B;AACD;;AAED,UAAI,CAAC3D,iBAAiB,CAACzH,KAAD,CAAtB,EAA+B;AAC7B;AACD;;AAED,UAAIA,KAAK,CAACoH,OAAN,KAAkBxB,KAAtB,EAA6B;AAC3B;AACD;;AAED5F,MAAAA,KAAK,CAAC2G,cAAN;AACA2B,MAAAA,aAAa;AACb;AACD;;AAED,QAAItI,KAAK,CAACoH,OAAN,KAAkBzB,MAAtB,EAA8B;AAC5B3F,MAAAA,KAAK,CAAC2G,cAAN;AACA/R,MAAAA,MAAM;AACN;AACD;;AAED,QAAIoL,KAAK,CAACoH,OAAN,KAAkBxB,KAAtB,EAA6B;AAC3B5F,MAAAA,KAAK,CAAC2G,cAAN;AACA1Z,MAAAA,IAAI;AACJY,MAAAA,SAAS,CAAC+a,MAAV;AACA;AACD;;AAED,QAAI5I,KAAK,CAACoH,OAAN,KAAkBlB,SAAtB,EAAiC;AAC/BlG,MAAAA,KAAK,CAAC2G,cAAN;AACAsB,MAAAA,QAAQ,CAACpiB,QAAT;AACA;AACD;;AAED,QAAIma,KAAK,CAACoH,OAAN,KAAkBpB,OAAtB,EAA+B;AAC7BhG,MAAAA,KAAK,CAAC2G,cAAN;AACAsB,MAAAA,QAAQ,CAACriB,MAAT;AACA;AACD;;AAED,QAAIoa,KAAK,CAACoH,OAAN,KAAkBnB,UAAtB,EAAkC;AAChCjG,MAAAA,KAAK,CAAC2G,cAAN;AACAsB,MAAAA,QAAQ,CAACniB,SAAT;AACA;AACD;;AAED,QAAIka,KAAK,CAACoH,OAAN,KAAkBrB,SAAtB,EAAiC;AAC/B/F,MAAAA,KAAK,CAAC2G,cAAN;AACAsB,MAAAA,QAAQ,CAACliB,QAAT;AACA;AACD;;AAED,QAAI+kB,cAAc,CAAC9K,KAAK,CAACoH,OAAP,CAAlB,EAAmC;AACjCpH,MAAAA,KAAK,CAAC2G,cAAN;AACA;AACD;;AAEDQ,IAAAA,wBAAwB,CAACnH,KAAD,CAAxB;AACD,GA9D0B,EA8DxB,CAACnS,SAAD,EAAY4Z,iBAAZ,EAA+B7S,MAA/B,EAAuCsW,aAAvC,EAAsDjD,QAAtD,EAAgEK,aAAhE,EAA+Erb,IAA/E,CA9DwB,CAA3B;AA+DA,SAAOke,SAAP;AACD;;AAED,IAAIE,gBAAgB,GAAG,GAAvB;AACA,IAAIpC,mBAAmB,GAAG,IAA1B;AACA,IAAIqC,iBAAiB,GAAGpH,kBAAkB,EAA1C;;AAEA,IAAIqH,MAAM,GAAG,SAAS7M,IAAT,GAAgB,CAAE,CAA/B;;AAEA,IAAI8M,UAAU,GAAG,YAAY;AAC3B,MAAIC,IAAI,GAAG;AACTC,IAAAA,gBAAgB,EAAEH,MADT;AAETI,IAAAA,gBAAgB,EAAEJ;AAFT,GAAX;;AAKA,MAAI,OAAOnnC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAOqnC,IAAP;AACD;;AAED,MAAI,EAAE,kBAAkBrnC,MAApB,CAAJ,EAAiC;AAC/B,WAAOqnC,IAAP;AACD;;AAED,MAAIG,UAAU,GAAG,KAAjB;AACAxnC,EAAAA,MAAM,CAAC2B,gBAAP,CAAwB,WAAxB,EAAqC,UAAUi6B,KAAV,EAAiB;AACpD,QAAI,CAAC4L,UAAL,EAAiB;AACf;AACD;;AAED,QAAI5L,KAAK,CAACoL,gBAAV,EAA4B;AAC1B;AACD;;AAEDpL,IAAAA,KAAK,CAAC2G,cAAN;AACD,GAVD,EAUG;AACDnJ,IAAAA,OAAO,EAAE,KADR;AAED6I,IAAAA,OAAO,EAAE;AAFR,GAVH;;AAeA,MAAIqF,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjDE,IAAAA,UAAU,GAAG,IAAb;AACD,GAFD;;AAIA,MAAID,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjDC,IAAAA,UAAU,GAAG,KAAb;AACD,GAFD;;AAIA,SAAO;AACLF,IAAAA,gBAAgB,EAAEA,gBADb;AAELC,IAAAA,gBAAgB,EAAEA;AAFb,GAAP;AAID,CA1CgB,EAAjB;;AA4CA,SAASE,cAAT,CAAwB3mC,IAAxB,EAA8B;AAC5B,MAAI2oB,SAAS,GAAG3oB,IAAI,CAAC2oB,SAArB;AAAA,MACI0Y,SAAS,GAAGrhC,IAAI,CAACqhC,SADrB;AAAA,MAEIkB,iBAAiB,GAAGviC,IAAI,CAACuiC,iBAF7B;AAAA,MAGIC,0BAA0B,GAAGxiC,IAAI,CAACwiC,0BAHtC;AAAA,MAIIC,cAAc,GAAGziC,IAAI,CAACyiC,cAJ1B;AAAA,MAKIC,YAAY,GAAG1iC,IAAI,CAAC0iC,YALxB;AAMA,MAAIC,UAAU,GAAGrmC,MAAM,CAAC,IAAD,CAAvB;AACA,MAAIsmC,aAAa,GAAGtmC,MAAM,CAAC,KAAD,CAA1B;AACA,MAAIsqC,WAAW,GAAGtqC,MAAM,CAAC,KAAD,CAAxB;AACA,MAAIumC,qBAAqB,GAAGvmC,MAAM,CAAC+pC,MAAD,CAAlC;AACA,MAAIvD,cAAc,GAAGpmC,WAAW,CAAC,YAAY;AAC3C,WAAOgN,OAAO,CAACi5B,UAAU,CAACn9B,OAAX,IAAsBo9B,aAAa,CAACp9B,OAArC,CAAd;AACD,GAF+B,EAE7B,EAF6B,CAAhC;AAGA,MAAIqhC,sBAAsB,GAAGpqC,OAAO,CAAC,YAAY;AAC/C,WAAO2kC,4BAA4B,CAACC,SAAD,CAAnC;AACD,GAFmC,EAEjC,CAACA,SAAD,CAFiC,CAApC;AAGA,MAAI0B,QAAQ,GAAGtmC,OAAO,CAAC,YAAY;AACjC,KAAC,CAACqmC,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,+CAAR,CAAjD,GAA4GA,SAAS,CAAC,KAAD,CAA1I,GAAoJ,KAAK,CAAzJ;AACA,WAAOkjC,eAAe,CAACnX,SAAD,CAAtB;AACD,GAHqB,EAGnB,CAACA,SAAD,EAAYma,cAAZ,CAHmB,CAAtB;AAIA,MAAI/a,IAAI,GAAGrrB,WAAW,CAAC,YAAY;AACjC,QAAI,CAAComC,cAAc,EAAnB,EAAuB;AACrB;AACD;;AAEDC,IAAAA,QAAQ,CAACrT,MAAT;AACAmT,IAAAA,qBAAqB,CAACr9B,OAAtB;AACA4gC,IAAAA,iBAAiB,CAAChH,KAAlB;AACAkH,IAAAA,UAAU,CAACG,gBAAX;AACAG,IAAAA,WAAW,CAACphC,OAAZ,GAAsB,KAAtB;AACAk9B,IAAAA,YAAY;;AAEZ,QAAIE,aAAa,CAACp9B,OAAlB,EAA2B;AACzBqhC,MAAAA,sBAAsB,CAACnF,WAAvB;AACAkB,MAAAA,aAAa,CAACp9B,OAAd,GAAwB,KAAxB;AACA;AACD;;AAED,QAAI69B,OAAO,GAAGV,UAAU,CAACn9B,OAAzB;AACA,KAAC69B,OAAD,GAAWllC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,yBAAR,CAAjD,GAAsFA,SAAS,CAAC,KAAD,CAA1G,GAAoH,KAAK,CAAzH;AACAyoB,IAAAA,YAAY,CAACge,OAAO,CAACyD,gBAAT,CAAZ;AACAnE,IAAAA,UAAU,CAACn9B,OAAX,GAAqB,IAArB;AACD,GAtBqB,EAsBnB,CAACs9B,cAAD,EAAiBJ,YAAjB,EAA+BmE,sBAA/B,EAAuD9D,QAAvD,CAtBmB,CAAtB;AAuBA,MAAIrT,MAAM,GAAGhzB,WAAW,CAAC,YAAY;AACnC,QAAIwmC,WAAW,GAAGN,aAAa,CAACp9B,OAAhC;AACAuiB,IAAAA,IAAI;;AAEJ,QAAImb,WAAJ,EAAiB;AACfva,MAAAA,SAAS,CAACwa,QAAV;AACD;AACF,GAPuB,EAOrB,CAACxa,SAAD,EAAYZ,IAAZ,CAPqB,CAAxB;AAQA,MAAIub,cAAc,GAAG7mC,OAAO,CAAC,YAAY;AACvC,KAAC,CAACqmC,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qDAAR,CAAjD,GAAkHA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACA,QAAI6iC,QAAQ,GAAG,CAAC;AACdG,MAAAA,SAAS,EAAE,WADG;AAEdtW,MAAAA,OAAO,EAAE;AACPgP,QAAAA,OAAO,EAAE,KADF;AAEP6I,QAAAA,OAAO,EAAE;AAFF,OAFK;AAMd5gC,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI,CAAC8H,aAAa,CAACp9B,OAAnB,EAA4B;AAC1BuiB,UAAAA,IAAI;AACJ;AACD;;AAED,YAAI,CAAC6e,WAAW,CAACphC,OAAjB,EAA0B;AACxBohC,UAAAA,WAAW,CAACphC,OAAZ,GAAsB,IAAtB;AACD;;AAED,YAAIuhC,eAAe,GAAGjM,KAAK,CAACkM,OAAN,CAAc,CAAd,CAAtB;AAAA,YACIxD,OAAO,GAAGuD,eAAe,CAACvD,OAD9B;AAAA,YAEIC,OAAO,GAAGsD,eAAe,CAACtD,OAF9B;AAGA,YAAI3hC,KAAK,GAAG;AACVR,UAAAA,CAAC,EAAEkiC,OADO;AAEVjiC,UAAAA,CAAC,EAAEkiC;AAFO,SAAZ;AAIA3I,QAAAA,KAAK,CAAC2G,cAAN;AACAsB,QAAAA,QAAQ,CAACxiB,IAAT,CAAcze,KAAd;AACD;AAzBa,KAAD,EA0BZ;AACD89B,MAAAA,SAAS,EAAE,UADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI,CAAC8H,aAAa,CAACp9B,OAAnB,EAA4B;AAC1BuiB,UAAAA,IAAI;AACJ;AACD;;AAED+S,QAAAA,KAAK,CAAC2G,cAAN;AACA1Z,QAAAA,IAAI;AACJY,QAAAA,SAAS,CAAC+a,MAAV;AACD;AAXA,KA1BY,EAsCZ;AACD9D,MAAAA,SAAS,EAAE,aADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI,CAAC8H,aAAa,CAACp9B,OAAnB,EAA4B;AAC1BuiB,UAAAA,IAAI;AACJ;AACD;;AAED+S,QAAAA,KAAK,CAAC2G,cAAN;AACA/R,QAAAA,MAAM;AACP;AAVA,KAtCY,EAiDZ;AACDkQ,MAAAA,SAAS,EAAE,YADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KAjDY,EAoDZ;AACDkQ,MAAAA,SAAS,EAAE,mBADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KApDY,EAuDZ;AACDkQ,MAAAA,SAAS,EAAE,QADV;AAEDr/B,MAAAA,EAAE,EAAEmvB;AAFH,KAvDY,EA0DZ;AACDkQ,MAAAA,SAAS,EAAE,QADV;AAEDtW,MAAAA,OAAO,EAAE;AACPgP,QAAAA,OAAO,EAAE,IADF;AAEP6I,QAAAA,OAAO,EAAE;AAFF,OAFR;AAMD5gC,MAAAA,EAAE,EAAE,SAASA,EAAT,GAAc;AAChB,YAAIoiC,UAAU,CAACn9B,OAAf,EAAwB;AACtBuiB,UAAAA,IAAI;AACJ;AACD;;AAEDgb,QAAAA,QAAQ,CAAC1C,gBAAT;AACD;AAbA,KA1DY,EAwEZ;AACDT,MAAAA,SAAS,EAAE,aADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrBA,QAAAA,KAAK,CAAC2G,cAAN;AACD;AAJA,KAxEY,EA6EZ;AACD7B,MAAAA,SAAS,EAAE,SADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI,CAAC8H,aAAa,CAACp9B,OAAnB,EAA4B;AAC1BkqB,UAAAA,MAAM;AACN;AACD;;AAED,YAAIoL,KAAK,CAACoH,OAAN,KAAkBzB,MAAtB,EAA8B;AAC5B3F,UAAAA,KAAK,CAAC2G,cAAN;AACD;;AAED/R,QAAAA,MAAM;AACP;AAbA,KA7EY,EA2FZ;AACDkQ,MAAAA,SAAS,EAAE,kBADV;AAEDr/B,MAAAA,EAAE,EAAE,SAASA,EAAT,CAAYu6B,KAAZ,EAAmB;AACrB,YAAI,CAAC0H,0BAA0B,EAA/B,EAAmC;AACjC1H,UAAAA,KAAK,CAAC2G,cAAN;AACA;AACD;;AAED,YAAImF,WAAW,CAACphC,OAAhB,EAAyB;AACvBs1B,UAAAA,KAAK,CAAC2G,cAAN;AACA;AACD;;AAED,YAAIwF,KAAK,GAAGnM,KAAK,CAACkM,OAAN,CAAc,CAAd,CAAZ;;AAEA,YAAIC,KAAK,CAACC,KAAN,IAAenD,mBAAnB,EAAwC;AACtCrU,UAAAA,MAAM;AACP;AACF;AAlBA,KA3FY,EA8GZ;AACDkQ,MAAAA,SAAS,EAAEqB,kBADV;AAED1gC,MAAAA,EAAE,EAAEmvB;AAFH,KA9GY,CAAf;AAkHA,WAAO+P,QAAP;AACD,GArH2B,EAqHzB,CAAC9W,SAAD,EAAY+G,MAAZ,EAAoBoT,cAApB,EAAoCN,0BAApC,EAAgEO,QAAhE,EAA0Ehb,IAA1E,CArHyB,CAA5B;AAsHA,MAAIkc,gBAAgB,GAAGvnC,WAAW,CAAC,YAAY;AAC7C,QAAIwnC,GAAG,GAAG7C,SAAS,EAAnB;AACA,QAAI/X,OAAO,GAAG;AACZ6X,MAAAA,OAAO,EAAE;AADG,KAAd;;AAIA0B,IAAAA,qBAAqB,CAACr9B,OAAtB,GAAgC,YAAY;AAC1C,aAAOq6B,YAAY,CAACqE,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAnB;AACD,KAFD;;AAIAkW,IAAAA,UAAU,CAAC0E,GAAD,EAAMZ,cAAN,EAAsBha,OAAtB,CAAV;AACD,GAXiC,EAW/B,CAAC+X,SAAD,EAAYiC,cAAZ,CAX+B,CAAlC;AAYA,MAAIF,aAAa,GAAG1mC,WAAW,CAAC,YAAY;AAC1C,QAAI2mC,OAAO,GAAGV,UAAU,CAACn9B,OAAzB;AACA,KAAC69B,OAAD,GAAWllC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4CAAR,CAAjD,GAAyGA,SAAS,CAAC,KAAD,CAA7H,GAAuI,KAAK,CAA5I;AACAgmC,IAAAA,aAAa,CAACp9B,OAAd,GAAwB,IAAxB;AACAm9B,IAAAA,UAAU,CAACn9B,OAAX,GAAqB,IAArB;AACAohC,IAAAA,WAAW,CAACphC,OAAZ,GAAsB,KAAtB;AACAmjB,IAAAA,SAAS,CAAClf,MAAV,CAAiB;AACfoR,MAAAA,eAAe,EAAEwoB,OAAO,CAACvhC,KADV;AAEfqU,MAAAA,YAAY,EAAE;AAFC,KAAjB;AAID,GAV8B,EAU5B,CAACwS,SAAD,CAV4B,CAA/B;AAWA,MAAIwb,gBAAgB,GAAGznC,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AAClD,KAAC,CAAC6H,UAAU,CAACn9B,OAAb,GAAuBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,sCAAR,CAAjD,GAAmGA,SAAS,CAAC,KAAD,CAAnI,GAA6I,KAAK,CAAlJ;AACA,QAAIqqC,KAAK,GAAGnM,KAAK,CAACkM,OAAN,CAAc,CAAd,CAAZ;AACA,QAAIxD,OAAO,GAAGyD,KAAK,CAACzD,OAApB;AAAA,QACIC,OAAO,GAAGwD,KAAK,CAACxD,OADpB;AAEA,QAAI3hC,KAAK,GAAG;AACVR,MAAAA,CAAC,EAAEkiC,OADO;AAEVjiC,MAAAA,CAAC,EAAEkiC;AAFO,KAAZ;AAIA,QAAIqD,gBAAgB,GAAG1hB,UAAU,CAACge,aAAD,EAAgB+C,gBAAhB,CAAjC;AACA,QAAI9C,OAAO,GAAG;AACZvhC,MAAAA,KAAK,EAAEA,KADK;AAEZglC,MAAAA,gBAAgB,EAAEA;AAFN,KAAd;AAIAnE,IAAAA,UAAU,CAACn9B,OAAX,GAAqB69B,OAArB;AACAZ,IAAAA,cAAc,CAAC1a,IAAD,CAAd;AACAkc,IAAAA,gBAAgB;AACjB,GAjBiC,EAiB/B,CAACA,gBAAD,EAAmBxB,cAAnB,EAAmCW,aAAnC,EAAkDrb,IAAlD,CAjB+B,CAAlC;;AAmBA,MAAIof,YAAY,GAAG,SAASA,YAAT,CAAsBrM,KAAtB,EAA6B;AAC9C,QAAIsL,iBAAiB,CAACjH,SAAlB,EAAJ,EAAmC;AACjC;AACD;;AAED,KAAC,CAAC2D,cAAc,EAAhB,GAAqB3kC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,uFAAR,CAAjD,GAAoJA,SAAS,CAAC,KAAD,CAAlL,GAA4L,KAAK,CAAjM;;AAEA,QAAI,CAAC2lC,iBAAiB,CAACzH,KAAD,CAAtB,EAA+B;AAC7B;AACD;;AAEDsL,IAAAA,iBAAiB,CAAClH,MAAlB;AACAoH,IAAAA,UAAU,CAACE,gBAAX;AACArC,IAAAA,gBAAgB,CAACrJ,KAAD,CAAhB;AACD,GAdD;;AAgBA,SAAOqM,YAAP;AACD;;AAED,SAASC,YAAT,CAAsB1U,EAAtB,EAA0B;AACxB,SAAOhpB,OAAO,CAAC2xB,eAAe,CAAC3I,EAAD,CAAf,CAAoB2U,UAArB,CAAP,IAA2C3U,EAAE,YAAY2I,eAAe,CAAC3I,EAAD,CAAf,CAAoB2U,UAApF;AACD;;AAED,IAAI/V,QAAQ,GAAG,MAAMT,UAAN,GAAmB,GAAlC;;AAEA,IAAIyW,UAAU,GAAG,SAASA,UAAT,CAAoB5U,EAApB,EAAwB;AACvC,GAAC,CAAC0U,YAAY,CAAC1U,EAAD,CAAd,GAAqBv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,8LAAR,CAAjD,GAA2PA,SAAS,CAAC,KAAD,CAAzR,GAAmS,KAAK,CAAxS;AACD,CAFD;;AAIA,IAAI2qC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,YAA1B,EAAwC;AAC7D,MAAIA,YAAY,CAACC,YAAb,CAA0B5W,UAA1B,CAAJ,EAA2C;AACzCyW,IAAAA,UAAU,CAACE,YAAD,CAAV;AACA,WAAOA,YAAP;AACD;;AAED,MAAI9U,EAAE,GAAG8U,YAAY,CAAChV,aAAb,CAA2BlB,QAA3B,CAAT;AACAgW,EAAAA,UAAU,CAACE,YAAD,CAAV;AACA,GAAC9U,EAAD,GAAMv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qQAAR,CAAjD,GAAkUA,SAAS,CAAC,KAAD,CAAjV,GAA2V,KAAK,CAAhW;AACA,GAAC4+B,aAAa,CAAC9I,EAAD,CAAd,GAAqBv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,qCAAR,CAAjD,GAAkGA,SAAS,CAAC,KAAD,CAAhI,GAA0I,KAAK,CAA/I;AACA,SAAO81B,EAAP;AACD,CAXD;;AAaA,SAASgV,eAAT,CAAyBxlC,IAAzB,EAA+B;AAC7B,MAAIwD,SAAS,GAAGxD,IAAI,CAACwD,SAArB;AAAA,MACIqgC,eAAe,GAAG7jC,IAAI,CAAC6jC,eAD3B;AAEA1pC,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI8B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,UAAI,CAACqH,SAAL,EAAgB;AACd;AACD;;AAED,UAAI8hC,YAAY,GAAGzB,eAAe,EAAlC;AACA,OAACyB,YAAD,GAAgBrpC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,8CAAR,CAAjD,GAA2GA,SAAS,CAAC,KAAD,CAApI,GAA8I,KAAK,CAAnJ;AACA2qC,MAAAA,gBAAgB,CAACC,YAAD,CAAhB;AACD;AACF,GAVQ,EAUN,CAACzB,eAAD,EAAkBrgC,SAAlB,CAVM,CAAT;AAWD;;AAED,IAAIiiC,iBAAiB,GAAG,IAAxB;AACA,IAAIC,eAAe,GAAG;AACpBzG,EAAAA,OAAO,EAAE;AADW,CAAtB;;AAIA,IAAI0G,2BAA2B,GAAG,YAAY;AAC5C,MAAIvG,OAAO,GAAG,KAAd;;AAEA,MAAIC,IAAI,GAAG,SAASA,IAAT,GAAgB;AACzB,QAAID,OAAJ,EAAa;AACX;AACD;;AAEDA,IAAAA,OAAO,GAAG,IAAV;AACApiC,IAAAA,MAAM,CAAC2B,gBAAP,CAAwB,OAAxB,EAAiCinC,mBAAjC,EAAsDF,eAAtD;AACD,GAPD;;AASA,MAAIpG,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,QAAI,CAACF,OAAL,EAAc;AACZ;AACD;;AAEDA,IAAAA,OAAO,GAAG,KAAV;AACApiC,IAAAA,MAAM,CAAC6B,mBAAP,CAA2B,OAA3B,EAAoC+mC,mBAApC,EAAyDF,eAAzD;AACD,GAPD;;AASA,MAAIE,mBAAmB,GAAG,SAASA,mBAAT,GAA+B;AACvDtG,IAAAA,MAAM;AACNmG,IAAAA,iBAAiB,GAAG,IAApB;AACD,GAHD;;AAKA,MAAI5kC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,WAAOw+B,IAAI,EAAX;AACD,GAFD;;AAIAx+B,EAAAA,MAAM,CAAC2sB,MAAP,GAAgB,YAAY;AAC1B,WAAO8R,MAAM,EAAb;AACD,GAFD;;AAIA,SAAOz+B,MAAP;AACD,CAnCiC,EAAlC;;AAqCA,IAAIglC,MAAM,GAAG,SAASA,MAAT,CAAgBrgC,EAAhB,EAAoB;AAC/BigC,EAAAA,iBAAiB,GAAGjgC,EAApB;AACAmgC,EAAAA,2BAA2B;AAC5B,CAHD;;AAKA,IAAIG,eAAe,GAAG,SAASA,eAAT,CAAyBtgC,EAAzB,EAA6B8/B,YAA7B,EAA2C;AAC/D,MAAI,CAACG,iBAAL,EAAwB;AACtB;AACD;;AAED,MAAIjgC,EAAE,KAAKigC,iBAAX,EAA8B;AAC5B;AACD;;AAEDA,EAAAA,iBAAiB,GAAG,IAApB;AACAE,EAAAA,2BAA2B,CAACnY,MAA5B;AACA,MAAIuY,aAAa,GAAGV,gBAAgB,CAACC,YAAD,CAApC;;AAEA,MAAI,CAACS,aAAL,EAAoB;AAClB9pC,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,sDAAD,CAA/C,GAA0G,KAAK,CAA/G;AACA;AACD;;AAEDipC,EAAAA,aAAa,CAACC,KAAd;AACD,CAnBD;;AAqBA,IAAIC,QAAQ,GAAG;AACbJ,EAAAA,MAAM,EAAEA,MADK;AAEbC,EAAAA,eAAe,EAAEA;AAFJ,CAAf;;AAKA,SAASI,MAAT,GAAkB,CAAE;;AAEpB,SAASC,gBAAT,CAA0BroC,IAA1B,EAAgC;AAC9B,MAAIsoC,YAAY,GAAGhsC,MAAM,CAAC,KAAD,CAAzB;AACA,MAAIisC,WAAW,GAAG/S,WAAW,CAACx1B,IAAD,CAA7B;AACA,MAAI+lC,eAAe,GAAG/lC,IAAI,CAAC+lC,eAA3B;AACA,MAAIyC,OAAO,GAAG9rC,WAAW,CAAC,YAAY;AACpC4rC,IAAAA,YAAY,CAAC9iC,OAAb,GAAuB,IAAvB;AACD,GAFwB,EAEtB,EAFsB,CAAzB;AAGA,MAAIijC,MAAM,GAAG/rC,WAAW,CAAC,YAAY;AACnC4rC,IAAAA,YAAY,CAAC9iC,OAAb,GAAuB,KAAvB;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAGA6sB,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI7uB,KAAK,GAAG+kC,WAAW,CAAC/iC,OAAxB;;AAEA,QAAI,CAAChC,KAAK,CAACkC,SAAX,EAAsB;AACpB,aAAO0iC,MAAP;AACD;;AAED,QAAI3/B,SAAS,GAAGs9B,eAAe,EAA/B;AACA,KAACt9B,SAAD,GAAatK,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,4CAAR,CAAjD,GAAyGA,SAAS,CAAC,KAAD,CAA/H,GAAyI,KAAK,CAA9I;AACA,QAAIi0B,UAAU,GAAG0W,gBAAgB,CAAC9+B,SAAD,CAAjC;AACA0/B,IAAAA,QAAQ,CAACH,eAAT,CAAyBxkC,KAAK,CAACgG,WAA/B,EAA4CqnB,UAA5C;AACA,WAAO,YAAY;AACjB,UAAI5b,IAAI,GAAGszB,WAAW,CAAC/iC,OAAvB;;AAEA,UAAIkjC,iBAAiB,GAAG,YAAY;AAClC,YAAI,CAACzzB,IAAI,CAACvP,SAAV,EAAqB;AACnB,iBAAO,KAAP;AACD;;AAED,YAAI,CAAC4iC,YAAY,CAAC9iC,OAAlB,EAA2B;AACzB,iBAAO,KAAP;AACD;;AAED,eAAOyP,IAAI,CAAC0J,UAAL,IAAmB1J,IAAI,CAACqpB,eAA/B;AACD,OAVuB,EAAxB;;AAYA,UAAIoK,iBAAJ,EAAuB;AACrBP,QAAAA,QAAQ,CAACJ,MAAT,CAAgB9yB,IAAI,CAACzL,WAArB;AACD;AACF,KAlBD;AAmBD,GA9BwB,EA8BtB,CAACu8B,eAAD,EAAkBwC,WAAlB,CA9BsB,CAAzB;AA+BA,MAAII,gBAAgB,GAAGrsC,MAAM,CAAC,IAAD,CAA7B;AACA+1B,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI,CAACsW,gBAAgB,CAACnjC,OAAtB,EAA+B;AAC7B;AACD;;AAED,QAAIgiC,YAAY,GAAGzB,eAAe,EAAlC;;AAEA,QAAI,CAACyB,YAAL,EAAmB;AACjB;AACD;;AAED,QAAIA,YAAY,KAAKmB,gBAAgB,CAACnjC,OAAtC,EAA+C;AAC7C;AACD;;AAED,QAAI8iC,YAAY,CAAC9iC,OAAb,IAAwB+iC,WAAW,CAAC/iC,OAAZ,CAAoBE,SAAhD,EAA2D;AACzD6hC,MAAAA,gBAAgB,CAACC,YAAD,CAAhB,CAA+BU,KAA/B;AACD;AACF,GAlBwB,CAAzB;AAmBA7V,EAAAA,yBAAyB,CAAC,YAAY;AACpCsW,IAAAA,gBAAgB,CAACnjC,OAAjB,GAA2BugC,eAAe,EAA1C;AACD,GAFwB,CAAzB;AAGA,SAAO;AACL0C,IAAAA,MAAM,EAAEA,MADH;AAELD,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID;;AAED,SAASI,eAAT,CAAyB9N,KAAzB,EAAgC;AAC9BA,EAAAA,KAAK,CAAC2G,cAAN;AACD;;AAED,SAASoH,aAAT,CAAuB7oC,IAAvB,EAA6B;AAC3B,MAAI8oC,YAAY,GAAGxsC,MAAM,CAAC,IAAD,CAAzB;AACA,MAAImmC,cAAc,GAAG/lC,WAAW,CAAC,UAAU0qB,KAAV,EAAiB;AAChD,KAAC,CAAC0hB,YAAY,CAACtjC,OAAf,GAAyBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,gDAAR,CAAjD,GAA6GA,SAAS,CAAC,KAAD,CAA/I,GAAyJ,KAAK,CAA9J;AACAksC,IAAAA,YAAY,CAACtjC,OAAb,GAAuB;AACrB4hB,MAAAA,KAAK,EAAEA;AADc,KAAvB;AAGD,GAL+B,EAK7B,EAL6B,CAAhC;AAMA,MAAIsb,YAAY,GAAGhmC,WAAW,CAAC,YAAY;AACzC,KAACosC,YAAY,CAACtjC,OAAd,GAAwBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kDAAR,CAAjD,GAA+GA,SAAS,CAAC,KAAD,CAAhJ,GAA0J,KAAK,CAA/J;AACAksC,IAAAA,YAAY,CAACtjC,OAAb,GAAuB,IAAvB;AACD,GAH6B,EAG3B,EAH2B,CAA9B;AAIA,MAAIujC,YAAY,GAAGrsC,WAAW,CAAC,YAAY;AACzC,KAACosC,YAAY,CAACtjC,OAAd,GAAwBrH,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,yCAAR,CAAjD,GAAsGA,SAAS,CAAC,KAAD,CAAvI,GAAiJ,KAAK,CAAtJ;AACAksC,IAAAA,YAAY,CAACtjC,OAAb,CAAqB4hB,KAArB;AACD,GAH6B,EAG3B,EAH2B,CAA9B;;AAKA,MAAI4hB,mBAAmB,GAAGvQ,kBAAkB,CAACxE,UAAD,CAA5C;AAAA,MACImC,OAAO,GAAG4S,mBAAmB,CAAC5S,OADlC;AAAA,MAEI5C,YAAY,GAAGwV,mBAAmB,CAAC5iC,KAFvC;;AAIA,MAAIuY,UAAU,GAAG3e,IAAI,CAAC2e,UAAtB;AAAA,MACIjZ,SAAS,GAAG1F,IAAI,CAAC0F,SADrB;AAAA,MAEI8D,WAAW,GAAGxJ,IAAI,CAACwJ,WAFvB;AAAA,MAGImf,SAAS,GAAG3oB,IAAI,CAAC2oB,SAHrB;AAAA,MAIIod,eAAe,GAAG/lC,IAAI,CAAC+lC,eAJ3B;AAAA,MAKIvD,0BAA0B,GAAGxiC,IAAI,CAACwiC,0BALtC;AAAA,MAMIgD,0BAA0B,GAAGxlC,IAAI,CAACwlC,0BANtC;AAOA,MAAI+C,WAAW,GAAG/S,WAAW,CAACx1B,IAAD,CAA7B;AACA0nC,EAAAA,eAAe,CAAC;AACdhiC,IAAAA,SAAS,EAAEA,SADG;AAEdqgC,IAAAA,eAAe,EAAEA;AAFH,GAAD,CAAf;AAIA,MAAI1E,SAAS,GAAG3kC,WAAW,CAAC,YAAY;AACtC,WAAO2+B,eAAe,CAAC0K,eAAe,EAAhB,CAAtB;AACD,GAF0B,EAExB,CAACA,eAAD,CAFwB,CAA3B;AAGA,MAAIxD,iBAAiB,GAAG7lC,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AACnD,QAAI,CAACp1B,SAAL,EAAgB;AACd,aAAO,KAAP;AACD;;AAED,QAAIojC,YAAY,CAACtjC,OAAjB,EAA0B;AACxB,aAAO,KAAP;AACD;;AAED,QAAI,CAAC4wB,OAAO,CAAC5sB,WAAD,CAAZ,EAA2B;AACzB,aAAO,KAAP;AACD;;AAED,WAAO+7B,6BAA6B,CAACzK,KAAD,EAAQ0K,0BAAR,CAApC;AACD,GAdkC,EAchC,CAACA,0BAAD,EAA6BpP,OAA7B,EAAsC5sB,WAAtC,EAAmD9D,SAAnD,CAdgC,CAAnC;;AAgBA,MAAIujC,iBAAiB,GAAGZ,gBAAgB,CAACroC,IAAD,CAAxC;AAAA,MACIyoC,MAAM,GAAGQ,iBAAiB,CAACR,MAD/B;AAAA,MAEID,OAAO,GAAGS,iBAAiB,CAACT,OAFhC;;AAIA,MAAIU,SAAS,GAAGzsC,OAAO,CAAC,YAAY;AAClC,WAAO;AACLksB,MAAAA,SAAS,EAAEA,SADN;AAELod,MAAAA,eAAe,EAAEA,eAFZ;AAGL1E,MAAAA,SAAS,EAAEA,SAHN;AAILkB,MAAAA,iBAAiB,EAAEA,iBAJd;AAKLE,MAAAA,cAAc,EAAEA,cALX;AAMLC,MAAAA,YAAY,EAAEA,YANT;AAOLF,MAAAA,0BAA0B,EAAEA;AAPvB,KAAP;AASD,GAVsB,EAUpB,CAAC7Z,SAAD,EAAYod,eAAZ,EAA6B1E,SAA7B,EAAwCkB,iBAAxC,EAA2DE,cAA3D,EAA2EC,YAA3E,EAAyFF,0BAAzF,CAVoB,CAAvB;AAWA,MAAI4B,WAAW,GAAG9B,cAAc,CAAC4G,SAAD,CAAhC;AACA,MAAIC,YAAY,GAAG1sC,OAAO,CAAC,YAAY;AACrC,WAAO;AACLksB,MAAAA,SAAS,EAAEA,SADN;AAELod,MAAAA,eAAe,EAAEA,eAFZ;AAGL1E,MAAAA,SAAS,EAAEA,SAHN;AAILkB,MAAAA,iBAAiB,EAAEA,iBAJd;AAKLE,MAAAA,cAAc,EAAEA,cALX;AAMLC,MAAAA,YAAY,EAAEA;AANT,KAAP;AAQD,GATyB,EASvB,CAAC/Z,SAAD,EAAY4Z,iBAAZ,EAA+BwD,eAA/B,EAAgD1E,SAAhD,EAA2DqB,YAA3D,EAAyED,cAAzE,CATuB,CAA1B;AAUA,MAAIwD,SAAS,GAAGH,iBAAiB,CAACqD,YAAD,CAAjC;AACA,MAAIC,SAAS,GAAG3sC,OAAO,CAAC,YAAY;AAClC,WAAO;AACLksB,MAAAA,SAAS,EAAEA,SADN;AAELod,MAAAA,eAAe,EAAEA,eAFZ;AAGL1E,MAAAA,SAAS,EAAEA,SAHN;AAILkB,MAAAA,iBAAiB,EAAEA,iBAJd;AAKLC,MAAAA,0BAA0B,EAAEA,0BALvB;AAMLC,MAAAA,cAAc,EAAEA,cANX;AAOLC,MAAAA,YAAY,EAAEA;AAPT,KAAP;AASD,GAVsB,EAUpB,CAAC/Z,SAAD,EAAYod,eAAZ,EAA6B1E,SAA7B,EAAwCkB,iBAAxC,EAA2DC,0BAA3D,EAAuFC,cAAvF,EAAuGC,YAAvG,CAVoB,CAAvB;AAWA,MAAIyE,YAAY,GAAGR,cAAc,CAACyC,SAAD,CAAjC;AACA/W,EAAAA,yBAAyB,CAAC,YAAY;AACpC,WAAO,YAAY;AACjB,UAAI,CAACyW,YAAY,CAACtjC,OAAlB,EAA2B;AACzB;AACD;;AAEDujC,MAAAA,YAAY;;AAEZ,UAAIR,WAAW,CAAC/iC,OAAZ,CAAoBmZ,UAAxB,EAAoC;AAClC4pB,QAAAA,WAAW,CAAC/iC,OAAZ,CAAoBmjB,SAApB,CAA8Bwa,QAA9B;AACD;AACF,KAVD;AAWD,GAZwB,EAYtB,EAZsB,CAAzB;;AAcA,MAAI,CAACz9B,SAAD,IAAcojC,YAAY,CAACtjC,OAA/B,EAAwC;AACtCujC,IAAAA,YAAY;;AAEZ,QAAIR,WAAW,CAAC/iC,OAAZ,CAAoBmZ,UAAxB,EAAoC;AAClCxgB,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,8FAAD,CAA/C,GAAkJ,KAAK,CAAvJ;AACA2pB,MAAAA,SAAS,CAACwa,QAAV;AACD;AACF;;AAED9Q,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI,CAAC1T,UAAD,IAAemqB,YAAY,CAACtjC,OAAhC,EAAyC;AACvCujC,MAAAA,YAAY;AACb;AACF,GAJwB,EAItB,CAACA,YAAD,EAAepqB,UAAf,CAJsB,CAAzB;AAKA,MAAIzd,KAAK,GAAGzE,OAAO,CAAC,YAAY;AAC9B,QAAI,CAACiJ,SAAL,EAAgB;AACd,aAAO,IAAP;AACD;;AAED,WAAO;AACL0+B,MAAAA,WAAW,EAAEA,WADR;AAEL6B,MAAAA,SAAS,EAAEA,SAFN;AAGLkB,MAAAA,YAAY,EAAEA,YAHT;AAILqB,MAAAA,OAAO,EAAEA,OAJJ;AAKLC,MAAAA,MAAM,EAAEA,MALH;AAMLY,MAAAA,QAAQ,EAAE,CANL;AAOL,8CAAwC7V,YAPnC;AAQL,8BAAwB,yCARnB;AASL/qB,MAAAA,SAAS,EAAE,KATN;AAUL4b,MAAAA,WAAW,EAAEukB;AAVR,KAAP;AAYD,GAjBkB,EAiBhB,CAACljC,SAAD,EAAY+iC,MAAZ,EAAoBD,OAApB,EAA6BvC,SAA7B,EAAwC7B,WAAxC,EAAqD+C,YAArD,EAAmE3T,YAAnE,CAjBgB,CAAnB;AAkBA,SAAOtyB,KAAP;AACD;;AAED,SAASooC,cAAT,CAAwB7hC,UAAxB,EAAoCirB,EAApC,EAAwCnI,YAAxC,EAAsD;AACpD,MAAIA,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAC3BA,IAAAA,YAAY,GAAGlpB,MAAf;AACD;;AAED,MAAIkoC,cAAc,GAAGrqC,MAAM,CAACg4B,gBAAP,CAAwBxE,EAAxB,CAArB;AACA,MAAIpoB,SAAS,GAAGooB,EAAE,CAACgT,qBAAH,EAAhB;AACA,MAAI12B,MAAM,GAAGtR,YAAY,CAAC4M,SAAD,EAAYi/B,cAAZ,CAAzB;AACA,MAAI5kC,IAAI,GAAGpH,UAAU,CAACyR,MAAD,EAASub,YAAT,CAArB;AACA,MAAI/a,WAAW,GAAG;AAChBR,IAAAA,MAAM,EAAEA,MADQ;AAEhBgsB,IAAAA,OAAO,EAAEtI,EAAE,CAACsI,OAAH,CAAW5F,WAAX,EAFO;AAGhBgD,IAAAA,OAAO,EAAEmR,cAAc,CAACnR;AAHR,GAAlB;AAKA,MAAI7tB,UAAU,GAAG;AACfjJ,IAAAA,CAAC,EAAE0N,MAAM,CAACnK,SAAP,CAAiBxB,KADL;AAEf9B,IAAAA,CAAC,EAAEyN,MAAM,CAACnK,SAAP,CAAiBvB;AAFL,GAAjB;AAIA,MAAIkK,SAAS,GAAG;AACd/F,IAAAA,UAAU,EAAEA,UADE;AAEd+H,IAAAA,WAAW,EAAEA,WAFC;AAGdjF,IAAAA,UAAU,EAAEA,UAHE;AAIdyE,IAAAA,MAAM,EAAEA,MAJM;AAKdrK,IAAAA,IAAI,EAAEA;AALQ,GAAhB;AAOA,SAAO6I,SAAP;AACD;;AAED,SAASg8B,8BAAT,CAAwCxpC,IAAxC,EAA8C;AAC5C,MAAIwJ,WAAW,GAAGxJ,IAAI,CAACwJ,WAAvB;AAAA,MACIpC,KAAK,GAAGpH,IAAI,CAACoH,KADjB;AAAA,MAEI2+B,eAAe,GAAG/lC,IAAI,CAAC+lC,eAF3B;AAGA,MAAI5P,UAAU,GAAGsC,kBAAkB,CAACxE,UAAD,CAAnC;AACA,MAAI7S,OAAO,GAAG+U,UAAU,CAAC/U,OAAzB;AACA,MAAIyb,gBAAgB,GAAGpE,kBAAkB,CAAC2C,gBAAD,CAAzC;AACA,MAAIx0B,WAAW,GAAGi2B,gBAAgB,CAACj2B,WAAnC;AAAA,MACI4V,IAAI,GAAGqgB,gBAAgB,CAACrgB,IAD5B;AAEA,MAAI/U,UAAU,GAAGhL,OAAO,CAAC,YAAY;AACnC,QAAIsG,MAAM,GAAG;AACX2E,MAAAA,EAAE,EAAE8B,WADO;AAEX5C,MAAAA,WAAW,EAAEA,WAFF;AAGX4V,MAAAA,IAAI,EAAEA,IAHK;AAIXpV,MAAAA,KAAK,EAAEA;AAJI,KAAb;AAMA,WAAOrE,MAAP;AACD,GARuB,EAQrB,CAACyG,WAAD,EAAc5C,WAAd,EAA2BQ,KAA3B,EAAkCoV,IAAlC,CARqB,CAAxB;AASA,MAAIuc,sBAAsB,GAAGz8B,MAAM,CAACmL,UAAD,CAAnC;AACA,MAAIgiC,aAAa,GAAG/sC,WAAW,CAAC,UAAU6tB,YAAV,EAAwB;AACtD,QAAImf,MAAM,GAAG3Q,sBAAsB,CAACvzB,OAApC;AACA,QAAIktB,EAAE,GAAGqT,eAAe,EAAxB;AACA,KAACrT,EAAD,GAAMv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,yCAAR,CAAjD,GAAsGA,SAAS,CAAC,KAAD,CAArH,GAA+H,KAAK,CAApI;AACA,WAAO0sC,cAAc,CAACI,MAAD,EAAShX,EAAT,EAAanI,YAAb,CAArB;AACD,GAL8B,EAK5B,CAACwb,eAAD,CAL4B,CAA/B;AAMA1T,EAAAA,yBAAyB,CAAC,YAAY;AACpCjR,IAAAA,OAAO,CAACwJ,iBAAR,CAA0BmO,sBAAsB,CAACvzB,OAAjD,EAA0DikC,aAA1D;AACA,WAAO,YAAY;AACjB,aAAOroB,OAAO,CAAC0J,mBAAR,CAA4BiO,sBAAsB,CAACvzB,OAAnD,CAAP;AACD,KAFD;AAGD,GALwB,EAKtB,CAACikC,aAAD,EAAgBroB,OAAhB,CALsB,CAAzB;AAMAiR,EAAAA,yBAAyB,CAAC,YAAY;AACpC,QAAI0G,sBAAsB,CAACvzB,OAAvB,KAAmCiC,UAAvC,EAAmD;AACjD;AACD;;AAED,QAAIxB,QAAQ,GAAG8yB,sBAAsB,CAACvzB,OAAtC;AACAuzB,IAAAA,sBAAsB,CAACvzB,OAAvB,GAAiCiC,UAAjC;AACA2Z,IAAAA,OAAO,CAACyJ,eAAR,CAAwB5kB,QAAxB,EAAkCwB,UAAlC,EAA8CgiC,aAA9C;AACD,GARwB,EAQtB,CAAChiC,UAAD,EAAagiC,aAAb,EAA4BroB,OAA5B,CARsB,CAAzB;AASD;;AAED,SAASuoB,eAAT,CAAyBzoC,KAAzB,EAAgC;AAC9B,GAACjD,iBAAiB,CAACiD,KAAK,CAACkG,KAAP,CAAlB,GAAkCjJ,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,0CAAR,CAAjD,GAAuGA,SAAS,CAAC,KAAD,CAAlJ,GAA4J,KAAK,CAAjK;AACA,GAACsE,KAAK,CAACsI,WAAP,GAAqBrL,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kCAAR,CAAjD,GAA+FA,SAAS,CAAC,KAAD,CAA7H,GAAuI,KAAK,CAA5I;AACA,IAAE,OAAOsE,KAAK,CAAC0oC,cAAb,KAAgC,SAAlC,IAA+CzrC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,kCAAR,CAAjD,GAA+FA,SAAS,CAAC,KAAD,CAAvJ,GAAiK,KAAK,CAAtK;AACD;;AAED,SAASitC,qBAAT,CAA+B3oC,KAA/B,EAAsC;AACpC,MAAI4oC,MAAM,CAACnpC,SAAP,CAAiBopC,cAAjB,CAAgC5pC,IAAhC,CAAqCe,KAArC,EAA4C,yBAA5C,CAAJ,EAA4E;AAC1E/C,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCW,OAAO,CAAC,qEAAD,CAA/C,GAAyH,KAAK,CAA9H;AACD;AACF;;AAED,SAASgrC,eAAT,CAAyB9oC,KAAzB,EAAgC+oC,MAAhC,EAAwC;AACtC5tC,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI8B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCsrC,MAAAA,eAAe,CAACzoC,KAAD,CAAf;AACA2oC,MAAAA,qBAAqB,CAAC3oC,KAAD,CAArB;AACAw6B,MAAAA,oBAAoB,CAACuO,MAAM,EAAP,CAApB;AACD;AACF,GANQ,CAAT;AAOD;;AAED,SAASC,SAAT,CAAmBhpC,KAAnB,EAA0B;AACxB,MAAIoyB,GAAG,GAAGh3B,MAAM,CAAC,IAAD,CAAhB;AACA,MAAI6tC,MAAM,GAAGztC,WAAW,CAAC,UAAUg2B,EAAV,EAAc;AACrCY,IAAAA,GAAG,CAAC9tB,OAAJ,GAAcktB,EAAd;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAGA,MAAIuX,MAAM,GAAGvtC,WAAW,CAAC,YAAY;AACnC,WAAO42B,GAAG,CAAC9tB,OAAX;AACD,GAFuB,EAErB,EAFqB,CAAxB;AAGA,MAAI2wB,UAAU,GAAGsC,kBAAkB,CAACxE,UAAD,CAAnC;AACA+V,EAAAA,eAAe,CAAC9oC,KAAD,EAAQ+oC,MAAR,CAAf;AACA,MAAI9oC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,MACIqI,WAAW,GAAGtI,KAAK,CAACsI,WADxB;AAAA,MAEIogC,cAAc,GAAG1oC,KAAK,CAAC0oC,cAF3B;AAAA,MAGIQ,uBAAuB,GAAGlpC,KAAK,CAACkpC,uBAHpC;AAAA,MAII5E,0BAA0B,GAAGtkC,KAAK,CAACmpC,iCAJvC;AAAA,MAKIjjC,KAAK,GAAGlG,KAAK,CAACkG,KALlB;AAAA,MAMI23B,MAAM,GAAG79B,KAAK,CAAC69B,MANnB;AAAA,MAOIuL,YAAY,GAAGppC,KAAK,CAACwf,MAPzB;AAAA,MAQI6pB,UAAU,GAAGrpC,KAAK,CAACqf,IARvB;AAAA,MASIiqB,UAAU,GAAGtpC,KAAK,CAAC+f,IATvB;AAAA,MAUIwpB,cAAc,GAAGvpC,KAAK,CAACyf,QAV3B;AAAA,MAWI+pB,eAAe,GAAGxpC,KAAK,CAAC0f,SAX5B;AAAA,MAYI+pB,cAAc,GAAGzpC,KAAK,CAAC2f,QAZ3B;AAAA,MAaI+pB,wBAAwB,GAAG1pC,KAAK,CAACsf,kBAbrC;AAAA,MAcIqqB,UAAU,GAAG3pC,KAAK,CAAC8e,IAdvB;AAAA,MAeI8qB,2BAA2B,GAAG5pC,KAAK,CAACggB,qBAfxC;AAgBA,MAAI6pB,YAAY,GAAGtuC,OAAO,CAAC,YAAY;AACrC,WAAO;AACL+M,MAAAA,WAAW,EAAEA,WADR;AAELpC,MAAAA,KAAK,EAAEA,KAFF;AAGL2+B,MAAAA,eAAe,EAAEkE;AAHZ,KAAP;AAKD,GANyB,EAMvB,CAACzgC,WAAD,EAAcygC,MAAd,EAAsB7iC,KAAtB,CANuB,CAA1B;AAOAoiC,EAAAA,8BAA8B,CAACuB,YAAD,CAA9B;AACA,MAAIthC,MAAM,GAAG/M,WAAW,CAAC,UAAU4sB,OAAV,EAAmB;AAC1C1jB,IAAAA,KAAK,CAAC,MAAD,CAAL;AACA,QAAI8sB,EAAE,GAAGY,GAAG,CAAC9tB,OAAb;AACA,KAACktB,EAAD,GAAMv0B,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,CAAjD,GAA2DA,SAAS,CAAC,KAAD,CAA1E,GAAoF,KAAK,CAAzF;AACA,KAAC,CAACgtC,cAAF,GAAmBzrC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCzB,SAAS,CAAC,KAAD,EAAQ,6CAAR,CAAjD,GAA0GA,SAAS,CAAC,KAAD,CAAtI,GAAgJ,KAAK,CAArJ;AACA,QAAIie,eAAe,GAAGyO,OAAO,CAACzO,eAA9B;AAAA,QACI1E,YAAY,GAAGmT,OAAO,CAACnT,YAD3B;AAEA00B,IAAAA,UAAU,CAAC;AACTnjC,MAAAA,EAAE,EAAE8B,WADK;AAETqR,MAAAA,eAAe,EAAEA,eAFR;AAGT1E,MAAAA,YAAY,EAAEA;AAHL,KAAD,CAAV;AAKAnQ,IAAAA,MAAM,CAAC,MAAD,CAAN;AACD,GAbuB,EAarB,CAACwD,WAAD,EAAcogC,cAAd,EAA8BiB,UAA9B,CAbqB,CAAxB;AAcA,MAAIrI,0BAA0B,GAAG9lC,WAAW,CAAC,YAAY;AACvD,WAAO0tC,uBAAP;AACD,GAF2C,EAEzC,CAACA,uBAAD,CAFyC,CAA5C;AAGA,MAAIzhB,SAAS,GAAGlsB,OAAO,CAAC,YAAY;AAClC,WAAO;AACLgN,MAAAA,MAAM,EAAEA,MADH;AAELu2B,MAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBnlB,eAAhB,EAAiC;AACvC,eAAO0vB,UAAU,CAAC;AAChBv7B,UAAAA,MAAM,EAAE6L;AADQ,SAAD,CAAjB;AAGD,OANI;AAOL6oB,MAAAA,MAAM,EAAE,SAASA,MAAT,GAAkB;AACxB,eAAO8G,UAAU,CAAC;AAChBh0B,UAAAA,MAAM,EAAE;AADQ,SAAD,CAAjB;AAGD,OAXI;AAYL2sB,MAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB;AAC5B,eAAOqH,UAAU,CAAC;AAChBh0B,UAAAA,MAAM,EAAE;AADQ,SAAD,CAAjB;AAGD,OAhBI;AAiBLypB,MAAAA,QAAQ,EAAEqK,YAjBL;AAkBLpK,MAAAA,UAAU,EAAEuK,cAlBP;AAmBLtK,MAAAA,WAAW,EAAEuK,eAnBR;AAoBLtK,MAAAA,UAAU,EAAEuK,cApBP;AAqBLrK,MAAAA,cAAc,EAAE,SAASA,cAAT,GAA0B;AACxC,eAAOsK,wBAAwB,CAAC;AAC9BzlC,UAAAA,SAAS,EAAEwkB,eAAe;AADI,SAAD,CAA/B;AAGD;AAzBI,KAAP;AA2BD,GA5BsB,EA4BpB,CAAC6gB,UAAD,EAAaD,UAAb,EAAyBK,wBAAzB,EAAmDH,cAAnD,EAAmEE,cAAnE,EAAmFD,eAAnF,EAAoGJ,YAApG,EAAkH7gC,MAAlH,CA5BoB,CAAvB;AA6BA,MAAIkV,UAAU,GAAGogB,MAAM,CAACviB,IAAP,KAAgB,UAAjC;AACA,MAAI8hB,eAAe,GAAGS,MAAM,CAACviB,IAAP,KAAgB,UAAhB,IAA8B9S,OAAO,CAACq1B,MAAM,CAACld,QAAR,CAA3D;AACA,MAAImpB,cAAc,GAAGvuC,OAAO,CAAC,YAAY;AACvC,WAAO;AACL+M,MAAAA,WAAW,EAAEA,WADR;AAELmV,MAAAA,UAAU,EAAEA,UAFP;AAGL2f,MAAAA,eAAe,EAAEA,eAHZ;AAIL54B,MAAAA,SAAS,EAAE,CAACkkC,cAJP;AAKLjhB,MAAAA,SAAS,EAAEA,SALN;AAMLod,MAAAA,eAAe,EAAEkE,MANZ;AAOLzE,MAAAA,0BAA0B,EAAEA,0BAPvB;AAQLhD,MAAAA,0BAA0B,EAAEA;AARvB,KAAP;AAUD,GAX2B,EAWzB,CAAC7Z,SAAD,EAAY6c,0BAAZ,EAAwCh8B,WAAxC,EAAqDygC,MAArD,EAA6DzH,0BAA7D,EAAyFoH,cAAzF,EAAyGjrB,UAAzG,EAAqH2f,eAArH,CAXyB,CAA5B;AAYA,MAAI2M,eAAe,GAAGpC,aAAa,CAACmC,cAAD,CAAnC;AACA,MAAIE,SAAS,GAAGxuC,WAAW,CAAC,UAAUo+B,KAAV,EAAiB;AAC3C,QAAIiE,MAAM,CAACviB,IAAP,KAAgB,UAApB,EAAgC;AAC9B;AACD;;AAED,QAAI,CAACuiB,MAAM,CAACld,QAAZ,EAAsB;AACpB;AACD;;AAED,QAAIiZ,KAAK,CAACC,YAAN,KAAuB,WAA3B,EAAwC;AACtC;AACD;;AAED+P,IAAAA,2BAA2B;AAC5B,GAd0B,EAcxB,CAACA,2BAAD,EAA8B/L,MAA9B,CAdwB,CAA3B;AAeA,MAAI3qB,QAAQ,GAAG3X,OAAO,CAAC,YAAY;AACjC,QAAI2J,KAAK,GAAG04B,UAAU,CAACC,MAAD,CAAtB;AACA,QAAItE,eAAe,GAAGsE,MAAM,CAACviB,IAAP,KAAgB,UAAhB,IAA8BuiB,MAAM,CAACld,QAArC,GAAgDqpB,SAAhD,GAA4D,IAAlF;AACA,QAAInoC,MAAM,GAAG;AACXk4B,MAAAA,QAAQ,EAAEkP,MADC;AAEXgB,MAAAA,cAAc,EAAE;AACd,8CAAsChV,UAAU,CAAC/vB,KADnC;AAEdA,QAAAA,KAAK,EAAEA,KAFO;AAGdq0B,QAAAA,eAAe,EAAEA;AAHH,OAFL;AAOXwQ,MAAAA,eAAe,EAAEA;AAPN,KAAb;AASA,WAAOloC,MAAP;AACD,GAbqB,EAanB,CAACozB,UAAU,CAAC/vB,KAAZ,EAAmB6kC,eAAnB,EAAoClM,MAApC,EAA4CmM,SAA5C,EAAuDf,MAAvD,CAbmB,CAAtB;AAcA,SAAOhpC,QAAQ,CAACiT,QAAD,EAAW2qB,MAAM,CAACxC,QAAlB,CAAf;AACD;;AAED,IAAI6O,wBAAwB,GAAG,SAASA,wBAAT,CAAkCroC,MAAlC,EAA0C;AACvE,SAAOA,MAAM,CAAC8D,OAAP,GAAiB9D,MAAM,CAAC8D,OAAP,CAAe2C,WAAhC,GAA8C,IAArD;AACD,CAFD;;AAIA,IAAI6hC,wBAAwB,GAAG,SAASA,wBAAT,CAAkC5kC,MAAlC,EAA0C;AACvE,SAAOA,MAAM,CAACC,KAAP,GAAeD,MAAM,CAACC,KAAP,CAAaG,OAAb,CAAqB2C,WAApC,GAAkD,IAAzD;AACD,CAFD;;AAIA,IAAI8hC,qBAAqB,GAAG,SAASpO,mBAAT,GAA+B;AACzD,MAAIqO,mBAAmB,GAAG5tC,UAAU,CAAC,UAAUumB,IAAV,EAAgBsnB,YAAhB,EAA8B1hC,WAA9B,EAA2C+X,QAA3C,EAAqD;AACxF,WAAO;AACLlD,MAAAA,UAAU,EAAE,IADP;AAEL2f,MAAAA,eAAe,EAAE50B,OAAO,CAACmY,QAAD,CAFnB;AAGL4pB,MAAAA,aAAa,EAAE5pB,QAHV;AAILqC,MAAAA,IAAI,EAAEA,IAJD;AAKLsnB,MAAAA,YAAY,EAAEA,YALT;AAML1hC,MAAAA,WAAW,EAAEA,WANR;AAOL4hC,MAAAA,gBAAgB,EAAE;AAPb,KAAP;AASD,GAVmC,CAApC;AAWA,MAAIC,oBAAoB,GAAGhuC,UAAU,CAAC,UAAU+tC,gBAAV,EAA4B;AAChE,WAAO;AACL/sB,MAAAA,UAAU,EAAE,KADP;AAEL2f,MAAAA,eAAe,EAAE,KAFZ;AAGLmN,MAAAA,aAAa,EAAE,IAHV;AAILvnB,MAAAA,IAAI,EAAE,IAJD;AAKLsnB,MAAAA,YAAY,EAAE,IALT;AAMLE,MAAAA,gBAAgB,EAAEA,gBANb;AAOL5hC,MAAAA,WAAW,EAAE;AAPR,KAAP;AASD,GAVoC,CAArC;AAWA,MAAI8hC,eAAe,GAAG;AACpB7M,IAAAA,MAAM,EAAE;AACNviB,MAAAA,IAAI,EAAE,WADA;AAENlf,MAAAA,MAAM,EAAE+D,MAFF;AAGNqqC,MAAAA,gBAAgB,EAAE,IAHZ;AAIN7M,MAAAA,yBAAyB,EAAE,IAJrB;AAKNtC,MAAAA,QAAQ,EAAEoP,oBAAoB,CAAC,IAAD;AALxB;AADY,GAAtB;AASA,MAAIE,cAAc,GAAGluC,UAAU,CAAC,UAAU2D,CAAV,EAAaC,CAAb,EAAgB;AAC9C,WAAO;AACLD,MAAAA,CAAC,EAAEA,CADE;AAELC,MAAAA,CAAC,EAAEA;AAFE,KAAP;AAID,GAL8B,CAA/B;AAMA,MAAIuqC,gBAAgB,GAAGnuC,UAAU,CAAC,UAAUL,MAAV,EAAkB4mB,IAAlB,EAAwB1W,SAAxB,EAAmCg+B,YAAnC,EAAiD1hC,WAAjD,EAA8DiD,kBAA9D,EAAkF;AAClH,WAAO;AACLgyB,MAAAA,MAAM,EAAE;AACNviB,QAAAA,IAAI,EAAE,UADA;AAENqF,QAAAA,QAAQ,EAAE,IAFJ;AAGN2pB,QAAAA,YAAY,EAAEA,YAHR;AAIN1hC,QAAAA,WAAW,EAAEA,WAJP;AAKNoa,QAAAA,IAAI,EAAEA,IALA;AAMN5mB,QAAAA,MAAM,EAAEA,MANF;AAONkQ,QAAAA,SAAS,EAAEA,SAPL;AAQNT,QAAAA,kBAAkB,EAAEA,kBARd;AASNwvB,QAAAA,QAAQ,EAAEgP,mBAAmB,CAACrnB,IAAD,EAAOsnB,YAAP,EAAqB1hC,WAArB,EAAkC,IAAlC;AATvB;AADH,KAAP;AAaD,GAdgC,CAAjC;AAeA,MAAIiiC,iBAAiB,GAAGpuC,UAAU,CAAC,UAAUL,MAAV,EAAkBouC,gBAAlB,EAAoC7M,yBAApC,EAA+D;AAChG,QAAI6M,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAC/BA,MAAAA,gBAAgB,GAAG,IAAnB;AACD;;AAED,WAAO;AACL3M,MAAAA,MAAM,EAAE;AACNviB,QAAAA,IAAI,EAAE,WADA;AAENlf,QAAAA,MAAM,EAAEA,MAFF;AAGNouC,QAAAA,gBAAgB,EAAEA,gBAHZ;AAIN7M,QAAAA,yBAAyB,EAAEA,yBAJrB;AAKNtC,QAAAA,QAAQ,EAAEoP,oBAAoB,CAACD,gBAAD;AALxB;AADH,KAAP;AASD,GAdiC,CAAlC;;AAgBA,MAAIM,oBAAoB,GAAG,SAASA,oBAAT,CAA8BC,KAA9B,EAAqCC,UAArC,EAAiDzlC,MAAjD,EAAyD;AAClF,QAAI9D,GAAG,GAAG8D,MAAM,CAAC0E,QAAP,CAAgBxI,GAA1B;AACA,QAAIqB,YAAY,GAAGrB,GAAG,CAACspC,KAAD,CAAtB;AACA,QAAI9gC,QAAQ,GAAG1E,MAAM,CAAC0E,QAAtB;AACA,QAAIzE,KAAK,GAAGD,MAAM,CAACC,KAAnB;AACA,QAAIylC,cAAc,GAAGziC,OAAO,CAAChD,KAAK,IAAIA,KAAK,CAACG,OAAN,CAAc2C,WAAd,KAA8ByiC,KAAxC,CAA5B;AACA,QAAIliC,WAAW,GAAGoB,QAAQ,CAACpB,WAAT,CAAqBjI,KAAvC;AACA,QAAIxE,MAAM,GAAGuuC,cAAc,CAAC9hC,WAAW,CAACzI,CAAb,EAAgByI,WAAW,CAACxI,CAA5B,CAA3B;;AAEA,QAAI4qC,cAAJ,EAAoB;AAClB,aAAOJ,iBAAiB,CAAC/nC,YAAY,GAAG1G,MAAH,GAAY+D,MAAzB,EAAiC6qC,UAAjC,EAA6CloC,YAAY,GAAGA,YAAY,CAACgJ,aAAhB,GAAgC,IAAzF,CAAxB;AACD;;AAED,QAAI,CAAChJ,YAAL,EAAmB;AACjB,aAAO,IAAP;AACD;;AAED,QAAI,CAACA,YAAY,CAACuI,SAAlB,EAA6B;AAC3B,aAAO,IAAP;AACD;;AAED,WAAOw/B,iBAAiB,CAACzuC,MAAD,EAAS,IAAT,EAAe0G,YAAY,CAACgJ,aAA5B,CAAxB;AACD,GAtBD;;AAwBA,MAAIo/B,gBAAgB,GAAG,SAASA,gBAAT,CAA0B12B,KAA1B,EAAiC+nB,QAAjC,EAA2C;AAChE,QAAI/nB,KAAK,CAACiJ,UAAV,EAAsB;AACpB,UAAIjJ,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAAzB,KAAgC+1B,QAAQ,CAACj0B,WAA7C,EAA0D;AACxD,eAAO,IAAP;AACD;;AAED,UAAIlM,MAAM,GAAGoY,KAAK,CAAClQ,OAAN,CAAcwJ,MAAd,CAAqB1R,MAAlC;AACA,UAAIkQ,SAAS,GAAGkI,KAAK,CAACE,UAAN,CAAiBhO,UAAjB,CAA4B61B,QAAQ,CAACj0B,WAArC,CAAhB;AACA,UAAI0a,IAAI,GAAGxO,KAAK,CAACS,YAAjB;AACA,UAAIq1B,YAAY,GAAGhlC,iBAAiB,CAACkP,KAAK,CAACjP,MAAP,CAApC;AACA,UAAIqD,WAAW,GAAGuhC,wBAAwB,CAAC31B,KAAK,CAACjP,MAAP,CAA1C;AACA,UAAIsG,kBAAkB,GAAG2I,KAAK,CAAC3I,kBAA/B;AACA,aAAO++B,gBAAgB,CAACD,cAAc,CAACvuC,MAAM,CAACgE,CAAR,EAAWhE,MAAM,CAACiE,CAAlB,CAAf,EAAqC2iB,IAArC,EAA2C1W,SAA3C,EAAsDg+B,YAAtD,EAAoE1hC,WAApE,EAAiFiD,kBAAjF,CAAvB;AACD;;AAED,QAAI2I,KAAK,CAACW,KAAN,KAAgB,gBAApB,EAAsC;AACpC,UAAI8H,SAAS,GAAGzI,KAAK,CAACyI,SAAtB;;AAEA,UAAIA,SAAS,CAACpb,MAAV,CAAiByG,WAAjB,KAAiCi0B,QAAQ,CAACj0B,WAA9C,EAA2D;AACzD,eAAO,IAAP;AACD;;AAED,UAAIkiB,UAAU,GAAGhW,KAAK,CAACE,UAAN,CAAiBhO,UAAjB,CAA4B61B,QAAQ,CAACj0B,WAArC,CAAjB;AACA,UAAIzG,MAAM,GAAGob,SAAS,CAACpb,MAAvB;AACA,UAAIspC,KAAK,GAAGtpC,MAAM,CAACmhB,IAAnB;;AAEA,UAAIooB,aAAa,GAAGvP,2BAA2B,CAACh6B,MAAD,CAA/C;;AAEA,UAAIwpC,YAAY,GAAGnB,wBAAwB,CAACroC,MAAD,CAA3C;;AAEA,UAAI4f,QAAQ,GAAGjN,KAAK,CAACiK,YAArB;AACA,UAAIkC,QAAQ,GAAG;AACbc,QAAAA,QAAQ,EAAEA,QADG;AAEb6pB,QAAAA,KAAK,EAAEzqB,MAAM,CAACd,IAFD;AAGb4B,QAAAA,MAAM,EAAEnN,KAAK,CAACkK,mBAHD;AAIbqC,QAAAA,OAAO,EAAEsqB,YAAY,GAAG1lC,OAAO,CAACob,OAAR,CAAgBhB,IAAnB,GAA0B,IAJlC;AAKbkB,QAAAA,KAAK,EAAEoqB,YAAY,GAAG1lC,OAAO,CAACsb,KAAR,CAAclB,IAAjB,GAAwB;AAL9B,OAAf;AAOA,aAAO;AACL8d,QAAAA,MAAM,EAAE;AACNviB,UAAAA,IAAI,EAAE,UADA;AAENlf,UAAAA,MAAM,EAAEoY,KAAK,CAACkK,mBAFR;AAGNpS,UAAAA,SAAS,EAAEke,UAHL;AAIN7J,UAAAA,QAAQ,EAAEA,QAJJ;AAKN2pB,UAAAA,YAAY,EAAEc,aALR;AAMNxiC,UAAAA,WAAW,EAAEyiC,YANP;AAONroB,UAAAA,IAAI,EAAEmoB,KAPA;AAQNt/B,UAAAA,kBAAkB,EAAE,IARd;AASNwvB,UAAAA,QAAQ,EAAEgP,mBAAmB,CAACc,KAAD,EAAQC,aAAR,EAAuBC,YAAvB,EAAqC1qB,QAArC;AATvB;AADH,OAAP;AAaD;;AAED,WAAO,IAAP;AACD,GAtDD;;AAwDA,MAAI4qB,iBAAiB,GAAG,SAASA,iBAAT,CAA2B/2B,KAA3B,EAAkC+nB,QAAlC,EAA4C;AAClE,QAAI/nB,KAAK,CAACiJ,UAAV,EAAsB;AACpB,UAAIjJ,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAAzB,KAAgC+1B,QAAQ,CAACj0B,WAA7C,EAA0D;AACxD,eAAO,IAAP;AACD;;AAED,aAAOwiC,oBAAoB,CAACvO,QAAQ,CAACj0B,WAAV,EAAuBkM,KAAK,CAACG,QAAN,CAAepN,SAAf,CAAyBf,EAAhD,EAAoDgO,KAAK,CAACjP,MAA1D,CAA3B;AACD;;AAED,QAAIiP,KAAK,CAACW,KAAN,KAAgB,gBAApB,EAAsC;AACpC,UAAI8H,SAAS,GAAGzI,KAAK,CAACyI,SAAtB;;AAEA,UAAIA,SAAS,CAACpb,MAAV,CAAiByG,WAAjB,KAAiCi0B,QAAQ,CAACj0B,WAA9C,EAA2D;AACzD,eAAO,IAAP;AACD;;AAED,aAAOwiC,oBAAoB,CAACvO,QAAQ,CAACj0B,WAAV,EAAuB2U,SAAS,CAACpb,MAAV,CAAiByG,WAAxC,EAAqD2U,SAAS,CAAC1X,MAA/D,CAA3B;AACD;;AAED,WAAO,IAAP;AACD,GApBD;;AAsBA,MAAI6qB,QAAQ,GAAG,SAASA,QAAT,CAAkB5b,KAAlB,EAAyB+nB,QAAzB,EAAmC;AAChD,WAAO2O,gBAAgB,CAAC12B,KAAD,EAAQ+nB,QAAR,CAAhB,IAAqCgP,iBAAiB,CAAC/2B,KAAD,EAAQ+nB,QAAR,CAAtD,IAA2EmO,eAAlF;AACD,GAFD;;AAIA,SAAOta,QAAP;AACD,CAhLD;;AAiLA,IAAIob,oBAAoB,GAAG;AACzB1sB,EAAAA,IAAI,EAAEA,IADmB;AAEzBO,EAAAA,IAAI,EAAEA,IAFmB;AAGzBG,EAAAA,MAAM,EAAEA,MAHiB;AAIzBC,EAAAA,QAAQ,EAAEA,QAJe;AAKzBE,EAAAA,QAAQ,EAAEA,QALe;AAMzBD,EAAAA,SAAS,EAAEA,SANc;AAOzBJ,EAAAA,kBAAkB,EAAEA,kBAPK;AAQzBS,EAAAA,IAAI,EAAEA,IARmB;AASzBC,EAAAA,qBAAqB,EAAEA;AATE,CAA3B;AAWA,IAAIyrB,cAAc,GAAG;AACnB/C,EAAAA,cAAc,EAAE,KADG;AAEnBS,EAAAA,iCAAiC,EAAE,KAFhB;AAGnBD,EAAAA,uBAAuB,EAAE;AAHN,CAArB;AAKA,IAAIwC,kBAAkB,GAAGzvC,OAAO,CAACmuC,qBAAD,EAAwBoB,oBAAxB,EAA8C,IAA9C,EAAoD;AAClF3b,EAAAA,OAAO,EAAE0C,YADyE;AAElFuK,EAAAA,IAAI,EAAE,IAF4E;AAGlFC,EAAAA,kBAAkB,EAAEnB;AAH8D,CAApD,CAAP,CAItBoN,SAJsB,CAAzB;AAKA0C,kBAAkB,CAAC9O,YAAnB,GAAkC6O,cAAlC;AAEA,SAASpW,eAAT,EAA0BqW,kBAAkB,IAAI1C,SAAhD,EAA2DnM,kBAAkB,IAAI3B,SAAjF,EAA4F9F,kBAA5F","sourcesContent":["import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport React, { useLayoutEffect, useEffect, useRef, useContext, useState } from 'react';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport invariant from 'tiny-invariant';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nfunction shouldRecover(error) {\n  return error.message.indexOf('Invariant failed') !== -1;\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.onError = void 0;\n\n    _this.setOnError = function (fn) {\n      _this.onError = fn;\n    };\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      if (_this.onError) {\n        _this.onError();\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning('Could not find recovering function') : void 0;\n      }\n\n      if (shouldRecover(error)) {\n        _this.setState({});\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n\n    if (!shouldRecover(error)) {\n      throw error;\n    }\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setOnError);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = (function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n});\n\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPositionInFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n});\n\nvar getDroppableOver = (function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = (function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n});\n\nvar didStartDisplaced = (function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = (function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: onLift.displacedBy.point.x,\n    bottom: 0,\n    left: 0\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n});\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\n\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = (function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getHomeOnLift = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n});\n\nvar getDragPositions = (function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n});\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar adjustExistingForAdditionsAndRemovals = (function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar adjustAdditionsForCollapsedHome = (function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n});\n\nvar updateDraggables = (function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n});\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = (function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n});\n\nvar withNoAnimatedDisplacement = (function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDragging = (function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n});\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n});\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n});\n\nvar whenCombining = (function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nvar withNewDisplacement = (function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n});\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = (function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return _extends({}, idle, {\n      shouldFlush: action.payload.shouldFlush\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n});\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar clean$1 = function clean(args) {\n  if (args === void 0) {\n    args = {\n      shouldFlush: false\n    };\n  }\n\n  return {\n    type: 'CLEAN',\n    payload: args\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          autoScroller.cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(autoScroller), responders(getResponders, announce))));\n});\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\nvar createPublisher = (function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = (function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(published, descriptor, getDimension) {\n    var existing = entries.draggables[published.id];\n    !existing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no published registration was found') : invariant(false) : void 0;\n\n    if (existing.descriptor === published) {\n      delete entries.draggables[published.id];\n    } else {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Detected incorrect usage of 'key' on '<Draggable draggableId=\\\"\" + published.id + \"\\\"$ />\\n\\n        Your 'key' should be:\\n        - Unique for each Draggable in a list\\n        - Not be based on the index of the Draggable\\n\\n        Usually you want your 'key' to just be the 'draggableId'\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md#keys-for-a-list-of-draggable-\\n      \") : void 0;\n    }\n\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (uniqueContext) {\n  var getSelector = makeGetSelector(uniqueContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(uniqueId) {\n  var uniqueContext = useMemo(function () {\n    return \"\" + uniqueId;\n  }, [uniqueId]);\n  var styles = useMemo(function () {\n    return getStyles$1(uniqueContext);\n  }, [uniqueContext]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl();\n    var dynamic = createStyleEl();\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix + \"-always\", uniqueContext);\n    dynamic.setAttribute(prefix + \"-dynamic\", uniqueContext);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, uniqueContext]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting,\n      styleContext: uniqueContext\n    };\n  }, [dragging, dropping, resting, uniqueContext]);\n  return marshal;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar getId = function getId(uniqueId) {\n  return \"react-beautiful-dnd-announcement-\" + uniqueId;\n};\nfunction useAnnouncer(uniqueId) {\n  var id = useMemo(function () {\n    return getId(uniqueId);\n  }, [uniqueId]);\n  var ref = useRef(null);\n  useEffect(function () {\n    !!ref.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcement node already mounted') : invariant(false) : void 0;\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function () {\n      var toBeRemoved = ref.current;\n      !toBeRemoved ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount announcement node') : invariant(false) : void 0;\n      getBodyElement().removeChild(toBeRemoved);\n      ref.current = null;\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useStartupValidation() {\n  useEffect(function () {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var uniqueId = props.uniqueId,\n      setOnError = props.setOnError;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(uniqueId);\n  var styleMarshal = useStyleMarshal(uniqueId);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var callbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(callbacks);\n  }, [callbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var store = useMemo(function () {\n    return createStore({\n      dimensionMarshal: dimensionMarshal,\n      styleMarshal: styleMarshal,\n      announce: announce,\n      autoScroller: autoScroller,\n      getResponders: getResponders\n    });\n  }, [announce, autoScroller, dimensionMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(clean$1({\n        shouldFlush: true\n      }));\n    }\n  }, []);\n  setOnError(tryResetStore);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      style: styleMarshal.styleContext,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed\n    };\n  }, [dimensionMarshal, getCanLift, getIsMovementAllowed, styleMarshal.styleContext]);\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar instanceCount = 0;\nfunction resetServerContext() {\n  instanceCount = 0;\n}\nfunction DragDropContext(props) {\n  var uniqueId = useMemo(function () {\n    return instanceCount++;\n  }, []);\n  return React.createElement(ErrorBoundary, null, function (setOnError) {\n    return React.createElement(App, _extends({\n      setOnError: setOnError,\n      uniqueId: uniqueId\n    }, props), props.children);\n  });\n}\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nfunction withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n}\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppableDimensionPublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type\n    };\n  }, [args.droppableId, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n\n    if (env.closestScrollable) {\n      env.closestScrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(env.closestScrollable);\n      }\n    }\n\n    return dimension;\n  }, [descriptor, onClosestScroll, previousRef]);\n  var recollect = useCallback(function (options) {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    var previous = previousRef.current;\n\n    var execute = function execute() {\n      return getDimension({\n        ref: dragging.ref,\n        descriptor: dragging.descriptor,\n        env: dragging.env,\n        windowScroll: origin,\n        direction: previous.direction,\n        isDropDisabled: previous.isDropDisabled,\n        isCombineEnabled: previous.isCombineEnabled,\n        shouldClipSubject: !previous.ignoreContainerClipping\n      });\n    };\n\n    if (!options.withoutPlaceholder) {\n      return execute();\n    }\n\n    return withoutPlaceholder(previous.getPlaceholderRef(), execute);\n  }, [previousRef]);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      recollect: recollect,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, recollect, scroll]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = descriptor;\n    marshal.registerDroppable(descriptor, callbacks);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      marshal.unregisterDroppable(descriptor);\n    };\n  }, [callbacks, descriptor, dragStopped, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: transitions.placeholder\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      styleContext = props.styleContext;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-react-beautiful-dnd-placeholder': styleContext,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction checkOwnProps(props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkPlaceholderRef(props, placeholderEl) {\n  if (!props.placeholder) {\n    return;\n  }\n\n  if (placeholderEl) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n    DroppableProvided > placeholder could not be found.\\n\\n    Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n  \") : void 0;\n}\n\nfunction useValidation(_ref) {\n  var props = _ref.props,\n      getDroppableRef = _ref.getDroppableRef,\n      getPlaceholderRef = _ref.getPlaceholderRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n      checkIsValidInnerRef(getDroppableRef());\n      checkPlaceholderRef(props, getPlaceholderRef());\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var styleContext = appContext.style,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      updateViewportMaxScroll = props.updateViewportMaxScroll;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppableDimensionPublisher({\n    droppableId: droppableId,\n    type: type,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      styleContext: styleContext,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': styleContext\n      }\n    };\n  }, [placeholder, setDroppableRef, styleContext]);\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type\n    };\n  }, [droppableId, type]);\n  useValidation({\n    props: props,\n    getDroppableRef: function getDroppableRef() {\n      return droppableRef.current;\n    },\n    getPlaceholderRef: function getPlaceholderRef() {\n      return placeholderRef.current;\n    }\n  });\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot));\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && !state.completed && state.shouldFlush) {\n      return idleWithoutAnimation;\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar createEventMarshal = (function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n});\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar createScheduler = (function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n});\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar sharedOptions = {\n  capture: true\n};\nvar createPostDragEventPreventer = (function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n});\n\nvar sloppyClickThreshold = 5;\nvar isSloppyClickThresholdExceeded = (function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n});\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar primaryButton = 0;\n\nvar noop$1 = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\nfunction useMouseSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$1);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var postDragEventPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    var shouldBlockClick = isDraggingRef.current;\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    pendingRef.current = null;\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsCapturing, onCaptureEnd, postDragEventPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    pendingRef.current = null;\n    isDraggingRef.current = true;\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'mousemove',\n      fn: function fn(event) {\n        var button = event.button,\n            clientX = event.clientX,\n            clientY = event.clientY;\n\n        if (button !== primaryButton) {\n          return;\n        }\n\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n\n        if (isDraggingRef.current) {\n          event.preventDefault();\n          schedule.move(point);\n          return;\n        }\n\n        var pending = pendingRef.current;\n\n        if (!pending) {\n          stop();\n          process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n        }\n\n        if (!isSloppyClickThresholdExceeded(pending, point)) {\n          return;\n        }\n\n        event.preventDefault();\n        startDragging();\n      }\n    }, {\n      eventName: 'mouseup',\n      fn: function fn(event) {\n        var wasDragging = isDraggingRef.current;\n        stop();\n\n        if (wasDragging) {\n          event.preventDefault();\n          callbacks.onDrop();\n        }\n      }\n    }, {\n      eventName: 'mousedown',\n      fn: function fn(event) {\n        if (isDraggingRef.current) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n          cancel();\n          return;\n        }\n\n        preventStandardKeyEvents(event);\n      }\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'webkitmouseforcechanged',\n      fn: function fn(event) {\n        if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n          process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n          return;\n        }\n\n        var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n        var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (isForcePressing) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [getIsCapturing, cancel, startDragging, schedule, stop, callbacks, getWindow, getShouldRespectForcePress]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startPendingDrag = useCallback(function (point) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    pendingRef.current = point;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, stop]);\n  var onMouseDown = useCallback(function (event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  }, [canStartCapturing, getIsCapturing, startPendingDrag]);\n  return onMouseDown;\n}\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = (function (event, canDragInteractiveElements) {\n  if (canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n});\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nvar _scrollJumpKeys;\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction noop$2() {}\n\nfunction useKeyboardSensor(args) {\n  var canStartCapturing = args.canStartCapturing,\n      getWindow = args.getWindow,\n      callbacks = args.callbacks,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd,\n      getDraggableRef = args.getDraggableRef;\n  var isDraggingRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$2);\n  var getIsDragging = useCallback(function () {\n    return isDraggingRef.current;\n  }, []);\n  var schedule = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsDragging]);\n  var stop = useCallback(function () {\n    if (!getIsDragging()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    isDraggingRef.current = false;\n    onCaptureEnd();\n  }, [getIsDragging, onCaptureEnd, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsDragging() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings when dragging') : invariant(false) : void 0;\n    return [{\n      eventName: 'mousedown',\n      fn: cancel\n    }, {\n      eventName: 'mouseup',\n      fn: cancel\n    }, {\n      eventName: 'click',\n      fn: cancel\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'wheel',\n      fn: cancel,\n      options: {\n        passive: true\n      }\n    }, {\n      eventName: 'scroll',\n      options: {\n        capture: false\n      },\n      fn: function fn(event) {\n        if (event.currentTarget !== getWindow()) {\n          return;\n        }\n\n        callbacks.onWindowScroll();\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n  }, [callbacks, cancel, getIsDragging, getWindow]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    !!isDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag while dragging') : invariant(false) : void 0;\n    var ref = getDraggableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    onCaptureStart(stop);\n    bindWindowEvents();\n    var center = getBorderBoxCenterPosition(ref);\n    callbacks.onLift({\n      clientSelection: center,\n      movementMode: 'SNAP'\n    });\n  }, [bindWindowEvents, callbacks, getDraggableRef, onCaptureStart, stop]);\n  var onKeyDown = useCallback(function (event) {\n    if (!getIsDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging();\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stop();\n      callbacks.onDrop();\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  }, [callbacks, canStartCapturing, cancel, getIsDragging, schedule, startDragging, stop]);\n  return onKeyDown;\n}\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$3 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$3,\n    releaseTouchMove: noop$3\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nfunction useTouchSensor(args) {\n  var callbacks = args.callbacks,\n      getWindow = args.getWindow,\n      canStartCapturing = args.canStartCapturing,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      onCaptureStart = args.onCaptureStart,\n      onCaptureEnd = args.onCaptureEnd;\n  var pendingRef = useRef(null);\n  var isDraggingRef = useRef(false);\n  var hasMovedRef = useRef(false);\n  var unbindWindowEventsRef = useRef(noop$3);\n  var getIsCapturing = useCallback(function () {\n    return Boolean(pendingRef.current || isDraggingRef.current);\n  }, []);\n  var postDragClickPreventer = useMemo(function () {\n    return createPostDragEventPreventer(getWindow);\n  }, [getWindow]);\n  var schedule = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate scheduler while capturing') : invariant(false) : void 0;\n    return createScheduler(callbacks);\n  }, [callbacks, getIsCapturing]);\n  var stop = useCallback(function () {\n    if (!getIsCapturing()) {\n      return;\n    }\n\n    schedule.cancel();\n    unbindWindowEventsRef.current();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    hasMovedRef.current = false;\n    onCaptureEnd();\n\n    if (isDraggingRef.current) {\n      postDragClickPreventer.preventNext();\n      isDraggingRef.current = false;\n      return;\n    }\n\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected a pending drag') : invariant(false) : void 0;\n    clearTimeout(pending.longPressTimerId);\n    pendingRef.current = null;\n  }, [getIsCapturing, onCaptureEnd, postDragClickPreventer, schedule]);\n  var cancel = useCallback(function () {\n    var wasDragging = isDraggingRef.current;\n    stop();\n\n    if (wasDragging) {\n      callbacks.onCancel();\n    }\n  }, [callbacks, stop]);\n  var windowBindings = useMemo(function () {\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not recreate window bindings while capturing') : invariant(false) : void 0;\n    var bindings = [{\n      eventName: 'touchmove',\n      options: {\n        passive: false,\n        capture: false\n      },\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        if (!hasMovedRef.current) {\n          hasMovedRef.current = true;\n        }\n\n        var _event$touches$ = event.touches[0],\n            clientX = _event$touches$.clientX,\n            clientY = _event$touches$.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        event.preventDefault();\n        schedule.move(point);\n      }\n    }, {\n      eventName: 'touchend',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        stop();\n        callbacks.onDrop();\n      }\n    }, {\n      eventName: 'touchcancel',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          stop();\n          return;\n        }\n\n        event.preventDefault();\n        cancel();\n      }\n    }, {\n      eventName: 'touchstart',\n      fn: cancel\n    }, {\n      eventName: 'orientationchange',\n      fn: cancel\n    }, {\n      eventName: 'resize',\n      fn: cancel\n    }, {\n      eventName: 'scroll',\n      options: {\n        passive: true,\n        capture: false\n      },\n      fn: function fn() {\n        if (pendingRef.current) {\n          stop();\n          return;\n        }\n\n        schedule.windowScrollMove();\n      }\n    }, {\n      eventName: 'contextmenu',\n      fn: function fn(event) {\n        event.preventDefault();\n      }\n    }, {\n      eventName: 'keydown',\n      fn: function fn(event) {\n        if (!isDraggingRef.current) {\n          cancel();\n          return;\n        }\n\n        if (event.keyCode === escape) {\n          event.preventDefault();\n        }\n\n        cancel();\n      }\n    }, {\n      eventName: 'touchforcechange',\n      fn: function fn(event) {\n        if (!getShouldRespectForcePress()) {\n          event.preventDefault();\n          return;\n        }\n\n        if (hasMovedRef.current) {\n          event.preventDefault();\n          return;\n        }\n\n        var touch = event.touches[0];\n\n        if (touch.force >= forcePressThreshold) {\n          cancel();\n        }\n      }\n    }, {\n      eventName: supportedEventName,\n      fn: cancel\n    }];\n    return bindings;\n  }, [callbacks, cancel, getIsCapturing, getShouldRespectForcePress, schedule, stop]);\n  var bindWindowEvents = useCallback(function () {\n    var win = getWindow();\n    var options = {\n      capture: true\n    };\n\n    unbindWindowEventsRef.current = function () {\n      return unbindEvents(win, windowBindings, options);\n    };\n\n    bindEvents(win, windowBindings, options);\n  }, [getWindow, windowBindings]);\n  var startDragging = useCallback(function () {\n    var pending = pendingRef.current;\n    !pending ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a drag without a pending drag') : invariant(false) : void 0;\n    isDraggingRef.current = true;\n    pendingRef.current = null;\n    hasMovedRef.current = false;\n    callbacks.onLift({\n      clientSelection: pending.point,\n      movementMode: 'FLUID'\n    });\n  }, [callbacks]);\n  var startPendingDrag = useCallback(function (event) {\n    !!pendingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be no pending drag') : invariant(false) : void 0;\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    var pending = {\n      point: point,\n      longPressTimerId: longPressTimerId\n    };\n    pendingRef.current = pending;\n    onCaptureStart(stop);\n    bindWindowEvents();\n  }, [bindWindowEvents, onCaptureStart, startDragging, stop]);\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!getIsCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  return onTouchStart;\n}\n\nfunction isSvgElement(el) {\n  return Boolean(getWindowFromEl(el).SVGElement) && el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nfunction useValidation$1(_ref) {\n  var isEnabled = _ref.isEnabled,\n      getDraggableRef = _ref.getDraggableRef;\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!isEnabled) {\n        return;\n      }\n\n      var draggableRef = getDraggableRef();\n      !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle was unable to find draggable ref') : invariant(false) : void 0;\n      getDragHandleRef(draggableRef);\n    }\n  }, [getDraggableRef, isEnabled]);\n}\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction noop$4() {}\n\nfunction useFocusRetainer(args) {\n  var isFocusedRef = useRef(false);\n  var lastArgsRef = usePrevious(args);\n  var getDraggableRef = args.getDraggableRef;\n  var onFocus = useCallback(function () {\n    isFocusedRef.current = true;\n  }, []);\n  var onBlur = useCallback(function () {\n    isFocusedRef.current = false;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    var first = lastArgsRef.current;\n\n    if (!first.isEnabled) {\n      return noop$4;\n    }\n\n    var draggable = getDraggableRef();\n    !draggable ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Drag handle could not obtain draggable ref') : invariant(false) : void 0;\n    var dragHandle = getDragHandleRef(draggable);\n    retainer.tryRestoreFocus(first.draggableId, dragHandle);\n    return function () {\n      var last = lastArgsRef.current;\n\n      var shouldRetainFocus = function () {\n        if (!last.isEnabled) {\n          return false;\n        }\n\n        if (!isFocusedRef.current) {\n          return false;\n        }\n\n        return last.isDragging || last.isDropAnimating;\n      }();\n\n      if (shouldRetainFocus) {\n        retainer.retain(last.draggableId);\n      }\n    };\n  }, [getDraggableRef, lastArgsRef]);\n  var lastDraggableRef = useRef(null);\n  useIsomorphicLayoutEffect(function () {\n    if (!lastDraggableRef.current) {\n      return;\n    }\n\n    var draggableRef = getDraggableRef();\n\n    if (!draggableRef) {\n      return;\n    }\n\n    if (draggableRef === lastDraggableRef.current) {\n      return;\n    }\n\n    if (isFocusedRef.current && lastArgsRef.current.isEnabled) {\n      getDragHandleRef(draggableRef).focus();\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    lastDraggableRef.current = getDraggableRef();\n  });\n  return {\n    onBlur: onBlur,\n    onFocus: onFocus\n  };\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction useDragHandle(args) {\n  var capturingRef = useRef(null);\n  var onCaptureStart = useCallback(function (abort) {\n    !!capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing while something else is') : invariant(false) : void 0;\n    capturingRef.current = {\n      abort: abort\n    };\n  }, []);\n  var onCaptureEnd = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing while nothing is capturing') : invariant(false) : void 0;\n    capturingRef.current = null;\n  }, []);\n  var abortCapture = useCallback(function () {\n    !capturingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot abort capture when there is none') : invariant(false) : void 0;\n    capturingRef.current.abort();\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      canLift = _useRequiredContext.canLift,\n      styleContext = _useRequiredContext.style;\n\n  var isDragging = args.isDragging,\n      isEnabled = args.isEnabled,\n      draggableId = args.draggableId,\n      callbacks = args.callbacks,\n      getDraggableRef = args.getDraggableRef,\n      getShouldRespectForcePress = args.getShouldRespectForcePress,\n      canDragInteractiveElements = args.canDragInteractiveElements;\n  var lastArgsRef = usePrevious(args);\n  useValidation$1({\n    isEnabled: isEnabled,\n    getDraggableRef: getDraggableRef\n  });\n  var getWindow = useCallback(function () {\n    return getWindowFromEl(getDraggableRef());\n  }, [getDraggableRef]);\n  var canStartCapturing = useCallback(function (event) {\n    if (!isEnabled) {\n      return false;\n    }\n\n    if (capturingRef.current) {\n      return false;\n    }\n\n    if (!canLift(draggableId)) {\n      return false;\n    }\n\n    return shouldAllowDraggingFromTarget(event, canDragInteractiveElements);\n  }, [canDragInteractiveElements, canLift, draggableId, isEnabled]);\n\n  var _useFocusRetainer = useFocusRetainer(args),\n      onBlur = _useFocusRetainer.onBlur,\n      onFocus = _useFocusRetainer.onFocus;\n\n  var mouseArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, onCaptureStart, onCaptureEnd, getShouldRespectForcePress]);\n  var onMouseDown = useMouseSensor(mouseArgs);\n  var keyboardArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, canStartCapturing, getDraggableRef, getWindow, onCaptureEnd, onCaptureStart]);\n  var onKeyDown = useKeyboardSensor(keyboardArgs);\n  var touchArgs = useMemo(function () {\n    return {\n      callbacks: callbacks,\n      getDraggableRef: getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: canStartCapturing,\n      getShouldRespectForcePress: getShouldRespectForcePress,\n      onCaptureStart: onCaptureStart,\n      onCaptureEnd: onCaptureEnd\n    };\n  }, [callbacks, getDraggableRef, getWindow, canStartCapturing, getShouldRespectForcePress, onCaptureStart, onCaptureEnd]);\n  var onTouchStart = useTouchSensor(touchArgs);\n  useIsomorphicLayoutEffect(function () {\n    return function () {\n      if (!capturingRef.current) {\n        return;\n      }\n\n      abortCapture();\n\n      if (lastArgsRef.current.isDragging) {\n        lastArgsRef.current.callbacks.onCancel();\n      }\n    };\n  }, []);\n\n  if (!isEnabled && capturingRef.current) {\n    abortCapture();\n\n    if (lastArgsRef.current.isDragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n      callbacks.onCancel();\n    }\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (!isDragging && capturingRef.current) {\n      abortCapture();\n    }\n  }, [abortCapture, isDragging]);\n  var props = useMemo(function () {\n    if (!isEnabled) {\n      return null;\n    }\n\n    return {\n      onMouseDown: onMouseDown,\n      onKeyDown: onKeyDown,\n      onTouchStart: onTouchStart,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      tabIndex: 0,\n      'data-react-beautiful-dnd-drag-handle': styleContext,\n      'aria-roledescription': 'Draggable item. Press space bar to lift',\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    };\n  }, [isEnabled, onBlur, onFocus, onKeyDown, onMouseDown, onTouchStart, styleContext]);\n  return props;\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggableDimensionPublisher(args) {\n  var draggableId = args.draggableId,\n      index = args.index,\n      getDraggableRef = args.getDraggableRef;\n  var appContext = useRequiredContext(AppContext);\n  var marshal = appContext.marshal;\n  var droppableContext = useRequiredContext(DroppableContext);\n  var droppableId = droppableContext.droppableId,\n      type = droppableContext.type;\n  var descriptor = useMemo(function () {\n    var result = {\n      id: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index\n    };\n    return result;\n  }, [draggableId, droppableId, index, type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var makeDimension = useCallback(function (windowScroll) {\n    var latest = publishedDescriptorRef.current;\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(latest, el, windowScroll);\n  }, [getDraggableRef]);\n  useIsomorphicLayoutEffect(function () {\n    marshal.registerDraggable(publishedDescriptorRef.current, makeDimension);\n    return function () {\n      return marshal.unregisterDraggable(publishedDescriptorRef.current);\n    };\n  }, [makeDimension, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (publishedDescriptorRef.current === descriptor) {\n      return;\n    }\n\n    var previous = publishedDescriptorRef.current;\n    publishedDescriptorRef.current = descriptor;\n    marshal.updateDraggable(previous, descriptor, makeDimension);\n  }, [descriptor, makeDimension, marshal]);\n}\n\nfunction checkOwnProps$1(props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n}\n\nfunction checkForOutdatedProps(props) {\n  if (Object.prototype.hasOwnProperty.call(props, 'shouldRespectForceTouch')) {\n    process.env.NODE_ENV !== \"production\" ? warning('shouldRespectForceTouch has been renamed to shouldRespectForcePress') : void 0;\n  }\n}\n\nfunction useValidation$2(props, getRef) {\n  useEffect(function () {\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n      checkForOutdatedProps(props);\n      checkIsValidInnerRef(getRef());\n    }\n  });\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n  var appContext = useRequiredContext(AppContext);\n  useValidation$2(props, getRef);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isDragDisabled = props.isDragDisabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.disableInteractiveElementBlocking,\n      index = props.index,\n      mapped = props.mapped,\n      moveUpAction = props.moveUp,\n      moveAction = props.move,\n      dropAction = props.drop,\n      moveDownAction = props.moveDown,\n      moveRightAction = props.moveRight,\n      moveLeftAction = props.moveLeft,\n      moveByWindowScrollAction = props.moveByWindowScroll,\n      liftAction = props.lift,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  var forPublisher = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      index: index,\n      getDraggableRef: getRef\n    };\n  }, [draggableId, getRef, index]);\n  useDraggableDimensionPublisher(forPublisher);\n  var onLift = useCallback(function (options) {\n    start('LIFT');\n    var el = ref.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    !!isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n    var clientSelection = options.clientSelection,\n        movementMode = options.movementMode;\n    liftAction({\n      id: draggableId,\n      clientSelection: clientSelection,\n      movementMode: movementMode\n    });\n    finish('LIFT');\n  }, [draggableId, isDragDisabled, liftAction]);\n  var getShouldRespectForcePress = useCallback(function () {\n    return shouldRespectForcePress;\n  }, [shouldRespectForcePress]);\n  var callbacks = useMemo(function () {\n    return {\n      onLift: onLift,\n      onMove: function onMove(clientSelection) {\n        return moveAction({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return dropAction({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return dropAction({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: moveUpAction,\n      onMoveDown: moveDownAction,\n      onMoveRight: moveRightAction,\n      onMoveLeft: moveLeftAction,\n      onWindowScroll: function onWindowScroll() {\n        return moveByWindowScrollAction({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n  }, [dropAction, moveAction, moveByWindowScrollAction, moveDownAction, moveLeftAction, moveRightAction, moveUpAction, onLift]);\n  var isDragging = mapped.type === 'DRAGGING';\n  var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n  var dragHandleArgs = useMemo(function () {\n    return {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: callbacks,\n      getDraggableRef: getRef,\n      canDragInteractiveElements: canDragInteractiveElements,\n      getShouldRespectForcePress: getShouldRespectForcePress\n    };\n  }, [callbacks, canDragInteractiveElements, draggableId, getRef, getShouldRespectForcePress, isDragDisabled, isDragging, isDropAnimating]);\n  var dragHandleProps = useDragHandle(dragHandleArgs);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-react-beautiful-dnd-draggable': appContext.style,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [appContext.style, dragHandleProps, mapped, onMoveEnd, setRef]);\n  return children(provided, mapped.snapshot);\n}\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForcePress: false\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\n\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\n"]},"metadata":{},"sourceType":"module"}