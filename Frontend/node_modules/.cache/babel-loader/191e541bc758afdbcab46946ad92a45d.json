{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Welcome.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Container, Grid, Hidden } from '@material-ui/core';\nimport './Welcome.css';\nimport PlayMenuBar from '../components/PlayMenuBar';\nimport InfoContext from \"../context/InfoContext\";\nimport axios from \"axios\";\nimport Loading from \"./Loading\";\n\nfunction Welcome() {\n  const [loading, setLoading] = useState(true);\n  const {\n    setLoggedIn,\n    changeName,\n    setAdmin\n  } = useContext(InfoContext);\n\n  const authenticate = async () => {\n    let token = localStorage.getItem('authToken');\n    let url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n    let response = null;\n\n    try {\n      await axios.get(url, {\n        headers: {\n          \"auth-token\": token\n        }\n      }).then(res => {\n        response = res;\n      });\n      changeName(response.data.name);\n      setAdmin(response.data.isAdmin);\n      setLoggedIn(true);\n    } catch (error) {\n      localStorage.clear();\n      setLoggedIn(false);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n\n    if (token === null) {\n      setLoggedIn(false);\n      setLoading(false);\n    } else {\n      authenticate();\n    }\n  }, []);\n  return loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(Container, {\n    className: \"welcome-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: \"heading-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"quiz-head.png\",\n    className: \"quiz-image\",\n    alt: \"Welcome to Hunger Games\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: \"pin-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"hg-pin.png\",\n    className: \"pin-image\",\n    alt: \"Mockingjay Pin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 8\n    }\n  })))), /*#__PURE__*/React.createElement(PlayMenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Welcome.js"],"names":["React","useContext","useEffect","useState","Container","Grid","Hidden","PlayMenuBar","InfoContext","axios","Loading","Welcome","loading","setLoading","setLoggedIn","changeName","setAdmin","authenticate","token","localStorage","getItem","url","response","get","headers","then","res","data","name","isAdmin","error","clear"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {Container, Grid, Hidden} from '@material-ui/core';\nimport './Welcome.css';\nimport PlayMenuBar from '../components/PlayMenuBar';\nimport InfoContext from \"../context/InfoContext\";\nimport axios from \"axios\";\nimport Loading from \"./Loading\";\n\nfunction Welcome() {\n\tconst [loading, setLoading] = useState(true);\n\tconst {setLoggedIn, changeName, setAdmin} = useContext(InfoContext);\n\n\tconst authenticate = async () => {\n\t\tlet token = localStorage.getItem('authToken');\n\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n\t\tlet response = null;\n\n\t\ttry {\n\t\t\tawait axios.get(url, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"auth-token\": token\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tresponse = res;\n\t\t\t})\n\n\t\t\tchangeName(response.data.name);\n\t\t\tsetAdmin(response.data.isAdmin);\n\t\t\tsetLoggedIn(true);\n\t\t} catch(error) {\n\t\t\tlocalStorage.clear()\n\t\t\tsetLoggedIn(false);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem('authToken');\n\t\tif(token === null) {\n\t\t\tsetLoggedIn(false);\n\t\t\tsetLoading(false);\n\t\t} else {\n\t\t\tauthenticate();\n\t\t}\n\t}, []);\n\n\treturn (\n\t\tloading ? <Loading />\n\t\t:\n\t\t<Container className=\"welcome-page\">\n\t\t\t<div className=\"welcome-screen\">\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={12} md={6} className=\"heading-section\">\n\t\t\t\t\t\t<img src=\"quiz-head.png\" className=\"quiz-image\" alt=\"Welcome to Hunger Games\"></img>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<Grid item xs={12} md={6} className=\"pin-section\">\n\t\t\t\t\t\t\t<img src=\"hg-pin.png\" className=\"pin-image\" alt=\"Mockingjay Pin\"></img>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Hidden>\n\t\t\t\t</Grid>\n\t\t\t\t<PlayMenuBar />\n\n\t\t\t</div>\n\t\t</Container>\n\t)\n}\n\nexport default Welcome;"]},"metadata":{},"sourceType":"module"}