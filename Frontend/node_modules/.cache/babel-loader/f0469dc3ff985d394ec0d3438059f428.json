{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Welcome.js\";\nimport React, { useContext, useEffect } from 'react';\nimport { Container, Grid, Hidden } from '@material-ui/core';\nimport './Welcome.css';\nimport PlayMenuBar from '../components/PlayMenuBar';\nimport InfoContext from \"../context/InfoContext\";\n\nfunction Welcome() {\n  const [authToken, setAuthToken] = useState(null);\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const [name, changeName] = useState(null);\n  const [isAdmin, setAdmin] = useState(false);\n\n  const authenticate = async () => {\n    console.log(\"hi\");\n    let url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n    let response = null;\n\n    try {\n      await axios.get(url, {\n        headers: {\n          \"auth-token\": authToken\n        }\n      }).then(res => {\n        response = res;\n      });\n      changeName(response.data.name);\n      setAdmin(response.data.isAdmin);\n      setLoggedIn(true);\n    } catch (error) {\n      console.log(error);\n      localStorage.clear();\n      setLoggedIn(false);\n    }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('authToken');\n\n    if (token === null) {\n      setLoggedIn(false);\n    } else {\n      setAuthToken(token);\n      authenticate();\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"welcome-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome-screen\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: \"heading-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"quiz-head.png\",\n    className: \"quiz-image\",\n    alt: \"Welcome to Hunger Games\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Hidden, {\n    smDown: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    className: \"pin-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"hg-pin.png\",\n    className: \"pin-image\",\n    alt: \"Mockingjay Pin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 8\n    }\n  })))), /*#__PURE__*/React.createElement(PlayMenuBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default Welcome;","map":{"version":3,"sources":["/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Welcome.js"],"names":["React","useContext","useEffect","Container","Grid","Hidden","PlayMenuBar","InfoContext","Welcome","authToken","setAuthToken","useState","isLoggedIn","setLoggedIn","name","changeName","isAdmin","setAdmin","authenticate","console","log","url","response","axios","get","headers","then","res","data","error","localStorage","clear","token","getItem"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect} from 'react';\nimport {Container, Grid, Hidden} from '@material-ui/core';\nimport './Welcome.css';\nimport PlayMenuBar from '../components/PlayMenuBar';\nimport InfoContext from \"../context/InfoContext\";\n\nfunction Welcome() {\n\tconst [authToken, setAuthToken] = useState(null);\n\tconst [isLoggedIn, setLoggedIn] = useState(false);\n\tconst [name, changeName] = useState(null);\n\tconst [isAdmin, setAdmin] = useState(false);\n\n\tconst authenticate = async () => {\n\t\tconsole.log(\"hi\");\n\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n\t\tlet response = null;\n\n\t\ttry {\n\t\t\tawait axios.get(url, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"auth-token\": authToken\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tresponse = res;\n\t\t\t})\n\n\t\t\tchangeName(response.data.name);\n\t\t\tsetAdmin(response.data.isAdmin);\n\t\t\tsetLoggedIn(true);\n\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t\tlocalStorage.clear()\n\t\t\tsetLoggedIn(false);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem('authToken');\n\t\tif(token === null) {\n\t\t\tsetLoggedIn(false);\n\t\t} else {\n\t\t\tsetAuthToken(token);\n\t\t\tauthenticate();\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<Container className=\"welcome-page\">\n\t\t\t<div className=\"welcome-screen\">\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={12} md={6} className=\"heading-section\">\n\t\t\t\t\t\t<img src=\"quiz-head.png\" className=\"quiz-image\" alt=\"Welcome to Hunger Games\"></img>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Hidden smDown>\n\t\t\t\t\t\t<Grid item xs={12} md={6} className=\"pin-section\">\n\t\t\t\t\t\t\t<img src=\"hg-pin.png\" className=\"pin-image\" alt=\"Mockingjay Pin\"></img>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Hidden>\n\t\t\t\t</Grid>\n\t\t\t\t<PlayMenuBar />\n\n\t\t\t</div>\n\t\t</Container>\n\t)\n}\n\nexport default Welcome;"]},"metadata":{},"sourceType":"module"}