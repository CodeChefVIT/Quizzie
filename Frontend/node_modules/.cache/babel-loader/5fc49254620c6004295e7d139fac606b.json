{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Projects/Scholastic-Quiz/src/components/AllQues.js\";\nimport React from 'react';\nimport MaterialTable from \"material-table\";\nimport Loading from \"../pages/Loading\";\nimport axios from \"axios\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Radio, RadioGroup, FormControlLabel, FormControl, FormLabel, Grid } from '@material-ui/core';\nimport TextInput from \"../components/TextInput\";\nimport { Redirect } from 'react-router';\nexport default function AllQues() {\n  const [open, setOpen] = React.useState(false);\n  const [value, setValue] = React.useState('none');\n  const [valueError, setValueError] = React.useState('');\n  const [ques, setQues] = React.useState('');\n  const [quesError, setQuesError] = React.useState('');\n  const [op1, setOp1] = React.useState('');\n  const [op1Error, setOp1Error] = React.useState('');\n  const [op2, setOp2] = React.useState('');\n  const [op2Error, setOp2Error] = React.useState('');\n  const [op3, setOp3] = React.useState('');\n  const [op3Error, setOp3Error] = React.useState('');\n  const [op4, setOp4] = React.useState('');\n  const [op4Error, setOp4Error] = React.useState('');\n  const [submitResponse, setSubmit] = React.useState('');\n  const errorText = \"This field cannot be empty\";\n  const [loading, setLoading] = React.useState(true);\n  const columns = [{\n    field: 'qid',\n    title: 'Q_ID',\n    minwidth: 10\n  }, {\n    field: 'ques',\n    title: 'Question',\n    minWidth: 200\n  }, {\n    field: 'op1',\n    title: 'Option1',\n    minWidth: 50\n  }, {\n    field: 'op2',\n    title: 'Option2',\n    minWidth: 50\n  }, {\n    field: 'op3',\n    title: 'Option3',\n    minWidth: 50\n  }, {\n    field: 'op4',\n    title: 'Option4',\n    minWidth: 50\n  }, {\n    field: 'correct',\n    title: 'Correct Option',\n    minWidth: 50\n  }];\n\n  function createData(id, q, o1, o2, o3, o4, c) {\n    return {\n      qid: id,\n      ques: q,\n      op1: o1,\n      op2: o2,\n      op3: o3,\n      op4: o4,\n      correct: c\n    };\n  }\n\n  const [rows, setRows] = React.useState([]);\n\n  const update = async (ndata, odata) => {\n    console.log(ndata, odata);\n\n    if (ndata.qid === odata.qid) {\n      let error = false;\n\n      if (ndata.ques.length === 0) {\n        error = true;\n        console.log(\"No errors 1\");\n      }\n\n      if (ndata.op1.length === 0) {\n        error = true;\n        console.log(\"No errors 2\");\n      }\n\n      if (ndata.op2.length === 0) {\n        error = true;\n        console.log(\"No errors 3\");\n      }\n\n      if (ndata.op3.length === 0) {\n        error = true;\n        console.log(\"No errors 4\");\n      }\n\n      if (ndata.op4.length === 0) {\n        error = true;\n        console.log(\"No errors 5\");\n      }\n\n      if (ndata.correct.length === 0) {\n        error = true;\n        console.log(\"No errors 6\");\n      }\n\n      if (ndata.op1 === ndata.op2 || ndata.op1 === ndata.op3 || ndata.op1 === ndata.op4 || ndata.op2 === ndata.op3 || ndata.op2 === ndata.op4 || ndata.op3 === ndata.op4) {\n        error = true;\n        console.log(\"No errors 7\");\n      }\n\n      if (!(ndata.correct === ndata.op1 || ndata.correct === ndata.op2 || ndata.correct === ndata.op3 || ndata.correct === ndata.op4)) {\n        error = true;\n        console.log(\"No errors 8\");\n      }\n\n      if (!error) {\n        console.log(\"No errors\");\n        let token = localStorage.getItem('authToken');\n        let url = `https://scholastic-quiz-app.herokuapp.com/questions/${ndata.qid}`;\n        let data = {\n          \"description\": ndata.ques,\n          \"correct_answer\": ndata.correct,\n          \"alternatives\": [{\n            \"text\": ndata.op1\n          }, {\n            \"text\": ndata.op2\n          }, {\n            \"text\": ndata.op3\n          }, {\n            \"text\": ndata.op4\n          }]\n        };\n        let response = null;\n\n        try {\n          await axios.put(url, data, {\n            headers: {\n              \"auth-token\": token\n            }\n          }).then(res => {\n            response = res;\n          });\n\n          if (response.status === 200) {\n            getAll();\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    }\n  };\n\n  const del = async data => {\n    console.log(data);\n    let token = localStorage.getItem('authToken');\n    let url = `https://scholastic-quiz-app.herokuapp.com/questions/${data.qid}`;\n    let response = null;\n\n    try {\n      await axios.delete(url, {\n        headers: {\n          \"auth-token\": token\n        }\n      }).then(res => {\n        response = res;\n      });\n      console.log(response);\n\n      if (response.status === 204) {\n        getAll();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n    getAll();\n  };\n\n  const getAll = async () => {\n    let token = localStorage.getItem('authToken');\n    let url = `https://scholastic-quiz-app.herokuapp.com/questions`;\n    let response = null;\n    let i = 0;\n    let data = [];\n    setRows(null);\n\n    try {\n      await axios.get(url, {\n        headers: {\n          \"auth-token\": token\n        }\n      }).then(res => {\n        response = res;\n      });\n      console.log(response);\n      console.log(rows);\n\n      if (response.status === 200) {\n        for (i = 0; i < response.data.length; i++) {\n          var id = response.data[i]._id;\n          var ques = response.data[i].description;\n          var correct = response.data[i].correct_answer;\n          var o1 = response.data[i].alternatives[0].text;\n          var o2 = response.data[i].alternatives[1].text;\n          var o3 = response.data[i].alternatives[2].text;\n          var o4 = response.data[i].alternatives[3].text;\n          data = [...data, createData(id, ques, o1, o2, o3, o4, correct)];\n        }\n\n        setRows(data);\n        console.log(rows);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n\n    setLoading(false);\n  };\n\n  React.useEffect(() => {\n    getAll();\n  }, []);\n  return loading ? /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Questions List\",\n    columns: columns,\n    data: rows,\n    style: {\n      width: '90%',\n      backgroundColor: '#4d4d4d',\n      color: '#fff'\n    },\n    options: {\n      headerStyle: {\n        backgroundColor: '#353535',\n        color: '#fff'\n      },\n      rowStyle: {\n        color: '#ccc'\n      }\n    },\n    editable: {\n      onRowUpdate: (newData, oldData) => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          update(newData, oldData);\n        }, 600);\n      }),\n      onRowDelete: oldData => new Promise(resolve => {\n        setTimeout(() => {\n          resolve();\n          del(oldData);\n        }, 600);\n      })\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/mac/Documents/Projects/Scholastic-Quiz/src/components/AllQues.js"],"names":["React","MaterialTable","Loading","axios","Button","Dialog","DialogActions","DialogContent","DialogTitle","Radio","RadioGroup","FormControlLabel","FormControl","FormLabel","Grid","TextInput","Redirect","AllQues","open","setOpen","useState","value","setValue","valueError","setValueError","ques","setQues","quesError","setQuesError","op1","setOp1","op1Error","setOp1Error","op2","setOp2","op2Error","setOp2Error","op3","setOp3","op3Error","setOp3Error","op4","setOp4","op4Error","setOp4Error","submitResponse","setSubmit","errorText","loading","setLoading","columns","field","title","minwidth","minWidth","createData","id","q","o1","o2","o3","o4","c","qid","correct","rows","setRows","update","ndata","odata","console","log","error","length","token","localStorage","getItem","url","data","response","put","headers","then","res","status","getAll","del","delete","i","get","_id","description","correct_answer","alternatives","text","useEffect","display","justifyContent","width","backgroundColor","color","headerStyle","rowStyle","onRowUpdate","newData","oldData","Promise","resolve","setTimeout","onRowDelete"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MaterialTable from \"material-table\";\nimport Loading from \"../pages/Loading\";\nimport axios from \"axios\";\nimport {\n\tButton, Dialog, DialogActions,\n\tDialogContent, DialogTitle, \n\tRadio, RadioGroup,\n\tFormControlLabel, FormControl,\n\tFormLabel, Grid\n} from '@material-ui/core';\nimport TextInput from \"../components/TextInput\";\nimport { Redirect } from 'react-router';\n\nexport default function AllQues(){\n\n\tconst [open, setOpen] = React.useState(false);\n\tconst [value, setValue] = React.useState('none');\n\tconst [valueError, setValueError] = React.useState('');\n\tconst [ques, setQues] = React.useState('');\n\tconst [quesError, setQuesError] = React.useState('');\n\tconst [op1, setOp1] = React.useState('');\n\tconst [op1Error, setOp1Error] = React.useState('');\n\tconst [op2, setOp2] = React.useState('');\n\tconst [op2Error, setOp2Error] = React.useState('');\n\tconst [op3, setOp3] = React.useState('');\n\tconst [op3Error, setOp3Error] = React.useState('');\n\tconst [op4, setOp4] = React.useState('');\n\tconst [op4Error, setOp4Error] = React.useState('');\n\tconst [submitResponse, setSubmit] = React.useState('');\n\tconst errorText = \"This field cannot be empty\";\n\n\tconst [loading, setLoading] = React.useState(true);\n\tconst columns = [\n\t\t{ field: 'qid', title: 'Q_ID', minwidth: 10 },\n\t\t{ field: 'ques', title: 'Question', minWidth: 200 }, { field: 'op1', title: 'Option1', minWidth: 50 },\n\t\t{ field: 'op2', title: 'Option2', minWidth: 50 }, { field: 'op3', title: 'Option3', minWidth: 50 },\n\t\t{ field: 'op4', title: 'Option4', minWidth: 50 }, { field: 'correct', title: 'Correct Option', minWidth: 50 },\n\t];\n\tfunction createData(id, q, o1, o2, o3, o4, c) {\n\t\treturn { qid: id, ques: q, op1: o1, op2: o2, op3: o3, op4: o4, correct: c }\n\t}\n\tconst [rows, setRows] = React.useState([]);\n\n\tconst update = async(ndata, odata) => {\n\t\tconsole.log(ndata, odata);\n\t\tif(ndata.qid === odata.qid){\n\n\t\t\tlet error = false;\n\t\t\tif(ndata.ques.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 1\");\n\t\t\t}\n\t\t\tif(ndata.op1.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 2\");\n\t\t\t}\n\t\t\tif(ndata.op2.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 3\");\n\t\t\t}\n\t\t\tif(ndata.op3.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 4\");\n\t\t\t}\n\t\t\tif(ndata.op4.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 5\");\n\t\t\t}\n\t\t\tif(ndata.correct.length === 0){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 6\");\n\t\t\t}\n\t\t\tif(ndata.op1 === ndata.op2 || ndata.op1=== ndata.op3 || ndata.op1 === ndata.op4 || ndata.op2 === ndata.op3 || ndata.op2 === ndata.op4 || ndata.op3 === ndata.op4){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 7\");\n\t\t\t}\n\t\t\tif(!(ndata.correct === ndata.op1 || ndata.correct === ndata.op2 || ndata.correct === ndata.op3 || ndata.correct === ndata.op4)){\n\t\t\t\terror = true;\n\t\t\t\tconsole.log(\"No errors 8\");\n\t\t\t}\n\t\t\tif(!error){\n\t\t\t\tconsole.log(\"No errors\");\n\t\t\t\tlet token = localStorage.getItem('authToken');\n\t\t\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/questions/${ndata.qid}`\n\t\t\t\tlet data = {\n\t\t\t\t\t\"description\" : ndata.ques,\n\t\t\t\t\t\"correct_answer\" : ndata.correct,\n\t\t\t\t\t\"alternatives\" : [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : ndata.op1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : ndata.op2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : ndata.op3\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : ndata.op4\n\t\t\t\t\t\t}\n\t\t\t\t\t] \n\t\t\t\t}\n\t\t\t\tlet response = null;\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.put(url,data,{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"auth-token\" : token\n\t\t\t\t\t\t}}).then(res => {\n\t\t\t\t\t\tresponse = res;\n\t\t\t\t\t});\n\t\t\t\t\tif(response.status === 200) {\n\t\t\t\t\t\tgetAll();\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconst del = async(data) => {\n\t\tconsole.log(data);\n\t\tlet token = localStorage.getItem('authToken');\n\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/questions/${data.qid}`;\n\t\tlet response = null;\n\n\t\ttry {\n\t\t\tawait axios.delete(url, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"auth-token\": token\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tresponse = res;\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\tif(response.status === 204){\n\t\t\t\tgetAll();\n\t\t\t}\n\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t\tsetLoading(false);\n\t\tgetAll();\n\t}\n    \n\tconst getAll = async() => {\n\t\tlet token = localStorage.getItem('authToken');\n\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/questions`;\n\t\tlet response = null;\n\t\tlet i = 0;\n\t\tlet data = [];\n\t\tsetRows(null);\n\t\ttry {\n\t\t\tawait axios.get(url, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"auth-token\": token\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tresponse = res;\n\t\t\t});\n\t\t\tconsole.log(response);\n\t\t\tconsole.log(rows);\n\t\t\tif(response.status === 200){\n\t\t\t\tfor(i = 0; i < response.data.length; i++){\n\t\t\t\t\tvar id = response.data[i]._id;\n\t\t\t\t\tvar ques = response.data[i].description;\n\t\t\t\t\tvar correct = response.data[i].correct_answer;\n\t\t\t\t\tvar o1 = response.data[i].alternatives[0].text;\n\t\t\t\t\tvar o2 = response.data[i].alternatives[1].text;\n\t\t\t\t\tvar o3 = response.data[i].alternatives[2].text;\n\t\t\t\t\tvar o4 = response.data[i].alternatives[3].text;\n\t\t\t\t\t\n\t\t\t\t\tdata = [...data, createData(id,ques,o1,o2,o3,o4,correct)]\n\t\t\t\t}\n\t\t\t\tsetRows(data);\n\t\t\t\tconsole.log(rows);\n\t\t\t}\n\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t\tsetLoading(false);\n\t}\n\n    React.useEffect(() => {\n\t\tgetAll();\n    }, []);\n\n    return(\n        loading? <Loading />\n        :\n        <div style={{display:'flex', justifyContent: 'center'}}>\n            <MaterialTable\n\t\t\t title=\"Questions List\"\n\t\t\t columns={columns}\n\t\t\t data = {rows}\n\t\t\t style={{width:'90%', backgroundColor: '#4d4d4d', color: '#fff'}}\n\t\t\t options={{\n\t\t\t\t headerStyle: {\n\t\t\t\t\tbackgroundColor: '#353535',\n\t\t\t\t\tcolor: '#fff'\n\t\t\t\t },\n\t\t\t\t rowStyle: {\n\t\t\t\t\t color: '#ccc'\n\t\t\t\t }\n\t\t\t }}\n\t\t\t editable={{\n\t\t\t\tonRowUpdate: (newData, oldData) =>\n\t\t\t\t  new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t  resolve();\n\t\t\t\t\t  update(newData, oldData);\n\t\t\t\t\t}, 600);\n\t\t\t\t  }),\n\t\t\t\tonRowDelete: (oldData) =>\n\t\t\t\t  new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t  resolve();\n\t\t\t\t\t  del(oldData);\n\t\t\t\t\t}, 600);\n\t\t\t\t  }),\n\t\t\t  }}\n\t\t\t />\t\n\t\t\t\n\n\t\t\t{/* <Button variant=\"outlined\" className=\"btn-red\" onClick={handleClickOpen}>\n\t\t\t\tAdd New Question\n\t\t\t</Button>\n\n\t\t\t<Dialog PaperProps={{ style: { backgroundColor: '#2d2d2d', color: '#cfcfcf' } }} open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">Add Question</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\terror={quesError.length === 0? false: true}\n\t\t\t\t\t\thelperText={quesError.length === 0? null: quesError}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tid=\"ques\"\n\t\t\t\t\t\tlabel=\"Question\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tvalue={ques}\n\t\t\t\t\t\tonChange={handleQchange}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\terror={op1Error.length === 0? false: true}\n\t\t\t\t\t\thelperText={op1Error.length === 0? null: op1Error}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tid=\"op1\"\n\t\t\t\t\t\tlabel=\"Option 1\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handle1change}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\terror={op2Error.length === 0? false: true}\n\t\t\t\t\t\thelperText={op2Error.length === 0? null: op2Error}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tid=\"op2\"\n\t\t\t\t\t\tlabel=\"Option 2\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handle2change}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\terror={op3Error.length === 0? false: true}\n\t\t\t\t\t\thelperText={op3Error.length === 0? null: op3Error}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tid=\"op3\"\n\t\t\t\t\t\tlabel=\"Option 3\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handle3change}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\terror={op4Error.length === 0? false: true}\n\t\t\t\t\t\thelperText={op4Error.length === 0? null: op4Error}\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tid=\"op4\"\n\t\t\t\t\t\tlabel=\"Option 4\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonChange={handle4change}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl component=\"fieldset\">\n\t\t\t\t\t\t<FormLabel style={{ color: '#ffa2000', paddingTop: 20 }} component=\"legend\">Correct Option</FormLabel>\n\t\t\t\t\t\t<p style={{color: '#f44336', fontSize: 14, margin: 0}}>{valueError}</p>\n\t\t\t\t\t\t<RadioGroup aria-label=\"correct-choice\" value={value} onChange={handleChange} >\n\t\t\t\t\t\t\t<FormControlLabel value=\"op1\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 1\" />\n\t\t\t\t\t\t\t<FormControlLabel value=\"op2\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 2\" />\n\t\t\t\t\t\t\t<FormControlLabel value=\"op3\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 3\" />\n\t\t\t\t\t\t\t<FormControlLabel value=\"op4\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 4\" />\n\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<p style={{color: '#0f0', fontSize: 14, margin: 0}}>{submitResponse}</p>\n\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button onClick={handleClose} className=\"btn-orange\">\n\t\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t\t<Button onClick={handleSubmit} className=\"btn-orange\">\n\t\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog> */}\n\t\t</div>\n    )\n}"]},"metadata":{},"sourceType":"module"}