{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Admin.js\";\nimport React, { useEffect } from 'react';\nimport './Admin.css';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Radio, RadioGroup, FormControlLabel, FormControl, FormLabel, Grid } from '@material-ui/core';\nimport TextInput from \"../components/TextInput\";\nimport SubTable from \"../components/SubTable\";\nimport AllQues from \"../components/AllQues\";\nimport Loading from \"./Loading\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router';\n\nfunction Admin() {\n  const [open, setOpen] = React.useState(false);\n  const [openSub, setOpenSub] = React.useState(false);\n  const [openAdd, setOpenAdd] = React.useState(false);\n  const [value, setValue] = React.useState('none');\n  const [isAdmin, setAdmin] = React.useState(true);\n  const [loading, setLoading] = React.useState(true);\n  const [valueError, setValueError] = React.useState('');\n  const [ques, setQues] = React.useState('');\n  const [quesError, setQuesError] = React.useState('');\n  const [op1, setOp1] = React.useState('');\n  const [op1Error, setOp1Error] = React.useState('');\n  const [op2, setOp2] = React.useState('');\n  const [op2Error, setOp2Error] = React.useState('');\n  const [op3, setOp3] = React.useState('');\n  const [op3Error, setOp3Error] = React.useState('');\n  const [op4, setOp4] = React.useState('');\n  const [op4Error, setOp4Error] = React.useState('');\n  const [submitResponse, setSubmit] = React.useState('');\n  const errorText = \"This field cannot be empty\";\n\n  const checkAdmin = async () => {\n    let token = localStorage.getItem('authToken');\n\n    if (token == null) {\n      setAdmin(false);\n      setLoading(false);\n      return;\n    }\n\n    let url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n    let response = null;\n\n    try {\n      await axios.get(url, {\n        headers: {\n          \"auth-token\": token\n        }\n      }).then(res => {\n        response = res;\n      });\n      setAdmin(response.data.isAdmin);\n    } catch (error) {\n      console.log(error);\n      setAdmin(false);\n    }\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    checkAdmin();\n  }, []);\n\n  const handleChange = event => {\n    setValue(event.target.value);\n    setValueError('');\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClickOpenSub = () => {\n    setOpenSub(true);\n  };\n\n  const handleClickOpenAdd = () => {\n    setOpenAdd(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setOpenSub(false);\n    setOpenAdd(false);\n  };\n\n  const handleQchange = event => {\n    var s = event.target.value;\n    setQues(s);\n\n    if (s.length === 0) {\n      setQuesError(errorText);\n    } else {\n      setQuesError('');\n    }\n  };\n\n  const handle1change = event => {\n    var s = event.target.value;\n    setOp1(s);\n\n    if (s.length === 0) {\n      setOp1Error(errorText);\n    } else {\n      setOp1Error('');\n    }\n  };\n\n  const handle2change = event => {\n    var s = event.target.value;\n    setOp2(s);\n\n    if (s.length === 0) {\n      setOp2Error(errorText);\n    } else {\n      setOp2Error('');\n    }\n  };\n\n  const handle3change = event => {\n    var s = event.target.value;\n    setOp3(s);\n\n    if (s.length === 0) {\n      setOp3Error(errorText);\n    } else {\n      setOp3Error('');\n    }\n  };\n\n  const handle4change = event => {\n    var s = event.target.value;\n    setOp4(s);\n\n    if (s.length === 0) {\n      setOp4Error(errorText);\n    } else {\n      setOp4Error('');\n    }\n  };\n\n  const handleSubmit = async () => {\n    let error = false;\n    let val = \"none\";\n\n    if (ques.length === 0) {\n      setQuesError(errorText);\n      error = true;\n    }\n\n    if (op1.length === 0) {\n      setOp1Error(errorText);\n      error = true;\n    }\n\n    if (op2.length === 0) {\n      setOp2Error(errorText);\n      error = true;\n    }\n\n    if (op3.length === 0) {\n      setOp3Error(errorText);\n      error = true;\n    }\n\n    if (op4.length === 0) {\n      setOp4Error(errorText);\n      error = true;\n    }\n\n    if (op1 === op2 || op1 === op3 || op1 === op4 || op2 === op3 || op2 === op4 || op3 === op4) {\n      setValueError('Multiple same options');\n      error = true;\n    }\n\n    if (value === 'none') {\n      setValueError(errorText);\n      error = true;\n    } else if (value === 'op1') {\n      val = op1;\n    } else if (value === 'op2') {\n      val = op2;\n    } else if (value === 'op3') {\n      val = op3;\n    } else if (value === 'op4') {\n      val = op4;\n    }\n\n    if (!error) {\n      let token = localStorage.getItem('authToken');\n      let url = `https://scholastic-quiz-app.herokuapp.com/questions`;\n      let data = {\n        \"description\": ques,\n        \"correct_answer\": val,\n        \"alternatives\": [{\n          \"text\": op1\n        }, {\n          \"text\": op2\n        }, {\n          \"text\": op3\n        }, {\n          \"text\": op4\n        }]\n      };\n      let response = null;\n\n      try {\n        await axios.post(url, data, {\n          headers: {\n            \"auth-token\": token\n          }\n        }).then(res => {\n          response = res;\n        });\n\n        if (response.status === 201) {\n          setSubmit('Succesfully Submitted..');\n        } else {\n          setSubmit('Cannot Submit. Server error. Try later..');\n        }\n      } catch (error) {\n        console.log(error);\n      }\n\n      setSubmit('');\n      setTimeout(() => {\n        setOpen(false);\n        setSubmit('');\n      }, 800);\n    }\n  };\n\n  if (!isAdmin) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 4\n      }\n    });\n  } else {\n    return loading ? /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: 'center',\n        marginTop: 0,\n        textShadow: '0 0 15px #000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 6\n      }\n    }, \"Welcome to Admin Portal\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        height: 'calc(100vh - 116px)',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      style: {\n        width: '90%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      className: \"btn-red\",\n      onClick: handleClickOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 8\n      }\n    }, \"Add new question\")), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outlined\",\n      className: \"btn-blue\",\n      onClick: handleClickOpenSub,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 8\n      }\n    }, \"Show Submissions\")))), /*#__PURE__*/React.createElement(Dialog, {\n      PaperProps: {\n        style: {\n          backgroundColor: '#2d2d2d',\n          color: '#cfcfcf',\n          minWidth: '85%'\n        }\n      },\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"form-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 6\n      }\n    }, \"View All Questions\"), /*#__PURE__*/React.createElement(AllQues, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClose,\n      className: \"btn-orange\",\n      style: {\n        color: '#333 !important'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClickOpenAdd,\n      className: \"btn-orange\",\n      style: {\n        color: '#333'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 7\n      }\n    }, \"Add New Question\"))), /*#__PURE__*/React.createElement(Dialog, {\n      PaperProps: {\n        style: {\n          backgroundColor: '#2d2d2d',\n          color: '#cfcfcf',\n          minWidth: '60%'\n        }\n      },\n      open: openAdd,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"form-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 6\n      }\n    }, \"Add Question\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      autoFocus: true,\n      error: quesError.length === 0 ? false : true,\n      helperText: quesError.length === 0 ? null : quesError,\n      margin: \"dense\",\n      id: \"ques\",\n      label: \"Question\",\n      type: \"text\",\n      fullWidth: true,\n      variant: \"outlined\",\n      value: ques,\n      onChange: handleQchange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      error: op1Error.length === 0 ? false : true,\n      helperText: op1Error.length === 0 ? null : op1Error,\n      margin: \"dense\",\n      id: \"op1\",\n      label: \"Option 1\",\n      type: \"text\",\n      fullWidth: true,\n      variant: \"outlined\",\n      onChange: handle1change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      error: op2Error.length === 0 ? false : true,\n      helperText: op2Error.length === 0 ? null : op2Error,\n      margin: \"dense\",\n      id: \"op2\",\n      label: \"Option 2\",\n      type: \"text\",\n      fullWidth: true,\n      variant: \"outlined\",\n      onChange: handle2change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      error: op3Error.length === 0 ? false : true,\n      helperText: op3Error.length === 0 ? null : op3Error,\n      margin: \"dense\",\n      id: \"op3\",\n      label: \"Option 3\",\n      type: \"text\",\n      fullWidth: true,\n      variant: \"outlined\",\n      onChange: handle3change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      error: op4Error.length === 0 ? false : true,\n      helperText: op4Error.length === 0 ? null : op4Error,\n      margin: \"dense\",\n      id: \"op4\",\n      label: \"Option 4\",\n      type: \"text\",\n      fullWidth: true,\n      variant: \"outlined\",\n      onChange: handle4change,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormLabel, {\n      style: {\n        color: '#ffa2000',\n        paddingTop: 20\n      },\n      component: \"legend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"correct-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 84\n      }\n    }, \"Correct Option\")), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: '#f44336',\n        fontSize: 14,\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 8\n      }\n    }, valueError), /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"correct-choice\",\n      value: value,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"op1\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        style: {\n          color: '#ffa2000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 48\n        }\n      }),\n      label: \"Option 1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"op2\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        style: {\n          color: '#ffa2000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 48\n        }\n      }),\n      label: \"Option 2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"op3\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        style: {\n          color: '#ffa2000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 48\n        }\n      }),\n      label: \"Option 3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"op4\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        style: {\n          color: '#ffa2000'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 48\n        }\n      }),\n      label: \"Option 4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        color: '#0f0',\n        fontSize: 14,\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 7\n      }\n    }, submitResponse)), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClose,\n      className: \"btn-orange\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 7\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: handleSubmit,\n      className: \"btn-orange\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 7\n      }\n    }, \"Submit\"))), /*#__PURE__*/React.createElement(Dialog, {\n      PaperProps: {\n        style: {\n          backgroundColor: '#2d2d2d',\n          color: '#cfcfcf',\n          minWidth: '85%'\n        }\n      },\n      open: openSub,\n      onClose: handleClose,\n      \"aria-labelledby\": \"sub-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"sub-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 6\n      }\n    }, \"Submissions\"), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(SubTable, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClose,\n      className: \"btn-orange\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 7\n      }\n    }, \"Close\"))));\n  }\n}\n\nexport default Admin;","map":{"version":3,"sources":["/Users/mac/Documents/Projects/Scholastic-Quiz/src/pages/Admin.js"],"names":["React","useEffect","Button","Dialog","DialogActions","DialogContent","DialogTitle","Radio","RadioGroup","FormControlLabel","FormControl","FormLabel","Grid","TextInput","SubTable","AllQues","Loading","axios","Redirect","Admin","open","setOpen","useState","openSub","setOpenSub","openAdd","setOpenAdd","value","setValue","isAdmin","setAdmin","loading","setLoading","valueError","setValueError","ques","setQues","quesError","setQuesError","op1","setOp1","op1Error","setOp1Error","op2","setOp2","op2Error","setOp2Error","op3","setOp3","op3Error","setOp3Error","op4","setOp4","op4Error","setOp4Error","submitResponse","setSubmit","errorText","checkAdmin","token","localStorage","getItem","url","response","get","headers","then","res","data","error","console","log","handleChange","event","target","handleClickOpen","handleClickOpenSub","handleClickOpenAdd","handleClose","handleQchange","s","length","handle1change","handle2change","handle3change","handle4change","handleSubmit","val","post","status","setTimeout","textAlign","marginTop","textShadow","display","height","justifyContent","alignItems","width","style","backgroundColor","color","minWidth","paddingTop","fontSize","margin"],"mappings":"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","sourcesContent":["import React, {useEffect } from 'react';\nimport './Admin.css';\nimport {\n\tButton, Dialog, DialogActions,\n\tDialogContent, DialogTitle, \n\tRadio, RadioGroup,\n\tFormControlLabel, FormControl,\n\tFormLabel, Grid\n} from '@material-ui/core';\nimport TextInput from \"../components/TextInput\";\nimport SubTable from \"../components/SubTable\";\nimport AllQues from \"../components/AllQues\";\nimport Loading from \"./Loading\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router';\n\nfunction Admin() {\n\tconst [open, setOpen] = React.useState(false);\n\tconst [openSub, setOpenSub] = React.useState(false);\n\tconst [openAdd, setOpenAdd] = React.useState(false);\n\tconst [value, setValue] = React.useState('none');\n\n\tconst [isAdmin, setAdmin] = React.useState(true);\n\tconst [loading, setLoading] = React.useState(true);\n\n\tconst [valueError, setValueError] = React.useState('');\n\tconst [ques, setQues] = React.useState('');\n\tconst [quesError, setQuesError] = React.useState('');\n\tconst [op1, setOp1] = React.useState('');\n\tconst [op1Error, setOp1Error] = React.useState('');\n\tconst [op2, setOp2] = React.useState('');\n\tconst [op2Error, setOp2Error] = React.useState('');\n\tconst [op3, setOp3] = React.useState('');\n\tconst [op3Error, setOp3Error] = React.useState('');\n\tconst [op4, setOp4] = React.useState('');\n\tconst [op4Error, setOp4Error] = React.useState('');\n\tconst [submitResponse, setSubmit] = React.useState('');\n\t\n\n\n\tconst errorText = \"This field cannot be empty\";\n\n\tconst checkAdmin = async () => {\n\t\tlet token = localStorage.getItem('authToken');\n\n\t\tif(token == null) {\n\t\t\tsetAdmin(false);\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/checkAuth`;\n\t\tlet response = null;\n\n\t\ttry {\n\t\t\tawait axios.get(url, {\n\t\t\t\theaders: {\n\t\t\t\t\t\"auth-token\": token\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tresponse = res;\n\t\t\t});\n\n\t\t\tsetAdmin(response.data.isAdmin);\n\t\t} catch(error) {\n\t\t\tconsole.log(error);\n\t\t\tsetAdmin(false);\n\t\t}\n\n\t\tsetLoading(false);\n\t}\n\n\tuseEffect(() => {\n\t\tcheckAdmin();\n\t}, [])\n\n\tconst handleChange = (event) => {\n\t\tsetValue(event.target.value);\n\t\tsetValueError('');\n\t};\n\tconst handleClickOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleClickOpenSub = () => {\n\t\tsetOpenSub(true);\n\t};\n\tconst handleClickOpenAdd = () => {\n\t\tsetOpenAdd(true);\n\t};\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t\tsetOpenSub(false);\n\t\tsetOpenAdd(false);\n\t};\n\n\tconst handleQchange = (event) => {\n\t\tvar s = event.target.value;\n\t\tsetQues(s);\n\t\tif(s.length === 0){\n\t\t\tsetQuesError(errorText);\n\t\t}else{\n\t\t\tsetQuesError('');\n\t\t}\n\t};\n\tconst handle1change = (event) => {\n\t\tvar s = event.target.value;\n\t\tsetOp1(s);\n\t\tif(s.length === 0){\n\t\t\tsetOp1Error(errorText);\n\t\t}else{\n\t\t\tsetOp1Error('');\n\t\t}\n\t};\n\tconst handle2change = (event) => {\n\t\tvar s = event.target.value;\n\t\tsetOp2(s);\n\t\tif(s.length === 0){\n\t\t\tsetOp2Error(errorText);\n\t\t}else{\n\t\t\tsetOp2Error('');\n\t\t}\n\t};\n\tconst handle3change = (event) => {\n\t\tvar s = event.target.value;\n\t\tsetOp3(s);\n\t\tif(s.length === 0){\n\t\t\tsetOp3Error(errorText);\n\t\t}else{\n\t\t\tsetOp3Error('');\n\t\t}\n\t};\n\tconst handle4change = (event) => {\n\t\tvar s = event.target.value;\n\t\tsetOp4(s);\n\t\tif(s.length === 0){\n\t\t\tsetOp4Error(errorText);\n\t\t}else{\n\t\t\tsetOp4Error('');\n\t\t}\n\t};\n\n\tconst handleSubmit = async() => {\n\t\tlet error = false;\n\t\tlet val = \"none\";\n\t\tif(ques.length === 0){\n\t\t\tsetQuesError(errorText);\n\t\t\terror = true;\n\t\t}\n\t\tif(op1.length === 0){\n\t\t\tsetOp1Error(errorText);\n\t\t\terror = true;\n\t\t}\n\t\tif(op2.length === 0){\n\t\t\tsetOp2Error(errorText);\n\t\t\terror = true;\n\t\t}\n\t\tif(op3.length === 0){\n\t\t\tsetOp3Error(errorText);\n\t\t\terror = true;\n\t\t}\n\t\tif(op4.length === 0){\n\t\t\tsetOp4Error(errorText);\n\t\t\terror = true;\n\t\t}\n\t\tif(op1 === op2 || op1=== op3 || op1 === op4 || op2 === op3 || op2 === op4 || op3 === op4){\n\t\t\tsetValueError('Multiple same options');\n\t\t\terror = true;\n\t\t}\n\t\tif(value === 'none'){\n\t\t\tsetValueError(errorText);\n\t\t\terror = true;\n\t\t}else if(value === 'op1'){\n\t\t\tval = op1;\n\t\t}else if(value === 'op2'){\n\t\t\tval = op2;\n\t\t}else if(value === 'op3'){\n\t\t\tval = op3;\n\t\t}else if(value === 'op4'){\n\t\t\tval = op4;\n\t\t}\n\t\tif(!error){\n\t\t\t\tlet token = localStorage.getItem('authToken');\n\t\t\t\tlet url = `https://scholastic-quiz-app.herokuapp.com/questions`\n\t\t\t\tlet data = {\n\t\t\t\t\t\"description\" : ques,\n\t\t\t\t\t\"correct_answer\" : val,\n\t\t\t\t\t\"alternatives\" : [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : op1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : op2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : op3\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"text\" : op4\n\t\t\t\t\t\t}\n\t\t\t\t\t] \n\t\t\t\t}\n\t\t\t\tlet response = null;\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.post(url,data,{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"auth-token\" : token\n\t\t\t\t\t\t}}).then(res => {\n\t\t\t\t\t\tresponse = res;\n\t\t\t\t\t});\n\t\t\t\t\tif(response.status === 201) {\n\t\t\t\t\t\tsetSubmit('Succesfully Submitted..')\n\t\t\t\t\t}else{\n\t\t\t\t\t\tsetSubmit('Cannot Submit. Server error. Try later..')\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t\tsetSubmit('');\n\t\t\t\tsetTimeout(() => {setOpen(false);setSubmit('');}, 800);\n\t\t}\n\t};\n\n\tif(!isAdmin) {\n\t\treturn (\n\t\t\t<Redirect to=\"/\" />\n\t\t)\n\t} else { \n\t\treturn (\n\t\t\tloading? <Loading />\n\t\t\t:\n\t\t\t<div className=\"bg\">\n\t\t\t\t<div>\n\t\t\t\t\t<h2 style={{ textAlign: 'center', marginTop: 0, textShadow: '0 0 15px #000' }}>Welcome to Admin Portal</h2>\n\t\t\t\t</div>\n\t\t\t\t<div style={{ display: 'flex', height: 'calc(100vh - 116px)', justifyContent: 'center', alignItems: 'center' }}>\n\t\t\t\t\t<Grid container spacing={3} style={{ width: '90%' }}>\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n\t\t\t\t\t\t\t<Button variant=\"outlined\" className=\"btn-red\" onClick={handleClickOpen}>\n\t\t\t\t\t\t\t\tAdd new question\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n\t\t\t\t\t\t\t<Button variant=\"outlined\" className=\"btn-blue\" onClick={handleClickOpenSub}>\n\t\t\t\t\t\t\t\tShow Submissions\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\n\n\t\t\t\t</div>\n\t\t\t\t<Dialog PaperProps={{ style: { backgroundColor: '#2d2d2d', color: '#cfcfcf', minWidth: '85%'  } }} open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">View All Questions</DialogTitle>\n\t\t\t\t\t<AllQues />\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} className=\"btn-orange\" style={{color: '#333 !important'}}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={handleClickOpenAdd} className=\"btn-orange\" style={{color: '#333'}}>\n\t\t\t\t\t\t\tAdd New Question\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t\t\n\t\t\t\t<Dialog PaperProps={{ style: { backgroundColor: '#2d2d2d', color: '#cfcfcf', minWidth: '60%' } }} open={openAdd} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n\t\t\t\t\t<DialogTitle id=\"form-dialog-title\">Add Question</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\terror={quesError.length === 0? false: true}\n\t\t\t\t\t\t\thelperText={quesError.length === 0? null: quesError}\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"ques\"\n\t\t\t\t\t\t\tlabel=\"Question\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={ques}\n\t\t\t\t\t\t\tonChange={handleQchange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\terror={op1Error.length === 0? false: true}\n\t\t\t\t\t\t\thelperText={op1Error.length === 0? null: op1Error}\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"op1\"\n\t\t\t\t\t\t\tlabel=\"Option 1\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handle1change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\terror={op2Error.length === 0? false: true}\n\t\t\t\t\t\t\thelperText={op2Error.length === 0? null: op2Error}\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"op2\"\n\t\t\t\t\t\t\tlabel=\"Option 2\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handle2change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\terror={op3Error.length === 0? false: true}\n\t\t\t\t\t\t\thelperText={op3Error.length === 0? null: op3Error}\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"op3\"\n\t\t\t\t\t\t\tlabel=\"Option 3\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handle3change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\terror={op4Error.length === 0? false: true}\n\t\t\t\t\t\t\thelperText={op4Error.length === 0? null: op4Error}\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tid=\"op4\"\n\t\t\t\t\t\t\tlabel=\"Option 4\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tonChange={handle4change}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControl component=\"fieldset\">\n\t\t\t\t\t\t\t<FormLabel style={{ color: '#ffa2000', paddingTop: 20 }} component=\"legend\"><p className=\"correct-head\">Correct Option</p></FormLabel>\n\t\t\t\t\t\t\t<p style={{color: '#f44336', fontSize: 14, margin: 0}}>{valueError}</p>\n\t\t\t\t\t\t\t<RadioGroup aria-label=\"correct-choice\" value={value} onChange={handleChange} >\n\t\t\t\t\t\t\t\t<FormControlLabel value=\"op1\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 1\" />\n\t\t\t\t\t\t\t\t<FormControlLabel value=\"op2\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 2\" />\n\t\t\t\t\t\t\t\t<FormControlLabel value=\"op3\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 3\" />\n\t\t\t\t\t\t\t\t<FormControlLabel value=\"op4\" control={<Radio style={{color: '#ffa2000'}} />} label=\"Option 4\" />\n\t\t\t\t\t\t\t</RadioGroup>\n\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t<p style={{color: '#0f0', fontSize: 14, margin: 0}}>{submitResponse}</p>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} className=\"btn-orange\">\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={handleSubmit} className=\"btn-orange\">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\n\t\t\t\t</Dialog>\n\n\t\t\t\t<Dialog PaperProps={{ style: { backgroundColor: '#2d2d2d', color: '#cfcfcf', minWidth: '85%' } }} open={openSub} onClose={handleClose} aria-labelledby=\"sub-dialog-title\">\n\t\t\t\t\t<DialogTitle id=\"sub-dialog-title\">Submissions</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<SubTable />\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={handleClose} className=\"btn-orange\">\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}